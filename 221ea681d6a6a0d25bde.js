(self.webpackChunkvht11=self.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\pixi-scrollbox\\dist\\scrollbox.es"],{"./node_modules/pixi-scrollbox/dist/scrollbox.es.js":(t,i,o)=>{"use strict";o.r(i),o.d(i,{Scrollbox:()=>a});var s=o("./node_modules/pixi.js/lib/pixi.es.js"),r=o("./node_modules/pixi-viewport/dist/viewport.es.js"),e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o.g?o.g:"undefined"!=typeof self?self:{};var l,n=(function(t,i){(function(){var i,o;o=i={linear:function(t,i,o,s){return o*t/s+i},easeInQuad:function(t,i,o,s){return o*(t/=s)*t+i},easeOutQuad:function(t,i,o,s){return-o*(t/=s)*(t-2)+i},easeInOutQuad:function(t,i,o,s){return(t/=s/2)<1?o/2*t*t+i:-o/2*(--t*(t-2)-1)+i},easeInCubic:function(t,i,o,s){return o*(t/=s)*t*t+i},easeOutCubic:function(t,i,o,s){return o*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(t,i,o,s){return(t/=s/2)<1?o/2*t*t*t+i:o/2*((t-=2)*t*t+2)+i},easeInQuart:function(t,i,o,s){return o*(t/=s)*t*t*t+i},easeOutQuart:function(t,i,o,s){return-o*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(t,i,o,s){return(t/=s/2)<1?o/2*t*t*t*t+i:-o/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(t,i,o,s){return o*(t/=s)*t*t*t*t+i},easeOutQuint:function(t,i,o,s){return o*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(t,i,o,s){return(t/=s/2)<1?o/2*t*t*t*t*t+i:o/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(t,i,o,s){return-o*Math.cos(t/s*(Math.PI/2))+o+i},easeOutSine:function(t,i,o,s){return o*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(t,i,o,s){return-o/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(t,i,o,s){return 0===t?i:o*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(t,i,o,s){return t===s?i+o:o*(1-Math.pow(2,-10*t/s))+i},easeInOutExpo:function(t,i,o,s){return(t/=s/2)<1?o/2*Math.pow(2,10*(t-1))+i:o/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(t,i,o,s){return-o*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(t,i,o,s){return o*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(t,i,o,s){return(t/=s/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+i:o/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(t,i,o,s){var r,e,l;return l=1.70158,0===t||(t/=s),(e=0)||(e=.3*s),(r=o)<Math.abs(o)?(r=o,l=e/4):l=e/(2*Math.PI)*Math.asin(o/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/e)+i},easeOutElastic:function(t,i,o,s){var r,e,l;return l=1.70158,0===t||(t/=s),(e=0)||(e=.3*s),(r=o)<Math.abs(o)?(r=o,l=e/4):l=e/(2*Math.PI)*Math.asin(o/r),r*Math.pow(2,-10*t)*Math.sin((t*s-l)*(2*Math.PI)/e)+o+i},easeInOutElastic:function(t,i,o,s){var r,e,l;return l=1.70158,0===t||(t/=s/2),(e=0)||(e=s*(.3*1.5)),(r=o)<Math.abs(o)?(r=o,l=e/4):l=e/(2*Math.PI)*Math.asin(o/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/e)*-.5+i:r*Math.pow(2,-10*(t-=1))*Math.sin((t*s-l)*(2*Math.PI)/e)*.5+o+i},easeInBack:function(t,i,o,s,r){return void 0===r&&(r=1.70158),o*(t/=s)*t*((r+1)*t-r)+i},easeOutBack:function(t,i,o,s,r){return void 0===r&&(r=1.70158),o*((t=t/s-1)*t*((r+1)*t+r)+1)+i},easeInOutBack:function(t,i,o,s,r){return void 0===r&&(r=1.70158),(t/=s/2)<1?o/2*(t*t*((1+(r*=1.525))*t-r))+i:o/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+i},easeInBounce:function(t,o,s,r){return s-i.easeOutBounce(r-t,0,s,r)+o},easeOutBounce:function(t,i,o,s){return(t/=s)<1/2.75?o*(7.5625*t*t)+i:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+i:o*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(t,o,s,r){return t<r/2?.5*i.easeInBounce(2*t,0,s,r)+o:.5*i.easeOutBounce(2*t-r,0,s,r)+.5*s+o}},t.exports=o}).call(e)}(l={exports:{}},l.exports),l.exports);const h={boxWidth:100,boxHeight:100,scrollbarSize:10,scrollbarBackground:14540253,scrollbarBackgroundAlpha:1,scrollbarForeground:8947848,scrollbarForegroundAlpha:1,dragScroll:!0,stopPropagation:!0,scrollbarOffsetHorizontal:0,scrollbarOffsetVertical:0,underflow:"top-left",fadeScrollbar:!1,fadeScrollbarTime:1e3,fadeScrollboxWait:3e3,fadeScrollboxEase:"easeInOutSine",passiveWheel:!1,clampWheel:!0};class a extends s.Container{constructor(t={}){if(super(),this.options=Object.assign({},h,t),t.overflow&&(this.options.overflowX=this.options.overflowY=t.overflow),this.ease="function"==typeof this.options.fadeScrollboxEase?this.options.fadeScrollboxEase:n[this.options.fadeScrollboxEase],this.content=this.addChild(new r.Viewport({passiveWheel:this.options.passiveWheel,stopPropagation:this.options.stopPropagation,screenWidth:this.options.boxWidth,screenHeight:this.options.boxHeight,interaction:this.options.interaction})),this.content.decelerate().on("moved",(()=>this._drawScrollbars())),t.ticker)this.options.ticker=t.ticker;else{let i;const o=s;i=parseInt(/^(\d+)\./.exec(s.VERSION)[1])<5?o.ticker.shared:o.Ticker.shared,this.options.ticker=t.ticker||i}this.scrollbar=this.addChild(new s.Graphics),this.scrollbar.interactive=!0,this.scrollbar.on("pointerdown",this.scrollbarDown,this),this.interactive=!0,this.on("pointermove",this.scrollbarMove,this),this.on("pointerup",this.scrollbarUp,this),this.on("pointercancel",this.scrollbarUp,this),this.on("pointerupoutside",this.scrollbarUp,this),this._maskContent=this.addChild(new s.Graphics),this.update(),this.options.noTicker||(this.tickerFunction=()=>this.updateLoop(Math.min(this.options.ticker.elapsedMS,16.6667)),this.options.ticker.add(this.tickerFunction))}get scrollbarOffsetHorizontal(){return this.options.scrollbarOffsetHorizontal}set scrollbarOffsetHorizontal(t){this.options.scrollbarOffsetHorizontal=t}get scrollbarOffsetVertical(){return this.options.scrollbarOffsetVertical}set scrollbarOffsetVertical(t){this.options.scrollbarOffsetVertical=t}get disable(){return this._disabled}set disable(t){this._disabled!==t&&(this._disabled=t,this.update())}get stopPropagation(){return this.options.stopPropagation}set stopPropagation(t){this.options.stopPropagation=t}get dragScroll(){return this.options.dragScroll}set dragScroll(t){this.options.dragScroll=t,t?this.content.drag():void 0!==this.content.removePlugin?this.content.removePlugin("drag"):this.content.plugins.remove("drag"),this.update()}get boxWidth(){return this.options.boxWidth}set boxWidth(t){this.options.boxWidth=t,this.content.screenWidth=t,this.update()}get overflow(){return this.options.overflow}set overflow(t){this.options.overflow=t,this.options.overflowX=t,this.options.overflowY=t,this.update()}get overflowX(){return this.options.overflowX}set overflowX(t){this.options.overflowX=t,this.update()}get overflowY(){return this.options.overflowY}set overflowY(t){this.options.overflowY=t,this.update()}get boxHeight(){return this.options.boxHeight}set boxHeight(t){this.options.boxHeight=t,this.content.screenHeight=t,this.update()}get scrollbarSize(){return this.options.scrollbarSize}set scrollbarSize(t){this.options.scrollbarSize=t}get contentWidth(){return this.options.boxWidth-(this.isScrollbarVertical?this.options.scrollbarSize:0)}get contentHeight(){return this.options.boxHeight-(this.isScrollbarHorizontal?this.options.scrollbarSize:0)}get isScrollbarVertical(){return this._isScrollbarVertical}get isScrollbarHorizontal(){return this._isScrollbarHorizontal}get scrollTop(){return this.content.top}set scrollTop(t){this.content.top=t,this._drawScrollbars()}get scrollLeft(){return this.content.left}set scrollLeft(t){this.content.left=t,this._drawScrollbars()}get scrollWidth(){return this._scrollWidth||this.content.width}set scrollWidth(t){this._scrollWidth=t}get scrollHeight(){return this._scrollHeight||this.content.height}set scrollHeight(t){this._scrollHeight=t}_drawScrollbars(){this._isScrollbarHorizontal="scroll"===this.overflowX||-1===["hidden","none"].indexOf(this.overflowX)&&this.scrollWidth>this.options.boxWidth,this._isScrollbarVertical="scroll"===this.overflowY||-1===["hidden","none"].indexOf(this.overflowY)&&this.scrollHeight>this.options.boxHeight,this.scrollbar.clear();let t={left:0};t.right=this.scrollWidth+(this._isScrollbarVertical?this.options.scrollbarSize:0),t.top=0,t.bottom=this.scrollHeight+(this.isScrollbarHorizontal?this.options.scrollbarSize:0);const i=this.scrollWidth+(this.isScrollbarVertical?this.options.scrollbarSize:0),o=this.scrollHeight+(this.isScrollbarHorizontal?this.options.scrollbarSize:0);this.scrollbarTop=this.content.top/o*this.boxHeight,this.scrollbarTop=this.scrollbarTop<0?0:this.scrollbarTop,this.scrollbarHeight=this.boxHeight/o*this.boxHeight,this.scrollbarHeight=this.scrollbarTop+this.scrollbarHeight>this.boxHeight?this.boxHeight-this.scrollbarTop:this.scrollbarHeight,this.scrollbarLeft=this.content.left/i*this.boxWidth,this.scrollbarLeft=this.scrollbarLeft<0?0:this.scrollbarLeft,this.scrollbarWidth=this.boxWidth/i*this.boxWidth,this.scrollbarWidth=this.scrollbarWidth+this.scrollbarLeft>this.boxWidth?this.boxWidth-this.scrollbarLeft:this.scrollbarWidth,this.isScrollbarVertical&&this.scrollbar.beginFill(this.options.scrollbarBackground,this.options.scrollbarBackgroundAlpha).drawRect(this.boxWidth-this.scrollbarSize+this.options.scrollbarOffsetVertical,0,this.scrollbarSize,this.boxHeight).endFill(),this.isScrollbarHorizontal&&this.scrollbar.beginFill(this.options.scrollbarBackground,this.options.scrollbarBackgroundAlpha).drawRect(0,this.boxHeight-this.scrollbarSize+this.options.scrollbarOffsetHorizontal,this.boxWidth,this.scrollbarSize).endFill(),this.isScrollbarVertical&&this.scrollbar.beginFill(this.options.scrollbarForeground,this.options.scrollbarForegroundAlpha).drawRect(this.boxWidth-this.scrollbarSize+this.options.scrollbarOffsetVertical,this.scrollbarTop,this.scrollbarSize,this.scrollbarHeight).endFill(),this.isScrollbarHorizontal&&this.scrollbar.beginFill(this.options.scrollbarForeground,this.options.scrollbarForegroundAlpha).drawRect(this.scrollbarLeft,this.boxHeight-this.scrollbarSize+this.options.scrollbarOffsetHorizontal,this.scrollbarWidth,this.scrollbarSize).endFill(),this.activateFade()}_drawMask(){this._maskContent.beginFill(0).drawRect(0,0,this.boxWidth,this.boxHeight).endFill(),this.content.mask=this._maskContent}update(){if(this.content.mask=null,this._maskContent.clear(),!this._disabled){this._drawScrollbars(),this._drawMask();const t=this.isScrollbarHorizontal&&this.isScrollbarVertical?"all":this.isScrollbarHorizontal?"x":"y";null!==t&&(this.options.dragScroll&&this.content.drag({clampWheel:this.options.clampWheel,direction:t}),this.content.clamp({direction:t,underflow:this.options.underflow}))}}updateLoop(t){if(this.fade){if(this.fade.wait>0){if(this.fade.wait-=t,!(this.fade.wait<=0))return;t+=this.fade.wait}this.fade.duration+=t,this.fade.duration>=this.options.fadeScrollbarTime?(this.fade=null,this.scrollbar.alpha=0):this.scrollbar.alpha=this.ease(this.fade.duration,1,-1,this.options.fadeScrollbarTime),this.content.dirty=!0}}get dirty(){return this.content.dirty}set dirty(t){this.content.dirty=t}activateFade(){!this.fade&&this.options.fade&&(this.scrollbar.alpha=1,this.fade={wait:this.options.fadeScrollboxWait,duration:0})}scrollbarDown(t){const i=this.toLocal(t.data.global);return this.isScrollbarHorizontal&&i.y>this.boxHeight-this.scrollbarSize?(i.x>=this.scrollbarLeft&&i.x<=this.scrollbarLeft+this.scrollbarWidth?this.pointerDown={type:"horizontal",last:i}:i.x>this.scrollbarLeft?(this.content.left+=this.content.worldScreenWidth,this.update()):(this.content.left-=this.content.worldScreenWidth,this.update()),void(this.options.stopPropagation&&t.stopPropagation())):this.isScrollbarVertical&&i.x>this.boxWidth-this.scrollbarSize?(i.y>=this.scrollbarTop&&i.y<=this.scrollbarTop+this.scrollbarWidth?this.pointerDown={type:"vertical",last:i}:i.y>this.scrollbarTop?(this.content.top+=this.content.worldScreenHeight,this.update()):(this.content.top-=this.content.worldScreenHeight,this.update()),void(this.options.stopPropagation&&t.stopPropagation())):void 0}scrollbarMove(t){if(this.pointerDown){if("horizontal"===this.pointerDown.type){const i=this.toLocal(t.data.global),o=this.scrollWidth+(this.isScrollbarVertical?this.options.scrollbarSize:0);this.scrollbarLeft+=i.x-this.pointerDown.last.x,this.content.left=this.scrollbarLeft/this.boxWidth*o,this.pointerDown.last=i,this.update()}else if("vertical"===this.pointerDown.type){const i=this.toLocal(t.data.global),o=this.scrollHeight+(this.isScrollbarHorizontal?this.options.scrollbarSize:0);this.scrollbarTop+=i.y-this.pointerDown.last.y,this.content.top=this.scrollbarTop/this.boxHeight*o,this.pointerDown.last=i,this.update()}this.options.stopPropagation&&t.stopPropagation()}}scrollbarUp(){this.pointerDown=null}resize(t){this.options.boxWidth=void 0!==t.boxWidth?t.boxWidth:this.options.boxWidth,this.options.boxHeight=void 0!==t.boxHeight?t.boxHeight:this.options.boxHeight,t.scrollWidth&&(this.scrollWidth=t.scrollWidth),t.scrollHeight&&(this.scrollHeight=t.scrollHeight),this.content.resize(this.options.boxWidth,this.options.boxHeight,this.scrollWidth,this.scrollHeight),this.update()}ensureVisible(t,i,o,s){this.content.ensureVisible(t,i,o,s),this._drawScrollbars()}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9waXhpLXNjcm9sbGJveC9kaXN0L3Njcm9sbGJveC5lcy5qcyJdLCJuYW1lcyI6WyJjb21tb25qc0dsb2JhbCIsImdsb2JhbFRoaXMiLCJ3aW5kb3ciLCJnIiwic2VsZiIsIm1vZHVsZSIsInBlbm5lciIsImV4cG9ydHMiLCJmYWN0b3J5IiwibGluZWFyIiwidCIsImIiLCJjIiwiZCIsImVhc2VJblF1YWQiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1YWQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiLCJlYXNlSW5TaW5lIiwiTWF0aCIsImNvcyIsIlBJIiwiZWFzZU91dFNpbmUiLCJzaW4iLCJlYXNlSW5PdXRTaW5lIiwiZWFzZUluRXhwbyIsInBvdyIsImVhc2VPdXRFeHBvIiwiZWFzZUluT3V0RXhwbyIsImVhc2VJbkNpcmMiLCJzcXJ0IiwiZWFzZU91dENpcmMiLCJlYXNlSW5PdXRDaXJjIiwiZWFzZUluRWxhc3RpYyIsImEiLCJwIiwicyIsImFicyIsImFzaW4iLCJlYXNlT3V0RWxhc3RpYyIsImVhc2VJbk91dEVsYXN0aWMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZUluQm91bmNlIiwiZWFzZU91dEJvdW5jZSIsImVhc2VJbk91dEJvdW5jZSIsImNhbGwiLCJmbiIsInNjcm9sbGJveE9wdGlvbnMiLCJTY3JvbGxib3giLCJDb250YWluZXIiLCJvcHRpb25zIiwic3VwZXIiLCJ0aGlzIiwiT2JqZWN0IiwiYXNzaWduIiwib3ZlcmZsb3ciLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJlYXNlIiwiZmFkZVNjcm9sbGJveEVhc2UiLCJjb250ZW50IiwiYWRkQ2hpbGQiLCJWaWV3cG9ydCIsInBhc3NpdmVXaGVlbCIsInN0b3BQcm9wYWdhdGlvbiIsInNjcmVlbldpZHRoIiwiYm94V2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJib3hIZWlnaHQiLCJpbnRlcmFjdGlvbiIsImRlY2VsZXJhdGUiLCJvbiIsIl9kcmF3U2Nyb2xsYmFycyIsInRpY2tlciIsInBpeGlOUyIsInBhcnNlSW50IiwiZXhlYyIsIlZFUlNJT04iLCJzaGFyZWQiLCJUaWNrZXIiLCJzY3JvbGxiYXIiLCJHcmFwaGljcyIsImludGVyYWN0aXZlIiwic2Nyb2xsYmFyRG93biIsInNjcm9sbGJhck1vdmUiLCJzY3JvbGxiYXJVcCIsIl9tYXNrQ29udGVudCIsInVwZGF0ZSIsIm5vVGlja2VyIiwidGlja2VyRnVuY3Rpb24iLCJ1cGRhdGVMb29wIiwibWluIiwiZWxhcHNlZE1TIiwiYWRkIiwic2Nyb2xsYmFyT2Zmc2V0SG9yaXpvbnRhbCIsInZhbHVlIiwic2Nyb2xsYmFyT2Zmc2V0VmVydGljYWwiLCJfZGlzYWJsZWQiLCJkcmFnU2Nyb2xsIiwiZHJhZyIsInJlbW92ZVBsdWdpbiIsInBsdWdpbnMiLCJyZW1vdmUiLCJzY3JvbGxiYXJTaXplIiwiaXNTY3JvbGxiYXJWZXJ0aWNhbCIsImlzU2Nyb2xsYmFySG9yaXpvbnRhbCIsIl9pc1Njcm9sbGJhclZlcnRpY2FsIiwiX2lzU2Nyb2xsYmFySG9yaXpvbnRhbCIsInRvcCIsImxlZnQiLCJfc2Nyb2xsV2lkdGgiLCJ3aWR0aCIsIl9zY3JvbGxIZWlnaHQiLCJoZWlnaHQiLCJpbmRleE9mIiwic2Nyb2xsV2lkdGgiLCJzY3JvbGxIZWlnaHQiLCJjbGVhciIsInJpZ2h0IiwiYm90dG9tIiwic2Nyb2xsYmFyVG9wIiwic2Nyb2xsYmFySGVpZ2h0Iiwic2Nyb2xsYmFyTGVmdCIsInNjcm9sbGJhcldpZHRoIiwiYmVnaW5GaWxsIiwic2Nyb2xsYmFyQmFja2dyb3VuZCIsInNjcm9sbGJhckJhY2tncm91bmRBbHBoYSIsImRyYXdSZWN0IiwiZW5kRmlsbCIsInNjcm9sbGJhckZvcmVncm91bmQiLCJzY3JvbGxiYXJGb3JlZ3JvdW5kQWxwaGEiLCJhY3RpdmF0ZUZhZGUiLCJtYXNrIiwiX2RyYXdNYXNrIiwiZGlyZWN0aW9uIiwiY2xhbXBXaGVlbCIsImNsYW1wIiwidW5kZXJmbG93IiwiZWxhcHNlZCIsImZhZGUiLCJ3YWl0IiwiZHVyYXRpb24iLCJmYWRlU2Nyb2xsYmFyVGltZSIsImFscGhhIiwiZGlydHkiLCJmYWRlU2Nyb2xsYm94V2FpdCIsImUiLCJsb2NhbCIsInRvTG9jYWwiLCJkYXRhIiwiZ2xvYmFsIiwieSIsIngiLCJwb2ludGVyRG93biIsInR5cGUiLCJsYXN0Iiwid29ybGRTY3JlZW5XaWR0aCIsIndvcmxkU2NyZWVuSGVpZ2h0IiwicmVzaXplIiwiZW5zdXJlVmlzaWJsZSJdLCJtYXBwaW5ncyI6IjRXQUlJQSxFQUF1QyxvQkFBZkMsV0FBNkJBLFdBQStCLG9CQUFYQyxPQUF5QkEsWUFBMkIsSUFBWCxFQUFBQyxFQUF5QixFQUFBQSxFQUF5QixvQkFBVEMsS0FBdUJBLEtBQU8sR0FPN0wsSUFKTUMsRUFJRkMsR0FBOEIsU0FBVUQsRUFBUUUsSUE0QnBELFdBQ0UsSUFBSUQsRUFFV0UsSUFNZkYsRUFBUyxDQUNQRyxPQUFRLFNBQVNDLEVBQUdDLEVBQUdDLEVBQUdDLEdBQ3hCLE9BQU9ELEVBQUlGLEVBQUlHLEVBQUlGLEdBRXJCRyxXQUFZLFNBQVNKLEVBQUdDLEVBQUdDLEVBQUdDLEdBQzVCLE9BQU9ELEdBQUtGLEdBQUtHLEdBQUtILEVBQUlDLEdBRTVCSSxZQUFhLFNBQVNMLEVBQUdDLEVBQUdDLEVBQUdDLEdBQzdCLE9BQVFELEdBQUtGLEdBQUtHLElBQU1ILEVBQUksR0FBS0MsR0FFbkNLLGNBQWUsU0FBU04sRUFBR0MsRUFBR0MsRUFBR0MsR0FDL0IsT0FBS0gsR0FBS0csRUFBSSxHQUFLLEVBQ1ZELEVBQUksRUFBSUYsRUFBSUEsRUFBSUMsR0FFZkMsRUFBSSxLQUFRRixHQUFNQSxFQUFJLEdBQUssR0FBS0MsR0FHNUNN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RyxLQUFLcUcsWUFBWUUsS0FBS0osRUFDckRuRyxLQUFLUSxRQUFRZ0QsSUFBTXhELEtBQUtvRSxhQUFlcEUsS0FBS2dCLFVBQVk2QyxFQUN4RDdELEtBQUtxRyxZQUFZRSxLQUFPUixFQUN4Qi9GLEtBQUttQyxTQUVMbkMsS0FBS0YsUUFBUWMsaUJBRWJrRixFQUFFbEYsbUJBU2QsY0FFSVosS0FBS3FHLFlBQWMsS0FXdkIsT0FBT3ZHLEdBRUhFLEtBQUtGLFFBQVFnQixjQUF1QyxJQUFyQmhCLEVBQVFnQixTQUEyQmhCLEVBQVFnQixTQUFXZCxLQUFLRixRQUFRZ0IsU0FDbEdkLEtBQUtGLFFBQVFrQixlQUF5QyxJQUF0QmxCLEVBQVFrQixVQUE0QmxCLEVBQVFrQixVQUFZaEIsS0FBS0YsUUFBUWtCLFVBQ2pHbEIsRUFBUWlFLGNBRVIvRCxLQUFLK0QsWUFBY2pFLEVBQVFpRSxhQUUzQmpFLEVBQVFrRSxlQUVSaEUsS0FBS2dFLGFBQWVsRSxFQUFRa0UsY0FFaENoRSxLQUFLUSxRQUFRa0csT0FBTzFHLEtBQUtGLFFBQVFnQixTQUFVZCxLQUFLRixRQUFRa0IsVUFBV2hCLEtBQUsrRCxZQUFhL0QsS0FBS2dFLGNBQzFGaEUsS0FBS21DLFNBVVQsY0FBY2lFLEVBQUdELEVBQUd4QyxFQUFPRSxHQUV2QjdELEtBQUtRLFFBQVFtRyxjQUFjUCxFQUFHRCxFQUFHeEMsRUFBT0UsR0FDeEM3RCxLQUFLb0IiLCJmaWxlIjoiMjIxZWE2ODFkNmE2YTBkMjViZGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0IHsgQ29udGFpbmVyLCBWRVJTSU9OLCBHcmFwaGljcyB9IGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0IHsgVmlld3BvcnQgfSBmcm9tICdwaXhpLXZpZXdwb3J0JztcblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuKSB7XG4gIHZhciBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH07XG5cdHJldHVybiBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciBwZW5uZXIgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4vKlxuXHRDb3B5cmlnaHQgwqkgMjAwMSBSb2JlcnQgUGVubmVyXG5cdEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cblx0UmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgXG5cdGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcblxuXHRSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBcblx0Y29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuXHRSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBcblx0b2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgXG5cdHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuXHROZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBhdXRob3Igbm9yIHRoZSBuYW1lcyBvZiBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBcblx0b3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cblxuXHRUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkQgQU5ZIFxuXHRFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0Zcblx0TUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5cdENPUFlSSUdIVCBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCxcblx0RVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFXG5cdEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBcblx0QU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcblx0TkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgXG5cdE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBwZW5uZXIsIHVtZDtcblxuICB1bWQgPSBmdW5jdGlvbihmYWN0b3J5KSB7XG4gICAge1xuICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeTtcbiAgICB9XG4gIH07XG5cbiAgcGVubmVyID0ge1xuICAgIGxpbmVhcjogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiB0IC8gZCArIGI7XG4gICAgfSxcbiAgICBlYXNlSW5RdWFkOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVhc2VJblF1YXJ0OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcbiAgICB9LFxuICAgIGVhc2VPdXRRdWFydDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5RdWludDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dFF1aW50OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5TaW5lOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0U2luZTogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbkV4cG86IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICh0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlT3V0RXhwbzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgaWYgKHQgPT09IGQpIHtcbiAgICAgICAgcmV0dXJuIGIgKyBjO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluQ2lyYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcbiAgICB9LFxuICAgIGVhc2VPdXRDaXJjOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluT3V0Q2lyYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5FbGFzdGljOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICB2YXIgYSwgcCwgcztcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgICAgcCA9IDA7XG4gICAgICBhID0gYztcbiAgICAgIGlmICh0ID09PSAwKSA7IGVsc2UgaWYgKCh0IC89IGQpID09PSAxKSA7XG4gICAgICBpZiAoIXApIHtcbiAgICAgICAgcCA9IGQgKiAuMztcbiAgICAgIH1cbiAgICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgYSA9IGM7XG4gICAgICAgIHMgPSBwIC8gNDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHZhciBhLCBwLCBzO1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgICBwID0gMDtcbiAgICAgIGEgPSBjO1xuICAgICAgaWYgKHQgPT09IDApIDsgZWxzZSBpZiAoKHQgLz0gZCkgPT09IDEpIDtcbiAgICAgIGlmICghcCkge1xuICAgICAgICBwID0gZCAqIC4zO1xuICAgICAgfVxuICAgICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICBhID0gYztcbiAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIGMgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluT3V0RWxhc3RpYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgdmFyIGEsIHAsIHM7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICAgIHAgPSAwO1xuICAgICAgYSA9IGM7XG4gICAgICBpZiAodCA9PT0gMCkgOyBlbHNlIGlmICgodCAvPSBkIC8gMikgPT09IDIpIDtcbiAgICAgIGlmICghcCkge1xuICAgICAgICBwID0gZCAqICguMyAqIDEuNSk7XG4gICAgICB9XG4gICAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgIGEgPSBjO1xuICAgICAgICBzID0gcCAvIDQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgfVxuICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgIHJldHVybiAtLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAuNSArIGMgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluQmFjazogZnVuY3Rpb24odCwgYiwgYywgZCwgcykge1xuICAgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgICBzID0gMS43MDE1ODtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogKChzICsgMSkgKiB0IC0gcykgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dEJhY2s6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgICAgcyA9IDEuNzAxNTg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAxKSArIGI7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRCYWNrOiBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7XG4gICAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHMgPSAxLjcwMTU4O1xuICAgICAgfVxuICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKHQgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgLSBzKSkgKyBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0ICsgcykgKyAyKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5Cb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHZhciB2O1xuICAgICAgdiA9IHBlbm5lci5lYXNlT3V0Qm91bmNlKGQgLSB0LCAwLCBjLCBkKTtcbiAgICAgIHJldHVybiBjIC0gdiArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICBpZiAoKHQgLz0gZCkgPCAxIC8gMi43NSkge1xuICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuICAgICAgfSBlbHNlIGlmICh0IDwgMiAvIDIuNzUpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgLjc1KSArIGI7XG4gICAgICB9IGVsc2UgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG4gICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDIuMjUgLyAyLjc1KSAqIHQgKyAuOTM3NSkgKyBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi42MjUgLyAyLjc1KSAqIHQgKyAuOTg0Mzc1KSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5PdXRCb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHZhciB2O1xuICAgICAgaWYgKHQgPCBkIC8gMikge1xuICAgICAgICB2ID0gcGVubmVyLmVhc2VJbkJvdW5jZSh0ICogMiwgMCwgYywgZCk7XG4gICAgICAgIHJldHVybiB2ICogLjUgKyBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdiA9IHBlbm5lci5lYXNlT3V0Qm91bmNlKHQgKiAyIC0gZCwgMCwgYywgZCk7XG4gICAgICAgIHJldHVybiB2ICogLjUgKyBjICogLjUgKyBiO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB1bWQocGVubmVyKTtcblxufSkuY2FsbChjb21tb25qc0dsb2JhbCk7XG59KTtcblxuY29uc3Qgc2Nyb2xsYm94T3B0aW9ucyA9IHtcbiAgICAnYm94V2lkdGgnOiAxMDAsXG4gICAgJ2JveEhlaWdodCc6IDEwMCxcbiAgICAnc2Nyb2xsYmFyU2l6ZSc6IDEwLFxuICAgICdzY3JvbGxiYXJCYWNrZ3JvdW5kJzogMTQ1NDAyNTMsXG4gICAgJ3Njcm9sbGJhckJhY2tncm91bmRBbHBoYSc6IDEsXG4gICAgJ3Njcm9sbGJhckZvcmVncm91bmQnOiA4OTQ3ODQ4LFxuICAgICdzY3JvbGxiYXJGb3JlZ3JvdW5kQWxwaGEnOiAxLFxuICAgICdkcmFnU2Nyb2xsJzogdHJ1ZSxcbiAgICAnc3RvcFByb3BhZ2F0aW9uJzogdHJ1ZSxcbiAgICAnc2Nyb2xsYmFyT2Zmc2V0SG9yaXpvbnRhbCc6IDAsXG4gICAgJ3Njcm9sbGJhck9mZnNldFZlcnRpY2FsJzogMCxcbiAgICAndW5kZXJmbG93JzogJ3RvcC1sZWZ0JyxcbiAgICAnZmFkZVNjcm9sbGJhcic6IGZhbHNlLFxuICAgICdmYWRlU2Nyb2xsYmFyVGltZSc6IDEwMDAsXG4gICAgJ2ZhZGVTY3JvbGxib3hXYWl0JzogMzAwMCxcbiAgICAnZmFkZVNjcm9sbGJveEVhc2UnOiAnZWFzZUluT3V0U2luZScsXG4gICAgJ3Bhc3NpdmVXaGVlbCc6IGZhbHNlLFxuICAgICdjbGFtcFdoZWVsJzogdHJ1ZVxufTtcblxuLyoqXG4gKiBwaXhpLmpzIHNjcm9sbGJveDogYSBtYXNrZWQgY29udGVudCBib3ggdGhhdCBjYW4gc2Nyb2xsIHZlcnRpY2FsbHkgb3IgaG9yaXpvbnRhbGx5IHdpdGggc2Nyb2xsYmFyc1xuICovXG5jbGFzcyBTY3JvbGxib3ggZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICAvKipcbiAgICAgKiBjcmVhdGUgYSBzY3JvbGxib3hcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZHJhZ1Njcm9sbD10cnVlXSB1c2VyIG1heSBkcmFnIHRoZSBjb250ZW50IGFyZWEgdG8gc2Nyb2xsIGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub3ZlcmZsb3dYPWF1dG9dIChub25lLCBzY3JvbGwsIGhpZGRlbiwgYXV0bykgdGhpcyBjaGFuZ2VzIHdoZXRoZXIgdGhlIHNjcm9sbGJhciBpcyBzaG93blxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5vdmVyZmxvd1k9YXV0b10gKG5vbmUsIHNjcm9sbCwgaGlkZGVuLCBhdXRvKSB0aGlzIGNoYW5nZXMgd2hldGhlciB0aGUgc2Nyb2xsYmFyIGlzIHNob3duXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLm92ZXJmbG93XSAobm9uZSwgc2Nyb2xsLCBoaWRkZW4sIGF1dG8pIHNldHMgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1kgdG8gdGhpcyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5ib3hXaWR0aD0xMDBdIHdpZHRoIG9mIHNjcm9sbGJveCBpbmNsdWRpbmcgc2Nyb2xsYmFyIChpbiBwaXhlbHMpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJveEhlaWdodD0xMDBdIGhlaWdodCBvZiBzY3JvbGxib3ggaW5jbHVkaW5nIHNjcm9sbGJhciAoaW4gcGl4ZWxzKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY3JvbGxiYXJTaXplPTEwXSBzaXplIG9mIHNjcm9sbGJhciAoaW4gcGl4ZWxzKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY3JvbGxiYXJPZmZzZXRIb3Jpem9udGFsPTBdIG9mZnNldCBvZiBob3Jpem9udGFsIHNjcm9sbGJhciAoaW4gcGl4ZWxzKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY3JvbGxiYXJPZmZzZXRWZXJ0aWNhbD0wXSBvZmZzZXQgb2YgdmVydGljYWwgc2Nyb2xsYmFyIChpbiBwaXhlbHMpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zdG9wUHJvcGFnYXRpb249dHJ1ZV0gY2FsbCBzdG9wUHJvcGFnYXRpb24gb24gYW55IGV2ZW50cyB0aGF0IGltcGFjdCBzY3JvbGxib3hcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2Nyb2xsYmFyQmFja2dyb3VuZD0weGRkZGRkZF0gYmFja2dyb3VuZCBjb2xvciBvZiBzY3JvbGxiYXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2Nyb2xsYmFyQmFja2dyb3VuZEFscGhhPTFdIGFscGhhIG9mIGJhY2tncm91bmQgb2Ygc2Nyb2xsYmFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjcm9sbGJhckZvcmVncm91bmQ9MHg4ODg4ODhdIGZvcmVncm91bmQgY29sb3Igb2Ygc2Nyb2xsYmFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjcm9sbGJhckZvcmVncm91bmRBbHBoYT0xXSBhbHBoYSBvZiBmb3JlZ3JvdW5kIG9mIHNjcm9sbGJhclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bmRlcmZsb3c9dG9wLWxlZnRdIHdoYXQgdG8gZG8gd2hlbiBjb250ZW50IHVuZGVyZmxvd3MgdGhlIHNjcm9sbGJveCBzaXplOiBub25lOiBkbyBub3RoaW5nOyAobGVmdC9yaWdodC9jZW50ZXIgQU5EIHRvcC9ib3R0b20vY2VudGVyKTsgT1IgY2VudGVyIChlLmcuLCAndG9wLWxlZnQnLCAnY2VudGVyJywgJ25vbmUnLCAnYm90dG9tcmlnaHQnKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubm9UaWNrZXJdIGRvIG5vdCB1c2UgUElYSS5UaWNrZXIgKGZvciBmYWRlIHRvIHdvcmsgcHJvcGVybHkgeW91IHdpbGwgbmVlZCB0byBtYW51YWxseSBjYWxsIHVwZGF0ZUxvb3AoZWxhcHNlZCkgb24gZWFjaCBmcmFtZSlcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGlja2VyfSBbb3B0aW9ucy50aWNrZXI9UElYSS5UaWNrZXIuc2hhcmVkXSB1c2UgdGhpcyBQSVhJLlRpY2tlciBmb3IgdXBkYXRlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZmFkZV0gZmFkZSB0aGUgc2Nyb2xsYmFyIHdoZW4gbm90IGluIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mYWRlU2Nyb2xsYmFyVGltZT0xMDAwXSB0aW1lIHRvIGZhZGUgc2Nyb2xsYmFyIGlmIG9wdGlvbnMuZmFkZSBpcyBzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZmFkZVNjcm9sbGJveFdhaXQ9MzAwMF0gdGltZSB0byB3YWl0IGJlZm9yZSBmYWRpbmcgdGhlIHNjcm9sbGJhciBpZiBvcHRpb25zLmZhZGUgaXMgc2V0XG4gICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKX0gW29wdGlvbnMuZmFkZVNjcm9sbGJveEVhc2U9ZWFzZUluT3V0U2luZV0gZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZSBmb3IgZmFkaW5nXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wYXNzaXZlV2hlZWw9ZmFsc2VdIHdoZXRoZXIgd2hlZWwgZXZlbnRzIGFyZSBwcm9wb2dhdGVkIGJleW9uZCB0aGUgc2Nyb2xsYm94IChOT1RFOiBkZWZhdWx0IGlzIG5vdyBmYWxzZSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsYW1wV2hlZWw9dHJ1ZV0gd2hlZWwgZXZlbnRzIHNob3VsZCBiZSBjbGFtcGVkICh0byBhdm9pZCB3ZWlyZCBib3VuY2Ugd2l0aCBtb3VzZSB3aGVlbClcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25NYW5hZ2VyfSBbb3B0aW9ucy5pbnRlcmFjdGlvbl0gSW50ZXJhY3Rpb25NYW5hZ2VyLCBhdmFpbGFibGUgZnJvbSBpbnN0YW50aWF0ZWQgUElYSS5SZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uIC0gdXNlZCB0byBjYWxjdWxhdGUgcG9pbnRlciBwb3N0aW9uIHJlbGF0aXZlIHRvIGNhbnZhcyBsb2NhdGlvbiBvbiBzY3JlZW5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zPXt9KVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2Nyb2xsYm94T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIGlmIChvcHRpb25zLm92ZXJmbG93KSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMub3ZlcmZsb3dYID0gdGhpcy5vcHRpb25zLm92ZXJmbG93WSA9IG9wdGlvbnMub3ZlcmZsb3c7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lYXNlID0gdHlwZW9mIHRoaXMub3B0aW9ucy5mYWRlU2Nyb2xsYm94RWFzZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMub3B0aW9ucy5mYWRlU2Nyb2xsYm94RWFzZSA6IHBlbm5lclt0aGlzLm9wdGlvbnMuZmFkZVNjcm9sbGJveEVhc2VdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb250ZW50IGluIHBsYWNlZCBpbiBoZXJlXG4gICAgICAgICAqIHlvdSBjYW4gdXNlIGFueSBmdW5jdGlvbiBmcm9tIHBpeGktdmlld3BvcnQgb24gY29udGVudCB0byBtYW51YWxseSBtb3ZlIHRoZSBjb250ZW50IChzZWUgaHR0cHM6Ly9kYXZpZGZpZy5naXRodWIuaW8vcGl4aS12aWV3cG9ydC9qc2RvYy8pXG4gICAgICAgICAqIEB0eXBlIHtWaWV3cG9ydH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGVudCA9IHRoaXMuYWRkQ2hpbGQobmV3IFZpZXdwb3J0KHsgcGFzc2l2ZVdoZWVsOiB0aGlzLm9wdGlvbnMucGFzc2l2ZVdoZWVsLCBzdG9wUHJvcGFnYXRpb246IHRoaXMub3B0aW9ucy5zdG9wUHJvcGFnYXRpb24sIHNjcmVlbldpZHRoOiB0aGlzLm9wdGlvbnMuYm94V2lkdGgsIHNjcmVlbkhlaWdodDogdGhpcy5vcHRpb25zLmJveEhlaWdodCwgaW50ZXJhY3Rpb246IHRoaXMub3B0aW9ucy5pbnRlcmFjdGlvbiB9KSk7XG4gICAgICAgIHRoaXMuY29udGVudFxuICAgICAgICAgICAgLmRlY2VsZXJhdGUoKVxuICAgICAgICAgICAgLm9uKCdtb3ZlZCcsICgpID0+IHRoaXMuX2RyYXdTY3JvbGxiYXJzKCkpO1xuXG4gICAgICAgIC8vIG5lZWRlZCB0byBwdWxsIHRoaXMgb3V0IG9mIHZpZXdwb3J0T3B0aW9ucyBiZWNhdXNlIG9mIHBpeGkuanMgdjQgc3VwcG9ydCAod2hpY2ggY2hhbmdlZCBmcm9tIFBJWEkudGlja2VyLnNoYXJlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQuLi5zaWdoKVxuICAgICAgICBpZiAob3B0aW9ucy50aWNrZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrZXIgPSBvcHRpb25zLnRpY2tlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRvIGF2b2lkIFJvbGx1cCB0cmFuc2Zvcm1pbmcgb3VyIGltcG9ydCwgc2F2ZSBwaXhpIG5hbWVzcGFjZSBpbiBhIHZhcmlhYmxlXG4gICAgICAgICAgICAvLyBmcm9tIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTc1N1xuICAgICAgICAgICAgbGV0IHRpY2tlcjtcbiAgICAgICAgICAgIGNvbnN0IHBpeGlOUyA9IFBJWEk7XG4gICAgICAgICAgICBpZiAocGFyc2VJbnQoL14oXFxkKylcXC4vLmV4ZWMoVkVSU0lPTilbMV0pIDwgNSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aWNrZXIgPSBwaXhpTlMudGlja2VyLnNoYXJlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aWNrZXIgPSBwaXhpTlMuVGlja2VyLnNoYXJlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrZXIgPSBvcHRpb25zLnRpY2tlciB8fCB0aWNrZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogZ3JhcGhpY3MgZWxlbWVudCBmb3IgZHJhd2luZyB0aGUgc2Nyb2xsYmFyc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5HcmFwaGljc31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyID0gdGhpcy5hZGRDaGlsZChuZXcgR3JhcGhpY3MoKSk7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXIub24oJ3BvaW50ZXJkb3duJywgdGhpcy5zY3JvbGxiYXJEb3duLCB0aGlzKTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMub24oJ3BvaW50ZXJtb3ZlJywgdGhpcy5zY3JvbGxiYXJNb3ZlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vbigncG9pbnRlcnVwJywgdGhpcy5zY3JvbGxiYXJVcCwgdGhpcyk7XG4gICAgICAgIHRoaXMub24oJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLnNjcm9sbGJhclVwLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vbigncG9pbnRlcnVwb3V0c2lkZScsIHRoaXMuc2Nyb2xsYmFyVXAsIHRoaXMpO1xuICAgICAgICB0aGlzLl9tYXNrQ29udGVudCA9IHRoaXMuYWRkQ2hpbGQobmV3IEdyYXBoaWNzKCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLm5vVGlja2VyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpY2tlckZ1bmN0aW9uID0gKCkgPT4gdGhpcy51cGRhdGVMb29wKE1hdGgubWluKHRoaXMub3B0aW9ucy50aWNrZXIuZWxhcHNlZE1TLCAxNi42NjY3KSk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGlja2VyLmFkZCh0aGlzLnRpY2tlckZ1bmN0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG9mZnNldCBvZiBob3Jpem9udGFsIHNjcm9sbGJhciAoaW4gcGl4ZWxzKVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHNjcm9sbGJhck9mZnNldEhvcml6b250YWwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJPZmZzZXRIb3Jpem9udGFsXG4gICAgfVxuICAgIHNldCBzY3JvbGxiYXJPZmZzZXRIb3Jpem9udGFsKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnNjcm9sbGJhck9mZnNldEhvcml6b250YWwgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBvZmZzZXQgb2YgdmVydGljYWwgc2Nyb2xsYmFyIChpbiBwaXhlbHMpXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgc2Nyb2xsYmFyT2Zmc2V0VmVydGljYWwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJPZmZzZXRWZXJ0aWNhbFxuICAgIH1cbiAgICBzZXQgc2Nyb2xsYmFyT2Zmc2V0VmVydGljYWwodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyT2Zmc2V0VmVydGljYWwgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXNhYmxlIHRoZSBzY3JvbGxib3ggKGlmIHNldCB0byB0cnVlIHRoaXMgd2lsbCBhbHNvIHJlbW92ZSB0aGUgbWFzaylcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgZGlzYWJsZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWRcbiAgICB9XG4gICAgc2V0IGRpc2FibGUodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWQgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNhbGwgc3RvcFByb3BhZ2F0aW9uIG9uIGFueSBldmVudHMgdGhhdCBpbXBhY3Qgc2Nyb2xsYm94XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHN0b3BQcm9wYWdhdGlvbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnN0b3BQcm9wYWdhdGlvblxuICAgIH1cbiAgICBzZXQgc3RvcFByb3BhZ2F0aW9uKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHVzZXIgbWF5IGRyYWcgdGhlIGNvbnRlbnQgYXJlYSB0byBzY3JvbGwgY29udGVudFxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBkcmFnU2Nyb2xsKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZHJhZ1Njcm9sbFxuICAgIH1cbiAgICBzZXQgZHJhZ1Njcm9sbCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5kcmFnU2Nyb2xsID0gdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50LmRyYWcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jb250ZW50LnJlbW92ZVBsdWdpbiAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LnJlbW92ZVBsdWdpbignZHJhZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5wbHVnaW5zLnJlbW92ZSgnZHJhZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogd2lkdGggb2Ygc2Nyb2xsYm94IGluY2x1ZGluZyB0aGUgc2Nyb2xsYmFyIChpZiB2aXNpYmxlKS0gdGhpcyBjaGFuZ2VzIHRoZSBzaXplIGFuZCBub3QgdGhlIHNjYWxlIG9mIHRoZSBib3hcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBib3hXaWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmJveFdpZHRoXG4gICAgfVxuICAgIHNldCBib3hXaWR0aCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5ib3hXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmNvbnRlbnQuc2NyZWVuV2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZXRzIG92ZXJmbG93WCBhbmQgb3ZlcmZsb3dZIHRvIChzY3JvbGwsIGhpZGRlbiwgYXV0bykgY2hhbmdpbmcgd2hldGhlciB0aGUgc2Nyb2xsYmFyIGlzIHNob3duXG4gICAgICogc2Nyb2xsID0gYWx3YXlzIHNob3cgc2Nyb2xsYmFyXG4gICAgICogaGlkZGVuID0gaGlkZSBvdmVyZmxvdyBhbmQgZG8gbm90IHNob3cgc2Nyb2xsYmFyXG4gICAgICogYXV0byA9IGlmIGNvbnRlbnQgaXMgbGFyZ2VyIHRoYW4gYm94IHNpemUsIHRoZW4gc2hvdyBzY3JvbGxiYXJcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBvdmVyZmxvdygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLm92ZXJmbG93XG4gICAgfVxuICAgIHNldCBvdmVyZmxvdyh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vdmVyZmxvdyA9IHZhbHVlO1xuICAgICAgICB0aGlzLm9wdGlvbnMub3ZlcmZsb3dYID0gdmFsdWU7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vdmVyZmxvd1kgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBzZXRzIG92ZXJmbG93WCB0byAoc2Nyb2xsLCBoaWRkZW4sIGF1dG8pIGNoYW5naW5nIHdoZXRoZXIgdGhlIHNjcm9sbGJhciBpcyBzaG93blxuICAgICAqIHNjcm9sbCA9IGFsd2F5cyBzaG93IHNjcm9sbGJhclxuICAgICAqIGhpZGRlbiA9IGhpZGUgb3ZlcmZsb3cgYW5kIGRvIG5vdCBzaG93IHNjcm9sbGJhclxuICAgICAqIGF1dG8gPSBpZiBjb250ZW50IGlzIGxhcmdlciB0aGFuIGJveCBzaXplLCB0aGVuIHNob3cgc2Nyb2xsYmFyXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgb3ZlcmZsb3dYKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMub3ZlcmZsb3dYXG4gICAgfVxuICAgIHNldCBvdmVyZmxvd1godmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLm9wdGlvbnMub3ZlcmZsb3dYID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2V0cyBvdmVyZmxvd1kgdG8gKHNjcm9sbCwgaGlkZGVuLCBhdXRvKSBjaGFuZ2luZyB3aGV0aGVyIHRoZSBzY3JvbGxiYXIgaXMgc2hvd25cbiAgICAgKiBzY3JvbGwgPSBhbHdheXMgc2hvdyBzY3JvbGxiYXJcbiAgICAgKiBoaWRkZW4gPSBoaWRlIG92ZXJmbG93IGFuZCBkbyBub3Qgc2hvdyBzY3JvbGxiYXJcbiAgICAgKiBhdXRvID0gaWYgY29udGVudCBpcyBsYXJnZXIgdGhhbiBib3ggc2l6ZSwgdGhlbiBzaG93IHNjcm9sbGJhclxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IG92ZXJmbG93WSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLm92ZXJmbG93WVxuICAgIH1cbiAgICBzZXQgb3ZlcmZsb3dZKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm92ZXJmbG93WSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGhlaWdodCBvZiBzY3JvbGxib3ggaW5jbHVkaW5nIHRoZSBzY3JvbGxiYXIgKGlmIHZpc2libGUpIC0gdGhpcyBjaGFuZ2VzIHRoZSBzaXplIGFuZCBub3QgdGhlIHNjYWxlIG9mIHRoZSBib3hcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBib3hIZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5ib3hIZWlnaHRcbiAgICB9XG4gICAgc2V0IGJveEhlaWdodCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5ib3hIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jb250ZW50LnNjcmVlbkhlaWdodCA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNjcm9sbGJhciBzaXplIGluIHBpeGVsc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHNjcm9sbGJhclNpemUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJTaXplXG4gICAgfVxuICAgIHNldCBzY3JvbGxiYXJTaXplKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnNjcm9sbGJhclNpemUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB3aWR0aCBvZiBzY3JvbGxib3ggbGVzcyB0aGUgc2Nyb2xsYmFyIChpZiB2aXNpYmxlKVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGNvbnRlbnRXaWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmJveFdpZHRoIC0gKHRoaXMuaXNTY3JvbGxiYXJWZXJ0aWNhbCA/IHRoaXMub3B0aW9ucy5zY3JvbGxiYXJTaXplIDogMClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBoZWlnaHQgb2Ygc2Nyb2xsYm94IGxlc3MgdGhlIHNjcm9sbGJhciAoaWYgdmlzaWJsZSlcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBjb250ZW50SGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYm94SGVpZ2h0IC0gKHRoaXMuaXNTY3JvbGxiYXJIb3Jpem9udGFsID8gdGhpcy5vcHRpb25zLnNjcm9sbGJhclNpemUgOiAwKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGlzIHRoZSB2ZXJ0aWNhbCBzY3JvbGxiYXIgdmlzaWJsZVxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBpc1Njcm9sbGJhclZlcnRpY2FsKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1Njcm9sbGJhclZlcnRpY2FsXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaXMgdGhlIGhvcml6b250YWwgc2Nyb2xsYmFyIHZpc2libGVcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgaXNTY3JvbGxiYXJIb3Jpem9udGFsKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1Njcm9sbGJhckhvcml6b250YWxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0b3AgY29vcmRpbmF0ZSBvZiBzY3JvbGxiYXJcbiAgICAgKi9cbiAgICBnZXQgc2Nyb2xsVG9wKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQudG9wXG4gICAgfVxuICAgIHNldCBzY3JvbGxUb3AodG9wKSB7XG4gICAgICAgIHRoaXMuY29udGVudC50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMuX2RyYXdTY3JvbGxiYXJzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbGVmdCBjb29yZGluYXRlIG9mIHNjcm9sbGJhclxuICAgICAqL1xuICAgIGdldCBzY3JvbGxMZWZ0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQubGVmdFxuICAgIH1cbiAgICBzZXQgc2Nyb2xsTGVmdChsZWZ0KSB7XG4gICAgICAgIHRoaXMuY29udGVudC5sZWZ0ID0gbGVmdDtcbiAgICAgICAgdGhpcy5fZHJhd1Njcm9sbGJhcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB3aWR0aCBvZiBjb250ZW50IGFyZWFcbiAgICAgKiBpZiBub3Qgc2V0IHRoZW4gaXQgdXNlcyBjb250ZW50LndpZHRoIHRvIGNhbGN1bGF0ZSB3aWR0aFxuICAgICAqL1xuICAgIGdldCBzY3JvbGxXaWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsV2lkdGggfHwgdGhpcy5jb250ZW50LndpZHRoXG4gICAgfVxuICAgIHNldCBzY3JvbGxXaWR0aCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3Njcm9sbFdpZHRoID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaGVpZ2h0IG9mIGNvbnRlbnQgYXJlYVxuICAgICAqIGlmIG5vdCBzZXQgdGhlbiBpdCB1c2VzIGNvbnRlbnQuaGVpZ2h0IHRvIGNhbGN1bGF0ZSBoZWlnaHRcbiAgICAgKi9cbiAgICBnZXQgc2Nyb2xsSGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxIZWlnaHQgfHwgdGhpcy5jb250ZW50LmhlaWdodFxuICAgIH1cbiAgICBzZXQgc2Nyb2xsSGVpZ2h0KHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc2Nyb2xsSGVpZ2h0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZHJhd3Mgc2Nyb2xsYmFyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RyYXdTY3JvbGxiYXJzKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2lzU2Nyb2xsYmFySG9yaXpvbnRhbCA9IHRoaXMub3ZlcmZsb3dYID09PSAnc2Nyb2xsJyA/IHRydWUgOiBbJ2hpZGRlbicsICdub25lJ10uaW5kZXhPZih0aGlzLm92ZXJmbG93WCkgIT09IC0xID8gZmFsc2UgOiB0aGlzLnNjcm9sbFdpZHRoID4gdGhpcy5vcHRpb25zLmJveFdpZHRoO1xuICAgICAgICB0aGlzLl9pc1Njcm9sbGJhclZlcnRpY2FsID0gdGhpcy5vdmVyZmxvd1kgPT09ICdzY3JvbGwnID8gdHJ1ZSA6IFsnaGlkZGVuJywgJ25vbmUnXS5pbmRleE9mKHRoaXMub3ZlcmZsb3dZKSAhPT0gLTEgPyBmYWxzZSA6IHRoaXMuc2Nyb2xsSGVpZ2h0ID4gdGhpcy5vcHRpb25zLmJveEhlaWdodDtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXIuY2xlYXIoKTtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB7fTtcbiAgICAgICAgb3B0aW9ucy5sZWZ0ID0gMDtcbiAgICAgICAgb3B0aW9ucy5yaWdodCA9IHRoaXMuc2Nyb2xsV2lkdGggKyAodGhpcy5faXNTY3JvbGxiYXJWZXJ0aWNhbCA/IHRoaXMub3B0aW9ucy5zY3JvbGxiYXJTaXplIDogMCk7XG4gICAgICAgIG9wdGlvbnMudG9wID0gMDtcbiAgICAgICAgb3B0aW9ucy5ib3R0b20gPSB0aGlzLnNjcm9sbEhlaWdodCArICh0aGlzLmlzU2Nyb2xsYmFySG9yaXpvbnRhbCA/IHRoaXMub3B0aW9ucy5zY3JvbGxiYXJTaXplIDogMCk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zY3JvbGxXaWR0aCArICh0aGlzLmlzU2Nyb2xsYmFyVmVydGljYWwgPyB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyU2l6ZSA6IDApO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnNjcm9sbEhlaWdodCArICh0aGlzLmlzU2Nyb2xsYmFySG9yaXpvbnRhbCA/IHRoaXMub3B0aW9ucy5zY3JvbGxiYXJTaXplIDogMCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyVG9wID0gKHRoaXMuY29udGVudC50b3AgLyBoZWlnaHQpICogdGhpcy5ib3hIZWlnaHQ7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyVG9wID0gdGhpcy5zY3JvbGxiYXJUb3AgPCAwID8gMCA6IHRoaXMuc2Nyb2xsYmFyVG9wO1xuICAgICAgICB0aGlzLnNjcm9sbGJhckhlaWdodCA9ICh0aGlzLmJveEhlaWdodCAvIGhlaWdodCkgKiB0aGlzLmJveEhlaWdodDtcbiAgICAgICAgdGhpcy5zY3JvbGxiYXJIZWlnaHQgPSB0aGlzLnNjcm9sbGJhclRvcCArIHRoaXMuc2Nyb2xsYmFySGVpZ2h0ID4gdGhpcy5ib3hIZWlnaHQgPyB0aGlzLmJveEhlaWdodCAtIHRoaXMuc2Nyb2xsYmFyVG9wIDogdGhpcy5zY3JvbGxiYXJIZWlnaHQ7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyTGVmdCA9ICh0aGlzLmNvbnRlbnQubGVmdCAvIHdpZHRoKSAqIHRoaXMuYm94V2lkdGg7XG4gICAgICAgIHRoaXMuc2Nyb2xsYmFyTGVmdCA9IHRoaXMuc2Nyb2xsYmFyTGVmdCA8IDAgPyAwIDogdGhpcy5zY3JvbGxiYXJMZWZ0O1xuICAgICAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gKHRoaXMuYm94V2lkdGggLyB3aWR0aCkgKiB0aGlzLmJveFdpZHRoO1xuICAgICAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gdGhpcy5zY3JvbGxiYXJXaWR0aCArIHRoaXMuc2Nyb2xsYmFyTGVmdCA+IHRoaXMuYm94V2lkdGggPyB0aGlzLmJveFdpZHRoIC0gdGhpcy5zY3JvbGxiYXJMZWZ0IDogdGhpcy5zY3JvbGxiYXJXaWR0aDtcbiAgICAgICAgaWYgKHRoaXMuaXNTY3JvbGxiYXJWZXJ0aWNhbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxiYXJcbiAgICAgICAgICAgICAgICAuYmVnaW5GaWxsKHRoaXMub3B0aW9ucy5zY3JvbGxiYXJCYWNrZ3JvdW5kLCB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyQmFja2dyb3VuZEFscGhhKVxuICAgICAgICAgICAgICAgIC5kcmF3UmVjdCh0aGlzLmJveFdpZHRoIC0gdGhpcy5zY3JvbGxiYXJTaXplICsgdGhpcy5vcHRpb25zLnNjcm9sbGJhck9mZnNldFZlcnRpY2FsLCAwLCB0aGlzLnNjcm9sbGJhclNpemUsIHRoaXMuYm94SGVpZ2h0KVxuICAgICAgICAgICAgICAgIC5lbmRGaWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNTY3JvbGxiYXJIb3Jpem9udGFsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGJhclxuICAgICAgICAgICAgICAgIC5iZWdpbkZpbGwodGhpcy5vcHRpb25zLnNjcm9sbGJhckJhY2tncm91bmQsIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJCYWNrZ3JvdW5kQWxwaGEpXG4gICAgICAgICAgICAgICAgLmRyYXdSZWN0KDAsIHRoaXMuYm94SGVpZ2h0IC0gdGhpcy5zY3JvbGxiYXJTaXplICsgdGhpcy5vcHRpb25zLnNjcm9sbGJhck9mZnNldEhvcml6b250YWwsIHRoaXMuYm94V2lkdGgsIHRoaXMuc2Nyb2xsYmFyU2l6ZSlcbiAgICAgICAgICAgICAgICAuZW5kRmlsbCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzU2Nyb2xsYmFyVmVydGljYWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsYmFyXG4gICAgICAgICAgICAgICAgLmJlZ2luRmlsbCh0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyRm9yZWdyb3VuZCwgdGhpcy5vcHRpb25zLnNjcm9sbGJhckZvcmVncm91bmRBbHBoYSlcbiAgICAgICAgICAgICAgICAuZHJhd1JlY3QodGhpcy5ib3hXaWR0aCAtIHRoaXMuc2Nyb2xsYmFyU2l6ZSArIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJPZmZzZXRWZXJ0aWNhbCwgdGhpcy5zY3JvbGxiYXJUb3AsIHRoaXMuc2Nyb2xsYmFyU2l6ZSwgdGhpcy5zY3JvbGxiYXJIZWlnaHQpXG4gICAgICAgICAgICAgICAgLmVuZEZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc1Njcm9sbGJhckhvcml6b250YWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsYmFyXG4gICAgICAgICAgICAgICAgLmJlZ2luRmlsbCh0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyRm9yZWdyb3VuZCwgdGhpcy5vcHRpb25zLnNjcm9sbGJhckZvcmVncm91bmRBbHBoYSlcbiAgICAgICAgICAgICAgICAuZHJhd1JlY3QodGhpcy5zY3JvbGxiYXJMZWZ0LCB0aGlzLmJveEhlaWdodCAtIHRoaXMuc2Nyb2xsYmFyU2l6ZSArIHRoaXMub3B0aW9ucy5zY3JvbGxiYXJPZmZzZXRIb3Jpem9udGFsLCB0aGlzLnNjcm9sbGJhcldpZHRoLCB0aGlzLnNjcm9sbGJhclNpemUpXG4gICAgICAgICAgICAgICAgLmVuZEZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzLmNvbnRlbnQuZm9yY2VIaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAgLCB0aGlzLmJveFdpZHRoLCB0aGlzLmJveEhlaWdodClcbiAgICAgICAgdGhpcy5hY3RpdmF0ZUZhZGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkcmF3cyBtYXNrIGxheWVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZHJhd01hc2soKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbWFza0NvbnRlbnRcbiAgICAgICAgICAgIC5iZWdpbkZpbGwoMClcbiAgICAgICAgICAgIC5kcmF3UmVjdCgwLCAwLCB0aGlzLmJveFdpZHRoLCB0aGlzLmJveEhlaWdodClcbiAgICAgICAgICAgIC5lbmRGaWxsKCk7XG4gICAgICAgIHRoaXMuY29udGVudC5tYXNrID0gdGhpcy5fbWFza0NvbnRlbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2FsbCB3aGVuIHNjcm9sbGJveCBjb250ZW50IGNoYW5nZXNcbiAgICAgKi9cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jb250ZW50Lm1hc2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9tYXNrQ29udGVudC5jbGVhcigpO1xuICAgICAgICBpZiAoIXRoaXMuX2Rpc2FibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcmF3U2Nyb2xsYmFycygpO1xuICAgICAgICAgICAgdGhpcy5fZHJhd01hc2soKTtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMuaXNTY3JvbGxiYXJIb3Jpem9udGFsICYmIHRoaXMuaXNTY3JvbGxiYXJWZXJ0aWNhbCA/ICdhbGwnIDogdGhpcy5pc1Njcm9sbGJhckhvcml6b250YWwgPyAneCcgOiAneSc7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kcmFnU2Nyb2xsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LmRyYWcoeyBjbGFtcFdoZWVsOiB0aGlzLm9wdGlvbnMuY2xhbXBXaGVlbCwgZGlyZWN0aW9uIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQuY2xhbXAoeyBkaXJlY3Rpb24sIHVuZGVyZmxvdzogdGhpcy5vcHRpb25zLnVuZGVyZmxvdyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNhbGxlZCBvbiBlYWNoIGZyYW1lIHRvIHVwZGF0ZSBmYWRlIHNjcm9sbGJhcnMgKGlmIGVuYWJsZWQpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVsYXBzZWQgc2luY2UgbGFzdCBmcmFtZSBpbiBtaWxsaXNlY29uZHMgKHVzdWFsbHkgY2FwcGVkIGF0IDE2LjY2NjcpXG4gICAgICovXG4gICAgdXBkYXRlTG9vcChlbGFwc2VkKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZmFkZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmFkZS53YWl0ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZhZGUud2FpdCAtPSBlbGFwc2VkO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZhZGUud2FpdCA8PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZWxhcHNlZCArPSB0aGlzLmZhZGUud2FpdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mYWRlLmR1cmF0aW9uICs9IGVsYXBzZWQ7XG4gICAgICAgICAgICBpZiAodGhpcy5mYWRlLmR1cmF0aW9uID49IHRoaXMub3B0aW9ucy5mYWRlU2Nyb2xsYmFyVGltZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZhZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsYmFyLmFscGhhID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGJhci5hbHBoYSA9IHRoaXMuZWFzZSh0aGlzLmZhZGUuZHVyYXRpb24sIDEsIC0xLCB0aGlzLm9wdGlvbnMuZmFkZVNjcm9sbGJhclRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb250ZW50LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpcnR5IHZhbHVlICh1c2VkIGZvciBvcHRpbWl6aW5nIGRyYXdzKSBmb3IgdW5kZXJseWluZyB2aWV3cG9ydCAoc2Nyb2xsYm94LmNvbnRlbnQpXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGRpcnR5KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQuZGlydHlcbiAgICB9XG4gICAgc2V0IGRpcnR5KHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5jb250ZW50LmRpcnR5ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2hvdyB0aGUgc2Nyb2xsYmFyIGFuZCByZXN0YXJ0IHRoZSB0aW1lciBmb3IgZmFkZSBpZiBvcHRpb25zLmZhZGUgaXMgc2V0XG4gICAgICovXG4gICAgYWN0aXZhdGVGYWRlKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5mYWRlICYmIHRoaXMub3B0aW9ucy5mYWRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbGJhci5hbHBoYSA9IDE7XG4gICAgICAgICAgICB0aGlzLmZhZGUgPSB7IHdhaXQ6IHRoaXMub3B0aW9ucy5mYWRlU2Nyb2xsYm94V2FpdCwgZHVyYXRpb246IDAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGhhbmRsZSBwb2ludGVyIGRvd24gb24gc2Nyb2xsYmFyXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNjcm9sbGJhckRvd24oZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGxvY2FsID0gdGhpcy50b0xvY2FsKGUuZGF0YS5nbG9iYWwpO1xuICAgICAgICBpZiAodGhpcy5pc1Njcm9sbGJhckhvcml6b250YWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChsb2NhbC55ID4gdGhpcy5ib3hIZWlnaHQgLSB0aGlzLnNjcm9sbGJhclNpemUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsLnggPj0gdGhpcy5zY3JvbGxiYXJMZWZ0ICYmIGxvY2FsLnggPD0gdGhpcy5zY3JvbGxiYXJMZWZ0ICsgdGhpcy5zY3JvbGxiYXJXaWR0aClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlckRvd24gPSB7IHR5cGU6ICdob3Jpem9udGFsJywgbGFzdDogbG9jYWwgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsLnggPiB0aGlzLnNjcm9sbGJhckxlZnQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5sZWZ0ICs9IHRoaXMuY29udGVudC53b3JsZFNjcmVlbldpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5sZWZ0IC09IHRoaXMuY29udGVudC53b3JsZFNjcmVlbldpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzU2Nyb2xsYmFyVmVydGljYWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChsb2NhbC54ID4gdGhpcy5ib3hXaWR0aCAtIHRoaXMuc2Nyb2xsYmFyU2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWwueSA+PSB0aGlzLnNjcm9sbGJhclRvcCAmJiBsb2NhbC55IDw9IHRoaXMuc2Nyb2xsYmFyVG9wICsgdGhpcy5zY3JvbGxiYXJXaWR0aClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlckRvd24gPSB7IHR5cGU6ICd2ZXJ0aWNhbCcsIGxhc3Q6IGxvY2FsIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbC55ID4gdGhpcy5zY3JvbGxiYXJUb3ApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC50b3AgKz0gdGhpcy5jb250ZW50LndvcmxkU2NyZWVuSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC50b3AgLT0gdGhpcy5jb250ZW50LndvcmxkU2NyZWVuSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaGFuZGxlIHBvaW50ZXIgbW92ZSBvbiBzY3JvbGxiYXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc2Nyb2xsYmFyTW92ZShlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlckRvd24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvaW50ZXJEb3duLnR5cGUgPT09ICdob3Jpem9udGFsJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbCA9IHRoaXMudG9Mb2NhbChlLmRhdGEuZ2xvYmFsKTtcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuc2Nyb2xsV2lkdGggKyAodGhpcy5pc1Njcm9sbGJhclZlcnRpY2FsID8gdGhpcy5vcHRpb25zLnNjcm9sbGJhclNpemUgOiAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGJhckxlZnQgKz0gbG9jYWwueCAtIHRoaXMucG9pbnRlckRvd24ubGFzdC54O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5sZWZ0ID0gdGhpcy5zY3JvbGxiYXJMZWZ0IC8gdGhpcy5ib3hXaWR0aCAqIHdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRlckRvd24ubGFzdCA9IGxvY2FsO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBvaW50ZXJEb3duLnR5cGUgPT09ICd2ZXJ0aWNhbCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jYWwgPSB0aGlzLnRvTG9jYWwoZS5kYXRhLmdsb2JhbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zY3JvbGxIZWlnaHQgKyAodGhpcy5pc1Njcm9sbGJhckhvcml6b250YWwgPyB0aGlzLm9wdGlvbnMuc2Nyb2xsYmFyU2l6ZSA6IDApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsYmFyVG9wICs9IGxvY2FsLnkgLSB0aGlzLnBvaW50ZXJEb3duLmxhc3QueTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQudG9wID0gdGhpcy5zY3JvbGxiYXJUb3AgLyB0aGlzLmJveEhlaWdodCAqIGhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50ZXJEb3duLmxhc3QgPSBsb2NhbDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdG9wUHJvcGFnYXRpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGhhbmRsZSBwb2ludGVyIGRvd24gb24gc2Nyb2xsYmFyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzY3JvbGxiYXJVcCgpXG4gICAge1xuICAgICAgICB0aGlzLnBvaW50ZXJEb3duID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXNpemUgdGhlIG1hc2sgZm9yIHRoZSBjb250YWluZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5ib3hXaWR0aF0gd2lkdGggb2Ygc2Nyb2xsYm94IGluY2x1ZGluZyBzY3JvbGxiYXIgKGluIHBpeGVscylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYm94SGVpZ2h0XSBoZWlnaHQgb2Ygc2Nyb2xsYm94IGluY2x1ZGluZyBzY3JvbGxiYXIgKGluIHBpeGVscylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2Nyb2xsV2lkdGhdIHNldCB0aGUgd2lkdGggb2YgdGhlIGluc2lkZSBvZiB0aGUgc2Nyb2xsYm94IChsZWF2ZSBudWxsIHRvIHVzZSBjb250ZW50LndpZHRoKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY3JvbGxIZWlnaHRdIHNldCB0aGUgaGVpZ2h0IG9mIHRoZSBpbnNpZGUgb2YgdGhlIHNjcm9sbGJveCAobGVhdmUgbnVsbCB0byB1c2UgY29udGVudC5oZWlnaHQpXG4gICAgICovXG4gICAgcmVzaXplKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLm9wdGlvbnMuYm94V2lkdGggPSB0eXBlb2Ygb3B0aW9ucy5ib3hXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLmJveFdpZHRoIDogdGhpcy5vcHRpb25zLmJveFdpZHRoO1xuICAgICAgICB0aGlzLm9wdGlvbnMuYm94SGVpZ2h0ID0gdHlwZW9mIG9wdGlvbnMuYm94SGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuYm94SGVpZ2h0IDogdGhpcy5vcHRpb25zLmJveEhlaWdodDtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2Nyb2xsV2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsV2lkdGggPSBvcHRpb25zLnNjcm9sbFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLnNjcm9sbEhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxIZWlnaHQgPSBvcHRpb25zLnNjcm9sbEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRlbnQucmVzaXplKHRoaXMub3B0aW9ucy5ib3hXaWR0aCwgdGhpcy5vcHRpb25zLmJveEhlaWdodCwgdGhpcy5zY3JvbGxXaWR0aCwgdGhpcy5zY3JvbGxIZWlnaHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGVuc3VyZSB0aGF0IHRoZSBib3VuZGluZyBib3ggaXMgdmlzaWJsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gcmVsYXRpdmUgdG8gY29udGVudCdzIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAgICovXG4gICAgZW5zdXJlVmlzaWJsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5jb250ZW50LmVuc3VyZVZpc2libGUoeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuX2RyYXdTY3JvbGxiYXJzKCk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBTY3JvbGxib3ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjcm9sbGJveC5lcy5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=