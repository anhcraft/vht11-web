(self.webpackChunkvht11=self.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\pixi-viewport\\dist\\viewport.es"],{"./node_modules/pixi-viewport/dist/viewport.es.js":(t,e,i)=>{"use strict";i.r(e),i.d(e,{Plugin:()=>r,Viewport:()=>B});var s=i("./node_modules/pixi.js/lib/pixi.es.js");class n{constructor(t){this.viewport=t,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new s.Rectangle(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.on("pointerout",this.up,this),this.wheelFunction=t=>this.handleWheel(t),this.viewport.options.divWheel.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.divWheel.removeEventListener("wheel",this.wheelFunction)}down(t){if(this.viewport.pause||!this.viewport.worldVisible)return;if("mouse"===t.data.pointerType?this.isMouseDown=!0:this.get(t.data.pointerId)||this.touches.push({id:t.data.pointerId,last:null}),1===this.count()){this.last=t.data.global.clone();const e=this.viewport.plugins.get("decelerate",!0),i=this.viewport.plugins.get("bounce",!0);e&&e.isActive()||i&&i.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(t){return Math.abs(t)>=this.viewport.threshold}move(t){if(this.viewport.pause||!this.viewport.worldVisible)return;const e=this.viewport.plugins.move(t);if(this.clickedAvailable){const e=t.data.global.x-this.last.x,i=t.data.global.y-this.last.y;(this.checkThreshold(e)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}e&&this.viewport.options.stopPropagation&&t.stopPropagation()}up(t){if(this.viewport.pause||!this.viewport.worldVisible)return;"mouse"===t.data.pointerType&&(this.isMouseDown=!1),"mouse"!==t.data.pointerType&&this.remove(t.data.pointerId);const e=this.viewport.plugins.up(t);this.clickedAvailable&&0===this.count()&&(this.viewport.emit("clicked",{event:t,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this}),this.clickedAvailable=!1),e&&this.viewport.options.stopPropagation&&t.stopPropagation()}getPointerPosition(t){let e=new s.Point;return this.viewport.options.interaction?this.viewport.options.interaction.mapPositionToPoint(e,t.clientX,t.clientY):(e.x=t.clientX,e.y=t.clientY),e}handleWheel(t){if(this.viewport.pause||!this.viewport.worldVisible)return;const e=this.viewport.toLocal(this.getPointerPosition(t));if(this.viewport.left<=e.x&&e.x<=this.viewport.right&&this.viewport.top<=e.y&&e.y<=this.viewport.bottom){this.viewport.plugins.wheel(t)&&!this.viewport.options.passiveWheel&&t.preventDefault()}}pause(){this.touches=[],this.isMouseDown=!1}get(t){for(let e of this.touches)if(e.id===t)return e;return null}remove(t){for(let e=0;e<this.touches.length;e++)if(this.touches[e].id===t)return void this.touches.splice(e,1)}count(){return(this.isMouseDown?1:0)+this.touches.length}}const h=["drag","pinch","wheel","follow","mouse-edges","decelerate","aniamte","bounce","snap-zoom","clamp-zoom","snap","clamp"];class o{constructor(t){this.viewport=t,this.list=[],this.plugins={}}add(t,e,i=h.length){this.plugins[t]=e;const s=h.indexOf(t);-1!==s&&h.splice(s,1),h.splice(i,0,t),this.sort()}get(t,e){return e&&void 0!==this.plugins[t]&&this.plugins[t].paused?null:this.plugins[t]}update(t){for(let e of this.list)e.update(t)}resize(){for(let t of this.list)t.resize()}reset(){for(let t of this.list)t.reset()}remove(t){this.plugins[t]&&(this.plugins[t]=null,this.viewport.emit(t+"-remove"),this.sort())}pause(t){this.plugins[t]&&this.plugins[t].pause()}resume(t){this.plugins[t]&&this.plugins[t].resume()}sort(){this.list=[];for(let t of h)this.plugins[t]&&this.list.push(this.plugins[t])}down(t){let e=!1;for(let i of this.list)i.down(t)&&(e=!0);return e}move(t){let e=!1;for(let i of this.viewport.plugins.list)i.move(t)&&(e=!0);return e}up(t){let e=!1;for(let i of this.list)i.up(t)&&(e=!0);return e}wheel(t){let e=!1;for(let i of this.list)i.wheel(t)&&(e=!0);return e}}class r{constructor(t){this.parent=t,this.paused=!1}destroy(){}down(){return!1}move(){return!1}up(){return!1}wheel(){return!1}update(){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}const a={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1};class p extends r{constructor(t,e={}){super(t),this.options=Object.assign({},a,e),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||"all"===this.options.direction||"x"===this.options.direction,this.yDirection=!this.options.direction||"all"===this.options.direction||"y"===this.options.direction,this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){parent.addEventListener("keydown",(e=>{t.includes(e.code)&&(this.keyIsPressed=!0)})),parent.addEventListener("keyup",(e=>{t.includes(e.code)&&(this.keyIsPressed=!1)}))}mouseButtons(t){this.mouse=t&&"all"!==t?[-1!==t.indexOf("left"),-1!==t.indexOf("middle"),-1!==t.indexOf("right")]:[!0,!0,!0]}parseUnderflow(){const t=this.options.underflow.toLowerCase();"center"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0)}checkButtons(t){const e="mouse"===t.data.pointerType,i=this.parent.input.count();return!(!(1===i||i>1&&!this.parent.plugins.get("pinch",!0))||e&&!this.mouse[t.data.button])}checkKeyPress(t){return!!(!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&"touch"===t.data.pointerType)}down(t){if(!this.paused&&this.options.pressDrag)return this.checkButtons(t)&&this.checkKeyPress(t)?(this.last={x:t.data.global.x,y:t.data.global.y},this.current=t.data.pointerId,!0):void(this.last=null)}get active(){return this.moved}move(t){if(!this.paused&&this.options.pressDrag&&this.last&&this.current===t.data.pointerId){const e=t.data.global.x,i=t.data.global.y,n=this.parent.input.count();if(1===n||n>1&&!this.parent.plugins.get("pinch",!0)){const n=e-this.last.x,h=i-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(n)||this.yDirection&&this.parent.input.checkThreshold(h)){const n={x:e,y:i};return this.xDirection&&(this.parent.x+=(n.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(n.y-this.last.y)*this.options.factor),this.last=n,this.moved||this.parent.emit("drag-start",{event:t,screen:new s.Point(this.last.x,this.last.y),world:this.parent.toWorld(new s.Point(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}}up(t){if(this.paused)return;const e=this.parent.input.touches;if(1===e.length){const t=e[0];return t.last&&(this.last={x:t.last.x,y:t.last.y},this.current=t.id),this.moved=!1,!0}if(this.last&&this.moved){const e=new s.Point(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:t,screen:e,world:this.parent.toWorld(e),viewport:this.parent}),this.last=null,this.moved=!1,!0}}wheel(t){if(!this.paused&&this.options.wheel){if(!this.parent.plugins.get("wheel",!0))return this.xDirection&&(this.parent.x+=t.deltaX*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=t.deltaY*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||t.preventDefault(),!0}}resume(){this.last=null,this.paused=!1}clamp(){const t=this.parent.plugins.get("decelerate",!0)||{};if("y"!==this.options.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if("x"!==this.options.clampWheel)if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}}const l={noDrag:!1,percent:1,center:null,factor:1};class c extends r{constructor(t,e={}){super(t),this.options=Object.assign({},l,e)}down(){if(this.parent.input.count()>=2)return this.active=!0,!0}move(t){if(this.paused||!this.active)return;const e=t.data.global.x,i=t.data.global.y,s=this.parent.input.touches;if(s.length>=2){const n=s[0],h=s[1],o=n.last&&h.last?Math.sqrt(Math.pow(h.last.x-n.last.x,2)+Math.pow(h.last.y-n.last.y,2)):null;if(n.id===t.data.pointerId?n.last={x:e,y:i,data:t.data}:h.id===t.data.pointerId&&(h.last={x:e,y:i,data:t.data}),o){let t;const e={x:n.last.x+(h.last.x-n.last.x)/2,y:n.last.y+(h.last.y-n.last.y)/2};this.options.center||(t=this.parent.toLocal(e));let i=Math.sqrt(Math.pow(h.last.x-n.last.x,2)+Math.pow(h.last.y-n.last.y,2));i=0===i?i=1e-10:i;const s=(1-o/i)*this.options.percent*this.parent.scale.x;this.parent.scale.x+=s,this.parent.scale.y+=s,this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:e});const r=this.parent.plugins.get("clamp-zoom",!0);if(r&&r.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const i=this.parent.toGlobal(t);this.parent.x+=(e.x-i.x)*this.options.factor,this.parent.y+=(e.y-i.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(e.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(e.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=e,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}}up(){if(this.pinching&&this.parent.input.touches.length<=1)return this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0}}const d={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class u extends r{constructor(t,e={}){super(t),this.options=Object.assign({},d,e),this.options.direction&&(this.options.left="x"===this.options.direction||"all"===this.options.direction||null,this.options.right="x"===this.options.direction||"all"===this.options.direction||null,this.options.top="y"===this.options.direction||"all"===this.options.direction||null,this.options.bottom="y"===this.options.direction||"all"===this.options.direction||null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const t=this.options.underflow.toLowerCase();"none"===t?this.noUnderflow=!0:"center"===t?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused)return;if(this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const t={x:this.parent.x,y:this.parent.y},e=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){let i=!1;if(this.parent.screenWorldWidth<this.parent.screenWidth){if(!this.noUnderflow)switch(this.underflowX){case-1:0!==this.parent.x&&(this.parent.x=0,i=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,i=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,i=!0)}}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,e.x=0,i=!0),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,e.x=0,i=!0);i&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-x"})}if(null!==this.options.top||null!==this.options.bottom){let i=!1;if(this.parent.screenWorldHeight<this.parent.screenHeight){if(!this.noUnderflow)switch(this.underflowY){case-1:0!==this.parent.y&&(this.parent.y=0,i=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,i=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,i=!0)}}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,e.y=0,i=!0),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,e.y=0,i=!0);i&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const g={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class m extends r{constructor(t,e={}){super(t),this.options=Object.assign({},g,e),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused)if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&t<this.options.minWidth){const i=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxWidth&&t>this.options.maxWidth){const i=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.minHeight&&e<this.options.minHeight){const i=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxHeight&&e>this.options.maxHeight){const t=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/t,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else{let t=this.parent.scale.x;null!==this.options.minScale&&t<this.options.minScale&&(t=this.options.minScale),null!==this.options.maxScale&&t>this.options.maxScale&&(t=this.options.maxScale),t!==this.parent.scale.x&&(this.parent.scale.set(t),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}reset(){this.clamp()}}const w={friction:.98,bounce:.8,minSpeed:.01},f=16;class y extends r{constructor(t,e={}){super(t),this.options=Object.assign({},w,e),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",(t=>this.moved(t)))}destroy(){this.parent}down(){this.saved=[],this.x=this.y=!1}isActive(){return this.x||this.y}move(){if(this.paused)return;const t=this.parent.input.count();(1===t||t>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30))}moved(t){if(this.saved.length){const e=this.saved[this.saved.length-1];"clamp-x"===t.type?e.x===t.original.x&&(e.x=this.parent.x):"clamp-y"===t.type&&e.y===t.original.y&&(e.y=this.parent.y)}}up(){if(0===this.parent.input.count()&&this.saved.length){const t=performance.now();for(let e of this.saved)if(e.time>=t-100){const i=t-e.time;this.x=(this.parent.x-e.x)/i,this.y=(this.parent.y-e.y)/i,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}}activate(t){void 0!==(t=t||{}).x&&(this.x=t.x,this.percentChangeX=this.options.friction),void 0!==t.y&&(this.y=t.y,this.percentChangeY=this.options.friction)}update(t){if(this.paused)return;const e=this.x||this.y,i=this.timeSinceRelease,s=this.timeSinceRelease+t;if(this.x){const t=this.percentChangeX,e=Math.log(t);this.parent.x+=this.x*f/e*(Math.pow(t,s/f)-Math.pow(t,i/f))}if(this.y){const t=this.percentChangeY,e=Math.log(t);this.parent.y+=this.y*f/e*(Math.pow(t,s/f)-Math.pow(t,i/f))}this.timeSinceRelease+=t,this.x*=Math.pow(this.percentChangeX,t/f),this.y*=Math.pow(this.percentChangeY,t/f),Math.abs(this.x)<this.options.minSpeed&&(this.x=0),Math.abs(this.y)<this.options.minSpeed&&(this.y=0),e&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}var v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};var x,W,b=(function(t,e){(function(){var e,i;i=e={linear:function(t,e,i,s){return i*t/s+e},easeInQuad:function(t,e,i,s){return i*(t/=s)*t+e},easeOutQuad:function(t,e,i,s){return-i*(t/=s)*(t-2)+e},easeInOutQuad:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,s){return i*(t/=s)*t*t+e},easeOutCubic:function(t,e,i,s){return i*((t=t/s-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,s){return i*(t/=s)*t*t*t+e},easeOutQuart:function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,s){return i*(t/=s)*t*t*t*t+e},easeOutQuint:function(t,e,i,s){return i*((t=t/s-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,s){return-i*Math.cos(t/s*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,s){return i*Math.sin(t/s*(Math.PI/2))+e},easeInOutSine:function(t,e,i,s){return-i/2*(Math.cos(Math.PI*t/s)-1)+e},easeInExpo:function(t,e,i,s){return 0===t?e:i*Math.pow(2,10*(t/s-1))+e},easeOutExpo:function(t,e,i,s){return t===s?e+i:i*(1-Math.pow(2,-10*t/s))+e},easeInOutExpo:function(t,e,i,s){return(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,s){return-i*(Math.sqrt(1-(t/=s)*t)-1)+e},easeOutCirc:function(t,e,i,s){return i*Math.sqrt(1-(t=t/s-1)*t)+e},easeInOutCirc:function(t,e,i,s){return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,s){var n,h,o;return o=1.70158,0===t||(t/=s),(h=0)||(h=.3*s),(n=i)<Math.abs(i)?(n=i,o=h/4):o=h/(2*Math.PI)*Math.asin(i/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/h)+e},easeOutElastic:function(t,e,i,s){var n,h,o;return o=1.70158,0===t||(t/=s),(h=0)||(h=.3*s),(n=i)<Math.abs(i)?(n=i,o=h/4):o=h/(2*Math.PI)*Math.asin(i/n),n*Math.pow(2,-10*t)*Math.sin((t*s-o)*(2*Math.PI)/h)+i+e},easeInOutElastic:function(t,e,i,s){var n,h,o;return o=1.70158,0===t||(t/=s/2),(h=0)||(h=s*(.3*1.5)),(n=i)<Math.abs(i)?(n=i,o=h/4):o=h/(2*Math.PI)*Math.asin(i/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/h)*-.5+e:n*Math.pow(2,-10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/h)*.5+i+e},easeInBack:function(t,e,i,s,n){return void 0===n&&(n=1.70158),i*(t/=s)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,i,s,n){return void 0===n&&(n=1.70158),i*((t=t/s-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,i,s,n){return void 0===n&&(n=1.70158),(t/=s/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},easeInBounce:function(t,i,s,n){return s-e.easeOutBounce(n-t,0,s,n)+i},easeOutBounce:function(t,e,i,s){return(t/=s)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,i,s,n){return t<n/2?.5*e.easeInBounce(2*t,0,s,n)+i:.5*e.easeOutBounce(2*t-n,0,s,n)+.5*s+i}},t.exports=i}).call(v)}(W={path:x,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&W.path)}},W.exports),W.exports);function H(t,e){return t?"function"==typeof t?t:"string"==typeof t?b[t]:void 0:b[e]}const M={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class S extends r{constructor(t,e={}){super(t),this.options=Object.assign({},M,e),this.ease=H(this.options.ease,"easeInOutSine"),this.options.sides&&("all"===this.options.sides?this.top=this.bottom=this.left=this.right=!0:"horizontal"===this.options.sides?this.right=this.left=!0:"vertical"===this.options.sides?this.top=this.bottom=!0:(this.top=-1!==this.options.sides.indexOf("top"),this.bottom=-1!==this.options.sides.indexOf("bottom"),this.left=-1!==this.options.sides.indexOf("left"),this.right=-1!==this.options.sides.indexOf("right"))),this.parseUnderflow(),this.last={},this.reset()}parseUnderflow(){const t=this.options.underflow.toLowerCase();"center"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0)}isActive(){return null!==this.toX||null!==this.toY}down(){this.toX=this.toY=null}up(){this.bounce()}update(t){if(!this.paused){if(this.bounce(),this.toX){const e=this.toX;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),e.time>=this.options.time?(this.parent.x=e.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(e.time,e.start,e.delta,this.options.time)}if(this.toY){const e=this.toY;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),e.time>=this.options.time?(this.parent.y=e.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(e.time,e.start,e.delta,this.options.time)}}}calcUnderflowX(){let t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}calcUnderflowY(){let t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}oob(){const t=this.options.bounceBox;if(t){const e=void 0===t.x?0:t.x,i=void 0===t.y?0:t.y,n=void 0===t.width?this.parent.worldWidth:t.width,h=void 0===t.height?this.parent.worldHeight:t.height;return{left:this.parent.left<e,right:this.parent.right>n,top:this.parent.top<i,bottom:this.parent.bottom>h,topLeft:new s.Point(e*this.parent.scale.x,i*this.parent.scale.y),bottomRight:new s.Point(n*this.parent.scale.x-this.parent.screenWidth,h*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new s.Point(0,0),bottomRight:new s.Point(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){if(this.paused)return;let t,e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.x&&e.percentChangeX===e.options.friction||e.y&&e.percentChangeY===e.options.friction)&&(t=this.oob(),(t.left&&this.left||t.right&&this.right)&&(e.percentChangeX=this.options.friction),(t.top&&this.top||t.bottom&&this.bottom)&&(e.percentChangeY=this.options.friction));const i=this.parent.plugins.get("drag",!0)||{},s=this.parent.plugins.get("pinch",!0)||{};if(e=e||{},!(i.active||s.active||this.toX&&this.toY||e.x&&e.y)){t=t||this.oob();const i=t.topLeft,s=t.bottomRight;if(!this.toX&&!e.x){let e=null;t.left&&this.left?e=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-i.x:t.right&&this.right&&(e=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-s.x),null!==e&&this.parent.x!==e&&(this.toX={time:0,start:this.parent.x,delta:e-this.parent.x,end:e},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!e.y){let e=null;t.top&&this.top?e=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-i.y:t.bottom&&this.bottom&&(e=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-s.y),null!==e&&this.parent.y!==e&&(this.toY={time:0,start:this.parent.y,delta:e-this.parent.y,end:e},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const O={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class C extends r{constructor(t,e,i,s={}){super(t),this.options=Object.assign({},O,s),this.ease=H(s.ease,"easeInOutSine"),this.x=e,this.y=i,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit("snap-start",this.parent)}wheel(){this.options.removeOnInterrupt&&this.parent.plugins.remove("snap")}down(){this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null)}up(){if(0===this.parent.input.count()){const t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}}update(t){if(!(this.paused||this.options.interrupt&&0!==this.parent.input.count()))if(this.snapping){const e=this.snapping;let i,s,n;if(e.time+=t,e.time>this.options.time)i=!0,s=this.startX+this.deltaX,n=this.startY+this.deltaY;else{const t=this.ease(e.time,0,1,this.options.time);s=this.startX+this.deltaX*t,n=this.startY+this.deltaY*t}this.options.topLeft?this.parent.moveCorner(s,n):this.parent.moveCenter(s,n),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),i&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const t=this.options.topLeft?this.parent.corner:this.parent.center;t.x===this.x&&t.y===this.y||this.snapStart()}}}const k={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupts:!1,forceStart:!1,noMove:!1};class z extends r{constructor(t,e={}){super(t),this.options=Object.assign({},k,e),this.ease=H(this.options.ease),this.options.width>0&&(this.xScale=t.screenWidth/this.options.width),this.options.height>0&&(this.yScale=t.screenHeight/this.options.height),this.xIndependent=!!this.xScale,this.yIndependent=!!this.yScale,this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,0===this.options.time?(t.container.scale.x=this.xScale,t.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):e.forceStart&&this.createSnapping()}createSnapping(){this.parent.scale;const t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,i=this.parent.screenWidth/this.xScale,s=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:t,startY:e,deltaX:i-t,deltaY:s-e},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom")}down(){this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null)}update(t){if(this.paused)return;if(this.options.interrupt&&0!==this.parent.input.count())return;let e;if(this.options.center||this.options.noMove||(e=this.parent.center),this.snapping){if(this.snapping){const i=this.snapping;if(i.time+=t,i.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const t=this.snapping,e=this.ease(t.time,t.startX,t.deltaX,this.options.time),i=this.ease(t.time,t.startY,t.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/e,this.parent.scale.y=this.parent.screenHeight/i}const s=this.parent.plugins.get("clamp-zoom",!0);s&&s.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(e))}}else this.parent.scale.x===this.xScale&&this.parent.scale.y===this.yScale||this.createSnapping()}resume(){this.snapping=null,super.resume()}}const I={speed:0,acceleration:null,radius:null};class P extends r{constructor(t,e,i={}){super(t),this.target=e,this.options=Object.assign({},I,i),this.velocity={x:0,y:0}}update(t){if(this.paused)return;const e=this.parent.center;let i=this.target.x,s=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-e.y,2)+Math.pow(this.target.x-e.x,2))>this.options.radius))return;{const t=Math.atan2(this.target.y-e.y,this.target.x-e.x);i=this.target.x-Math.cos(t)*this.options.radius,s=this.target.y-Math.sin(t)*this.options.radius}}const n=i-e.x,h=s-e.y;if(n||h)if(this.options.speed)if(this.options.acceleration){const o=Math.atan2(s-e.y,i-e.x),r=Math.sqrt(Math.pow(n,2)+Math.pow(h,2));if(r){const a=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);this.velocity=r>a?{x:Math.min(this.velocity.x+this.options.acceleration*t,this.options.speed),y:Math.min(this.velocity.y+this.options.acceleration*t,this.options.speed)}:{x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const p=Math.cos(o)*this.velocity.x,l=Math.sin(o)*this.velocity.y,c=Math.abs(p)>Math.abs(n)?i:e.x+p,d=Math.abs(l)>Math.abs(h)?s:e.y+l;this.parent.moveCenter(c,d),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const t=Math.atan2(s-e.y,i-e.x),o=Math.cos(t)*this.options.speed,r=Math.sin(t)*this.options.speed,a=Math.abs(o)>Math.abs(n)?i:e.x+o,p=Math.abs(r)>Math.abs(h)?s:e.y+r;this.parent.moveCenter(a,p),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const Y={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20};class X extends r{constructor(t,e={}){super(t),this.options=Object.assign({},Y,e)}down(){this.options.interrupt&&(this.smoothing=null)}update(){if(this.smoothing){const t=this.smoothingCenter,e=this.smoothing;let i;this.options.center||(i=this.parent.toLocal(t)),this.parent.scale.x+=e.x,this.parent.scale.y+=e.y,this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const s=this.parent.plugins.get("clamp-zoom",!0);if(s&&s.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const e=this.parent.toGlobal(i);this.parent.x+=t.x-e.x,this.parent.y+=t.y-e.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}wheel(t){if(this.paused)return;let e=this.parent.input.getPointerPosition(t);const i=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/500,s=Math.pow(2,(1+this.options.percent)*i);if(this.options.smooth){const t={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+t.x)*s-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+t.y)*s-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=e}else{let t;this.options.center||(t=this.parent.toLocal(e)),this.parent.scale.x*=s,this.parent.scale.y*=s,this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const i=this.parent.toGlobal(t);this.parent.x+=e.x-i.x,this.parent.y+=e.y-i.y}}return this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:t.deltaX,dy:t.deltaY,dz:t.deltaZ},event:t,viewport:this.parent}),!this.parent.options.passiveWheel||void 0}}const D={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class A extends r{constructor(t,e={}){super(t),this.options=Object.assign({},D,e),this.reverse=this.options.reverse?1:-1,this.radiusSquared=Math.pow(this.options.radius,2),this.resize()}resize(){const t=this.options.distance;null!==t?(this.left=t,this.top=t,this.right=this.parent.worldScreenWidth-t,this.bottom=this.parent.worldScreenHeight-t):this.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:this.parent.worldScreenWidth-this.options.right,this.bottom=null===this.options.bottom?null:this.parent.worldScreenHeight-this.options.bottom)}down(){this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null)}move(t){if(this.paused)return;if("mouse"!==t.data.pointerType&&1!==t.data.identifier||!this.options.allowButtons&&0!==t.data.buttons)return;const e=t.data.global.x,i=t.data.global.y;if(this.radiusSquared){const t=this.parent.toScreen(this.parent.center);if(Math.pow(t.x-e,2)+Math.pow(t.y-i,2)>=this.radiusSquared){const s=Math.atan2(t.y-i,t.x-e);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(s)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&e<this.left?this.horizontal=1*this.reverse*this.options.speed*.06:null!==this.right&&e>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&i<this.top?this.vertical=1*this.reverse*this.options.speed*.06:null!==this.bottom&&i>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0)}decelerateHorizontal(){const t=this.parent.plugins.get("decelerate",!0);this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const t=this.parent.plugins.get("decelerate",!0);this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null)}update(){if(!this.paused&&(this.horizontal||this.vertical)){const t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const T={removeOnInterrupt:!1,ease:"linear",time:1e3};class V extends r{constructor(t,e={}){super(t),this.options=Object.assign({},T,e),this.options.ease=H(this.options.ease),this.setupPosition(),this.setupZoom()}setupPosition(){void 0!==this.options.position?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,void 0!==this.options.scale?this.width=this.parent.screenWidth/this.options.scale:void 0!==this.options.scaleX||void 0!==this.options.scaleY?(void 0!==this.options.scaleX&&(this.width=this.parent.screenWidth/this.options.scaleX),void 0!==this.options.scaleY&&(this.height=this.parent.screenHeight/this.options.scaleY)):(void 0!==this.options.width&&(this.width=this.options.width),void 0!==this.options.height&&(this.height=this.options.height)),null!==typeof this.width&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),null!==typeof this.height&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight),this.time=0}down(){this.options.removeOnInterrupt&&this.parent.plugins.remove("animate")}complete(){this.parent.plugins.remove("animate"),null!==this.width&&this.parent.fitWidth(this.width,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.height,this.keepCenter,null===this.width),this.keepCenter||this.parent.moveCenter(this.options.position.x,this.options.position.y),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(t){if(!this.paused)if(this.time+=t,this.time>=this.options.time)this.complete();else{const t=new s.Point(this.parent.scale.x,this.parent.scale.y),e=this.options.ease(this.time,0,1,this.options.time);if(null!==this.width&&this.parent.fitWidth(this.startWidth+this.deltaWidth*e,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.startHeight+this.deltaHeight*e,this.keepCenter,null===this.width),null===this.width?this.parent.scale.x=this.parent.scale.y:null===this.height&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const t=new s.Point(this.parent.x,this.parent.y);this.parent.moveCenter(this.startX+this.deltaX*e,this.startY+this.deltaY*e),this.parent.emit("moved",{viewport:this.parent,original:t,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:t,type:"animate"}),this.keepCenter}}}const _={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,interaction:null,disableOnContextMenu:!1};class B extends s.Container{constructor(t={}){if(super(),this.options=Object.assign({},_,t),t.ticker)this.options.ticker=t.ticker;else{let e;const i=s;e=parseInt(/^(\d+)\./.exec(s.VERSION)[1])<5?i.ticker.shared:i.Ticker.shared,this.options.ticker=t.ticker||e}this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.divWheel=this.options.divWheel||document.body,this.options.disableOnContextMenu&&(this.options.divWheel.oncontextmenu=t=>t.preventDefault()),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new n(this),this.plugins=new o(this)}destroy(t){this.options.noTicker||this.options.ticker.remove(this.tickerFunction),this.input.destroy(),super.destroy(t)}update(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new s.Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(t=window.innerWidth,e=window.innerHeight,i,s){this.screenWidth=t,this.screenHeight=e,void 0!==i&&(this._worldWidth=i),void 0!==s&&(this._worldHeight=s),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(t){this._worldWidth=t,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(t){this._worldHeight=t,this.plugins.resize()}getVisibleBounds(){return new s.Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(t,e){return 2===arguments.length?this.toLocal(new s.Point(t,e)):this.toLocal(t)}toScreen(t,e){return 2===arguments.length?this.toGlobal(new s.Point(t,e)):this.toGlobal(t)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new s.Point(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(t){this.moveCenter(t)}moveCenter(){let t,e;return isNaN(arguments[0])?(t=arguments[0].x,e=arguments[0].y):(t=arguments[0],e=arguments[1]),this.position.set((this.worldScreenWidth/2-t)*this.scale.x,(this.worldScreenHeight/2-e)*this.scale.y),this.plugins.reset(),this.dirty=!0,this}get corner(){return new s.Point(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(t){this.moveCorner(t)}moveCorner(t,e){return 1===arguments.length?this.position.set(-t.x*this.scale.x,-t.y*this.scale.y):this.position.set(-t*this.scale.x,-e*this.scale.y),this.plugins.reset(),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(t){return this.screenWidth/t}findFitHeight(t){return this.screenHeight/t}findFit(t,e){const i=this.screenWidth/t,s=this.screenHeight/e;return Math.min(i,s)}findCover(t,e){const i=this.screenWidth/t,s=this.screenHeight/e;return Math.max(i,s)}fitWidth(t,e,i=!0,s){let n;e&&(n=this.center),this.scale.x=this.screenWidth/t,i&&(this.scale.y=this.scale.x);const h=this.plugins.get("clamp-zoom",!0);return!s&&h&&h.clamp(),e&&this.moveCenter(n),this}fitHeight(t,e,i=!0,s){let n;e&&(n=this.center),this.scale.y=this.screenHeight/t,i&&(this.scale.x=this.scale.y);const h=this.plugins.get("clamp-zoom",!0);return!s&&h&&h.clamp(),e&&this.moveCenter(n),this}fitWorld(t){let e;t&&(e=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),t&&this.moveCenter(e),this}fit(t,e=this.worldWidth,i=this.worldHeight){let s;t&&(s=this.center),this.scale.x=this.screenWidth/e,this.scale.y=this.screenHeight/i,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),t&&this.moveCenter(s),this}set visible(t){t||this.input.clear(),super.visible=t}setZoom(t,e){let i;e&&(i=this.center),this.scale.set(t);const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&this.moveCenter(i),this}zoomPercent(t,e){return this.setZoom(this.scale.x+this.scale.x*t,e)}zoom(t,e){return this.fitWidth(t+this.worldScreenWidth,e),this}set scaled(t){this.setZoom(t,!0)}get scaled(){return this.scale.x}snapZoom(t){return this.plugins.add("snap-zoom",new z(this,t)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this._worldHeight,cornerPoint:new s.Point(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(t){this.x=-t*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(t){this.y=-t*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return this._dirty}set dirty(t){this._dirty=t}get forceHitArea(){return this._forceHitArea}set forceHitArea(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new s.Rectangle(0,0,this.worldWidth,this.worldHeight))}drag(t){return this.plugins.add("drag",new p(this,t)),this}clamp(t){return this.plugins.add("clamp",new u(this,t)),this}decelerate(t){return this.plugins.add("decelerate",new y(this,t)),this}bounce(t){return this.plugins.add("bounce",new S(this,t)),this}pinch(t){return this.plugins.add("pinch",new c(this,t)),this}snap(t,e,i){return this.plugins.add("snap",new C(this,t,e,i)),this}follow(t,e){return this.plugins.add("follow",new P(this,t,e)),this}wheel(t){return this.plugins.add("wheel",new X(this,t)),this}animate(t){return this.plugins.add("animate",new V(this,t)),this}clampZoom(t){return this.plugins.add("clamp-zoom",new m(this,t)),this}mouseEdges(t){return this.plugins.add("mouse-edges",new A(this,t)),this}get pause(){return this._pause}set pause(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}ensureVisible(t,e,i,s,n){n&&(i>this.worldScreenWidth||s>this.worldScreenHeight)&&(this.fit(!0,i,s),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let h=!1;t<this.left?(this.left=t,h=!0):t+i>this.right&&(this.right=t+i,h=!0),e<this.top?(this.top=e,h=!0):e+s>this.bottom&&(this.bottom=e+s,h=!0),h&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9waXhpLXZpZXdwb3J0L2Rpc3Qvdmlld3BvcnQuZXMuanMiXSwibmFtZXMiOlsiSW5wdXRNYW5hZ2VyIiwidmlld3BvcnQiLCJ0aGlzIiwidG91Y2hlcyIsImFkZExpc3RlbmVycyIsImludGVyYWN0aXZlIiwiZm9yY2VIaXRBcmVhIiwiaGl0QXJlYSIsIlJlY3RhbmdsZSIsIndvcmxkV2lkdGgiLCJ3b3JsZEhlaWdodCIsIm9uIiwiZG93biIsIm1vdmUiLCJ1cCIsIndoZWVsRnVuY3Rpb24iLCJlIiwiaGFuZGxlV2hlZWwiLCJvcHRpb25zIiwiZGl2V2hlZWwiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInBhc3NpdmVXaGVlbCIsImlzTW91c2VEb3duIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicGF1c2UiLCJ3b3JsZFZpc2libGUiLCJkYXRhIiwicG9pbnRlclR5cGUiLCJnZXQiLCJwb2ludGVySWQiLCJwdXNoIiwiaWQiLCJsYXN0IiwiY291bnQiLCJnbG9iYWwiLCJjbG9uZSIsImRlY2VsZXJhdGUiLCJwbHVnaW5zIiwiYm91bmNlIiwiaXNBY3RpdmUiLCJjbGlja2VkQXZhaWxhYmxlIiwic3RvcFByb3BhZ2F0aW9uIiwiY2hhbmdlIiwiTWF0aCIsImFicyIsInRocmVzaG9sZCIsInN0b3AiLCJkaXN0WCIsIngiLCJkaXN0WSIsInkiLCJjaGVja1RocmVzaG9sZCIsInJlbW92ZSIsImVtaXQiLCJzY3JlZW4iLCJ3b3JsZCIsInRvV29ybGQiLCJwb2ludCIsIlBvaW50IiwiaW50ZXJhY3Rpb24iLCJtYXBQb3NpdGlvblRvUG9pbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsInRvTG9jYWwiLCJnZXRQb2ludGVyUG9zaXRpb24iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJ3aGVlbCIsInByZXZlbnREZWZhdWx0IiwidG91Y2giLCJpIiwibGVuZ3RoIiwic3BsaWNlIiwiUExVR0lOX09SREVSIiwiUGx1Z2luTWFuYWdlciIsImxpc3QiLCJuYW1lIiwicGx1Z2luIiwiaW5kZXgiLCJjdXJyZW50IiwiaW5kZXhPZiIsInNvcnQiLCJpZ25vcmVQYXVzZWQiLCJwYXVzZWQiLCJlbGFwc2VkIiwidXBkYXRlIiwicmVzaXplIiwicmVzZXQiLCJyZXN1bWUiLCJyZXN1bHQiLCJQbHVnaW4iLCJwYXJlbnQiLCJkcmFnT3B0aW9ucyIsImRpcmVjdGlvbiIsInByZXNzRHJhZyIsIndoZWVsU2Nyb2xsIiwicmV2ZXJzZSIsImNsYW1wV2hlZWwiLCJ1bmRlcmZsb3ciLCJmYWN0b3IiLCJtb3VzZUJ1dHRvbnMiLCJrZXlUb1ByZXNzIiwiaWdub3JlS2V5VG9QcmVzc09uVG91Y2giLCJEcmFnIiwic3VwZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJtb3ZlZCIsInhEaXJlY3Rpb24iLCJ5RGlyZWN0aW9uIiwia2V5SXNQcmVzc2VkIiwicGFyc2VVbmRlcmZsb3ciLCJoYW5kbGVLZXlQcmVzc2VzIiwiY29kZXMiLCJpbmNsdWRlcyIsImNvZGUiLCJidXR0b25zIiwibW91c2UiLCJjbGFtcCIsInRvTG93ZXJDYXNlIiwidW5kZXJmbG93WCIsInVuZGVyZmxvd1kiLCJpc01vdXNlIiwiaW5wdXQiLCJidXR0b24iLCJjaGVja0J1dHRvbnMiLCJjaGVja0tleVByZXNzIiwibmV3UG9pbnQiLCJ0eXBlIiwicG9pbnRlciIsImRlbHRhWCIsImRlbHRhWSIsInNjcmVlbldvcmxkV2lkdGgiLCJzY3JlZW5XaWR0aCIsInNjYWxlIiwic2NyZWVuV29ybGRIZWlnaHQiLCJzY3JlZW5IZWlnaHQiLCJwaW5jaE9wdGlvbnMiLCJub0RyYWciLCJwZXJjZW50IiwiY2VudGVyIiwiUGluY2giLCJhY3RpdmUiLCJwb2ludGVycyIsImZpcnN0Iiwic2Vjb25kIiwic3FydCIsInBvdyIsIm9sZFBvaW50IiwiZGlzdCIsIm1vdmVDZW50ZXIiLCJ0b0dsb2JhbCIsImxhc3RDZW50ZXIiLCJwaW5jaGluZyIsImNsYW1wT3B0aW9ucyIsIkNsYW1wIiwic2NhbGVYIiwic2NhbGVZIiwibm9VbmRlcmZsb3ciLCJvcmlnaW5hbCIsImNsYW1wWm9vbU9wdGlvbnMiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwibWluU2NhbGUiLCJtYXhTY2FsZSIsIkNsYW1wWm9vbSIsIndpZHRoIiwid29ybGRTY3JlZW5XaWR0aCIsImhlaWdodCIsIndvcmxkU2NyZWVuSGVpZ2h0IiwiZml0V2lkdGgiLCJmaXRIZWlnaHQiLCJzZXQiLCJkZWNlbGVyYXRlT3B0aW9ucyIsImZyaWN0aW9uIiwibWluU3BlZWQiLCJUUCIsIkRlY2VsZXJhdGUiLCJzYXZlZCIsInRpbWVTaW5jZVJlbGVhc2UiLCJ0aW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJzYXZlIiwicGVyY2VudENoYW5nZVgiLCJwZXJjZW50Q2hhbmdlWSIsInRpIiwidGYiLCJrIiwibG5rIiwibG9nIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwid2luZG93IiwiZyIsInNlbGYiLCJiYXNlZGlyIiwibW9kdWxlIiwicGVubmVyIiwiZXhwb3J0cyIsImZhY3RvcnkiLCJsaW5lYXIiLCJ0IiwiYiIsImMiLCJkIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJjb3MiLCJQSSIsImVhc2VPdXRTaW5lIiwic2luIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwiZWFzZU91dENpcmMiLCJlYXNlSW5PdXRDaXJjIiwiZWFzZUluRWxhc3RpYyIsImEiLCJwIiwicyIsImFzaW4iLCJlYXNlT3V0RWxhc3RpYyIsImVhc2VJbk91dEVsYXN0aWMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZUluQm91bmNlIiwiZWFzZU91dEJvdW5jZSIsImVhc2VJbk91dEJvdW5jZSIsImNhbGwiLCJmbiIsInBhdGgiLCJyZXF1aXJlIiwiYmFzZSIsIkVycm9yIiwiY29tbW9uanNSZXF1aXJlIiwiZWFzZSIsImRlZmF1bHRzIiwiYm91bmNlT3B0aW9ucyIsInNpZGVzIiwiYm91bmNlQm94IiwiQm91bmNlIiwidG9YIiwidG9ZIiwiZW5kIiwic3RhcnQiLCJkZWx0YSIsImJveCIsIngxIiwieTEiLCJ0b3BMZWZ0IiwiYm90dG9tUmlnaHQiLCJvb2IiLCJkcmFnIiwicGluY2giLCJjYWxjVW5kZXJmbG93WCIsImNhbGNVbmRlcmZsb3dZIiwic25hcE9wdGlvbnMiLCJpbnRlcnJ1cHQiLCJyZW1vdmVPbkNvbXBsZXRlIiwicmVtb3ZlT25JbnRlcnJ1cHQiLCJmb3JjZVN0YXJ0IiwiU25hcCIsInNuYXBTdGFydCIsInNuYXBwaW5nIiwiY29ybmVyIiwic3RhcnRYIiwic3RhcnRZIiwiZmluaXNoZWQiLCJtb3ZlQ29ybmVyIiwic25hcFpvb21PcHRpb25zIiwicmVtb3ZlT25JbnRlcnJ1cHRzIiwibm9Nb3ZlIiwiU25hcFpvb20iLCJ4U2NhbGUiLCJ5U2NhbGUiLCJ4SW5kZXBlbmRlbnQiLCJ5SW5kZXBlbmRlbnQiLCJjb250YWluZXIiLCJjcmVhdGVTbmFwcGluZyIsInN0YXJ0V29ybGRTY3JlZW5XaWR0aCIsInN0YXJ0V29ybGRTY3JlZW5IZWlnaHQiLCJlbmRXb3JsZFNjcmVlbldpZHRoIiwiZW5kV29ybGRTY3JlZW5IZWlnaHQiLCJvbGRDZW50ZXIiLCJmb2xsb3dPcHRpb25zIiwic3BlZWQiLCJhY2NlbGVyYXRpb24iLCJyYWRpdXMiLCJGb2xsb3ciLCJ0YXJnZXQiLCJ2ZWxvY2l0eSIsImFuZ2xlIiwiYXRhbjIiLCJkaXN0YW5jZSIsImRlY2VsZXJhdGlvbkRpc3RhbmNlIiwibWluIiwibWF4IiwiY2hhbmdlWCIsImNoYW5nZVkiLCJ3aGVlbE9wdGlvbnMiLCJzbW9vdGgiLCJsaW5lSGVpZ2h0IiwiV2hlZWwiLCJzbW9vdGhpbmciLCJzbW9vdGhpbmdDZW50ZXIiLCJzbW9vdGhpbmdDb3VudCIsInN0ZXAiLCJkZWx0YU1vZGUiLCJkeCIsImR5IiwiZHoiLCJkZWx0YVoiLCJtb3VzZUVkZ2VzT3B0aW9ucyIsIm5vRGVjZWxlcmF0ZSIsImFsbG93QnV0dG9ucyIsIk1vdXNlRWRnZXMiLCJyYWRpdXNTcXVhcmVkIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwiaWRlbnRpZmllciIsInRvU2NyZWVuIiwicm91bmQiLCJkZWNlbGVyYXRlSG9yaXpvbnRhbCIsImRlY2VsZXJhdGVWZXJ0aWNhbCIsImFjdGl2YXRlIiwiYW5pbWF0ZU9wdGlvbnMiLCJBbmltYXRlIiwic2V0dXBQb3NpdGlvbiIsInNldHVwWm9vbSIsInBvc2l0aW9uIiwia2VlcENlbnRlciIsInN0YXJ0V2lkdGgiLCJzY3JlZW5XaWR0aEluV29ybGRQaXhlbHMiLCJkZWx0YVdpZHRoIiwic3RhcnRIZWlnaHQiLCJzY3JlZW5IZWlnaHRJbldvcmxkUGl4ZWxzIiwiZGVsdGFIZWlnaHQiLCJjYWxsYmFja09uQ29tcGxldGUiLCJjb21wbGV0ZSIsIm9yaWdpbmFsWm9vbSIsInZpZXdwb3J0T3B0aW9ucyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIm5vVGlja2VyIiwiZGlzYWJsZU9uQ29udGV4dE1lbnUiLCJWaWV3cG9ydCIsIkNvbnRhaW5lciIsInRpY2tlciIsInBpeGlOUyIsInBhcnNlSW50IiwiZXhlYyIsIlZFUlNJT04iLCJzaGFyZWQiLCJUaWNrZXIiLCJfd29ybGRXaWR0aCIsIl93b3JsZEhlaWdodCIsImRvY3VtZW50IiwiYm9keSIsIm9uY29udGV4dG1lbnUiLCJ0aWNrZXJGdW5jdGlvbiIsImVsYXBzZWRNUyIsImFkZCIsImRlc3Ryb3kiLCJsYXN0Vmlld3BvcnQiLCJtb3ZpbmciLCJ6b29taW5nIiwiX2hpdEFyZWFEZWZhdWx0IiwiX2RpcnR5IiwiZGlydHkiLCJ2YWx1ZSIsImFyZ3VtZW50cyIsImlzTmFOIiwibm9DbGFtcCIsImNsYW1wWm9vbSIsImNsZWFyIiwidmlzaWJsZSIsInNldFpvb20iLCJjb3JuZXJQb2ludCIsIl9mb3JjZUhpdEFyZWEiLCJfcGF1c2UiLCJyZXNpemVUb0ZpdCIsImZpdCJdLCJtYXBwaW5ncyI6IjRUQWFBLE1BQU1BLEVBQ0YsWUFBWUMsR0FDUkMsS0FBS0QsU0FBV0EsRUFNaEJDLEtBQUtDLFFBQVUsR0FDZkQsS0FBS0UsZUFPVCxlQUNJRixLQUFLRCxTQUFTSSxhQUFjLEVBQ3ZCSCxLQUFLRCxTQUFTSyxlQUNmSixLQUFLRCxTQUFTTSxRQUFVLElBQUksRUFBQUMsVUFBVSxFQUFHLEVBQUdOLEtBQUtELFNBQVNRLFdBQVlQLEtBQUtELFNBQVNTLGNBRXhGUixLQUFLRCxTQUFTVSxHQUFHLGNBQWVULEtBQUtVLEtBQU1WLE1BQzNDQSxLQUFLRCxTQUFTVSxHQUFHLGNBQWVULEtBQUtXLEtBQU1YLE1BQzNDQSxLQUFLRCxTQUFTVSxHQUFHLFlBQWFULEtBQUtZLEdBQUlaLE1BQ3ZDQSxLQUFLRCxTQUFTVSxHQUFHLG1CQUFvQlQsS0FBS1ksR0FBSVosTUFDOUNBLEtBQUtELFNBQVNVLEdBQUcsZ0JBQWlCVCxLQUFLWSxHQUFJWixNQUMzQ0EsS0FBS0QsU0FBU1UsR0FBRyxhQUFjVCxLQUFLWSxHQUFJWixNQUN4Q0EsS0FBS2EsY0FBaUJDLEdBQU1kLEtBQUtlLFlBQVlELEdBQzdDZCxLQUFLRCxTQUFTaUIsUUFBUUMsU0FBU0MsaUJBQWlCLFFBQVNsQixLQUFLYSxjQUFlLENBQUVNLFFBQVNuQixLQUFLRCxTQUFTaUIsUUFBUUksZUFDOUdwQixLQUFLcUIsYUFBYyxFQU92QixVQUNJckIsS0FBS0QsU0FBU2lCLFFBQVFDLFNBQVNLLG9CQUFvQixRQUFTdEIsS0FBS2EsZUFPckUsS0FBS1UsR0FDRCxHQUFJdkIsS0FBS0QsU0FBU3lC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QSxHQUNBN0csS0FBS3FELEtBQUssUUFBUyxDQUFFdEQsU0FBVUMsS0FBTWtJLEtBQU0iLCJmaWxlIjoiN2IyNWVhZmM4YjIwNmIwYWM2MWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBQb2ludCwgQ29udGFpbmVyLCBWRVJTSU9OIH0gZnJvbSAncGl4aS5qcyc7XG5cbi8qKlxyXG4gKiBAdHlwZWRlZiBWaWV3cG9ydFRvdWNoXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpZFxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IGxhc3RcclxuKi9cclxuXHJcbi8qKlxyXG4gKiBoYW5kbGVzIGFsbCBpbnB1dCBmb3IgVmlld3BvcnRcclxuICogQHByaXZhdGVcclxuICovXHJcbmNsYXNzIElucHV0TWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2aWV3cG9ydCkge1xyXG4gICAgICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogbGlzdCBvZiBhY3RpdmUgdG91Y2hlcyBvbiB2aWV3cG9ydFxyXG4gICAgICAgICAqIEB0eXBlIHtWaWV3cG9ydFRvdWNoW119XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy50b3VjaGVzID0gW107XHJcbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGFkZCBpbnB1dCBsaXN0ZW5lcnNcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGFkZExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0LmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBpZiAoIXRoaXMudmlld3BvcnQuZm9yY2VIaXRBcmVhKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuaGl0QXJlYSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgdGhpcy52aWV3cG9ydC53b3JsZFdpZHRoLCB0aGlzLnZpZXdwb3J0LndvcmxkSGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52aWV3cG9ydC5vbigncG9pbnRlcmRvd24nLCB0aGlzLmRvd24sIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudmlld3BvcnQub24oJ3BvaW50ZXJtb3ZlJywgdGhpcy5tb3ZlLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0Lm9uKCdwb2ludGVydXAnLCB0aGlzLnVwLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0Lm9uKCdwb2ludGVydXBvdXRzaWRlJywgdGhpcy51cCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy52aWV3cG9ydC5vbigncG9pbnRlcmNhbmNlbCcsIHRoaXMudXAsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudmlld3BvcnQub24oJ3BvaW50ZXJvdXQnLCB0aGlzLnVwLCB0aGlzKTtcclxuICAgICAgICB0aGlzLndoZWVsRnVuY3Rpb24gPSAoZSkgPT4gdGhpcy5oYW5kbGVXaGVlbChlKTtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0Lm9wdGlvbnMuZGl2V2hlZWwuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLndoZWVsRnVuY3Rpb24sIHsgcGFzc2l2ZTogdGhpcy52aWV3cG9ydC5vcHRpb25zLnBhc3NpdmVXaGVlbCB9KTtcclxuICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZW1vdmVzIGFsbCBldmVudCBsaXN0ZW5lcnMgZnJvbSB2aWV3cG9ydFxyXG4gICAgICogKHVzZWZ1bCBmb3IgY2xlYW51cCBvZiB3aGVlbCB3aGVuIHJlbW92aW5nIHZpZXdwb3J0KVxyXG4gICAgICovXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMudmlld3BvcnQub3B0aW9ucy5kaXZXaGVlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMud2hlZWxGdW5jdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGUgZG93biBldmVudHMgZm9yIHZpZXdwb3J0XHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnRcclxuICAgICAqL1xyXG4gICAgZG93bihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXdwb3J0LnBhdXNlIHx8ICF0aGlzLnZpZXdwb3J0LndvcmxkVmlzaWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcclxuICAgICAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmdldChldmVudC5kYXRhLnBvaW50ZXJJZCkpIHtcclxuICAgICAgICAgICAgdGhpcy50b3VjaGVzLnB1c2goeyBpZDogZXZlbnQuZGF0YS5wb2ludGVySWQsIGxhc3Q6IG51bGwgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvdW50KCkgPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0ID0gZXZlbnQuZGF0YS5nbG9iYWwuY2xvbmUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNsaWNrZWQgZXZlbnQgZG9lcyBub3QgZmlyZSBpZiB2aWV3cG9ydCBpcyBkZWNlbGVyYXRpbmcgb3IgYm91bmNpbmdcclxuICAgICAgICAgICAgY29uc3QgZGVjZWxlcmF0ZSA9IHRoaXMudmlld3BvcnQucGx1Z2lucy5nZXQoJ2RlY2VsZXJhdGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgY29uc3QgYm91bmNlID0gdGhpcy52aWV3cG9ydC5wbHVnaW5zLmdldCgnYm91bmNlJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICgoIWRlY2VsZXJhdGUgfHwgIWRlY2VsZXJhdGUuaXNBY3RpdmUoKSkgJiYgKCFib3VuY2UgfHwgIWJvdW5jZS5pc0FjdGl2ZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja2VkQXZhaWxhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tlZEF2YWlsYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrZWRBdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHN0b3AgPSB0aGlzLnZpZXdwb3J0LnBsdWdpbnMuZG93bihldmVudCk7XHJcbiAgICAgICAgaWYgKHN0b3AgJiYgdGhpcy52aWV3cG9ydC5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjbGVhcnMgYWxsIHBvaW50ZXIgZXZlbnRzXHJcbiAgICAgKi9cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnRvdWNoZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmxhc3QgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNoYW5nZVxyXG4gICAgICogQHJldHVybnMgd2hldGhlciBjaGFuZ2UgZXhjZWVkcyB0aHJlc2hvbGRcclxuICAgICAqL1xyXG4gICAgY2hlY2tUaHJlc2hvbGQoY2hhbmdlKSB7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKGNoYW5nZSkgPj0gdGhpcy52aWV3cG9ydC50aHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGUgbW92ZSBldmVudHMgZm9yIHZpZXdwb3J0XHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnRcclxuICAgICAqL1xyXG4gICAgbW92ZShldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXdwb3J0LnBhdXNlIHx8ICF0aGlzLnZpZXdwb3J0LndvcmxkVmlzaWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHN0b3AgPSB0aGlzLnZpZXdwb3J0LnBsdWdpbnMubW92ZShldmVudCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNsaWNrZWRBdmFpbGFibGUpIHtcclxuICAgICAgICAgICAgY29uc3QgZGlzdFggPSBldmVudC5kYXRhLmdsb2JhbC54IC0gdGhpcy5sYXN0Lng7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3RZID0gZXZlbnQuZGF0YS5nbG9iYWwueSAtIHRoaXMubGFzdC55O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja1RocmVzaG9sZChkaXN0WCkgfHwgdGhpcy5jaGVja1RocmVzaG9sZChkaXN0WSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tlZEF2YWlsYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3RvcCAmJiB0aGlzLnZpZXdwb3J0Lm9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGhhbmRsZSB1cCBldmVudHMgZm9yIHZpZXdwb3J0XHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnRcclxuICAgICAqL1xyXG4gICAgdXAoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy52aWV3cG9ydC5wYXVzZSB8fCAhdGhpcy52aWV3cG9ydC53b3JsZFZpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZXZlbnQuZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJykge1xyXG4gICAgICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZXZlbnQuZGF0YS5wb2ludGVyVHlwZSAhPT0gJ21vdXNlJykge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZShldmVudC5kYXRhLnBvaW50ZXJJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzdG9wID0gdGhpcy52aWV3cG9ydC5wbHVnaW5zLnVwKGV2ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2xpY2tlZEF2YWlsYWJsZSAmJiB0aGlzLmNvdW50KCkgPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5lbWl0KCdjbGlja2VkJywgeyBldmVudDogZXZlbnQsIHNjcmVlbjogdGhpcy5sYXN0LCB3b3JsZDogdGhpcy52aWV3cG9ydC50b1dvcmxkKHRoaXMubGFzdCksIHZpZXdwb3J0OiB0aGlzIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmNsaWNrZWRBdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdG9wICYmIHRoaXMudmlld3BvcnQub3B0aW9ucy5zdG9wUHJvcGFnYXRpb24pIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0cyBwb2ludGVyIHBvc2l0aW9uIGlmIHRoaXMuaW50ZXJhY3Rpb24gaXMgc2V0XHJcbiAgICAgKiBAcGFyYW0ge1doZWVsRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fVxyXG4gICAgICovXHJcbiAgICBnZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpIHtcclxuICAgICAgICBsZXQgcG9pbnQgPSBuZXcgUG9pbnQoKTtcclxuICAgICAgICBpZiAodGhpcy52aWV3cG9ydC5vcHRpb25zLmludGVyYWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQub3B0aW9ucy5pbnRlcmFjdGlvbi5tYXBQb3NpdGlvblRvUG9pbnQocG9pbnQsIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcG9pbnQueCA9IGV2ZW50LmNsaWVudFg7XHJcbiAgICAgICAgICAgIHBvaW50LnkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9pbnRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGhhbmRsZSB3aGVlbCBldmVudHNcclxuICAgICAqIEBwYXJhbSB7V2hlZWxFdmVudH0gZXZlbnRcclxuICAgICAqL1xyXG4gICAgaGFuZGxlV2hlZWwoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy52aWV3cG9ydC5wYXVzZSB8fCAhdGhpcy52aWV3cG9ydC53b3JsZFZpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBvbmx5IGhhbmRsZSB3aGVlbCBldmVudHMgd2hlcmUgdGhlIG1vdXNlIGlzIG92ZXIgdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLnZpZXdwb3J0LnRvTG9jYWwodGhpcy5nZXRQb2ludGVyUG9zaXRpb24oZXZlbnQpKTtcclxuICAgICAgICBpZiAodGhpcy52aWV3cG9ydC5sZWZ0IDw9IHBvaW50LnggJiYgcG9pbnQueCA8PSB0aGlzLnZpZXdwb3J0LnJpZ2h0ICYmIHRoaXMudmlld3BvcnQudG9wIDw9IHBvaW50LnkgJiYgcG9pbnQueSA8PSB0aGlzLnZpZXdwb3J0LmJvdHRvbSkge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9wID0gdGhpcy52aWV3cG9ydC5wbHVnaW5zLndoZWVsKGV2ZW50KTtcclxuICAgICAgICAgICAgaWYgKHN0b3AgJiYgIXRoaXMudmlld3BvcnQub3B0aW9ucy5wYXNzaXZlV2hlZWwpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy50b3VjaGVzID0gW107XHJcbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHRvdWNoIGJ5IGlkXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWRcclxuICAgICAqIEByZXR1cm4ge1ZpZXdwb3J0VG91Y2h9XHJcbiAgICAgKi9cclxuICAgIGdldChpZCkge1xyXG4gICAgICAgIGZvciAobGV0IHRvdWNoIG9mIHRoaXMudG91Y2hlcykge1xyXG4gICAgICAgICAgICBpZiAodG91Y2guaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG91Y2hcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVtb3ZlIHRvdWNoIGJ5IG51bWJlclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZShpZCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50b3VjaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvdWNoZXNbaV0uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBjb3VudCBvZiBtb3VzZS90b3VjaCBwb2ludGVycyB0aGF0IGFyZSBkb3duIG9uIHRoZSB2aWV3cG9ydFxyXG4gICAgICovXHJcbiAgICBjb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuaXNNb3VzZURvd24gPyAxIDogMCkgKyB0aGlzLnRvdWNoZXMubGVuZ3RoXHJcbiAgICB9XHJcbn1cblxuY29uc3QgUExVR0lOX09SREVSID0gWydkcmFnJywgJ3BpbmNoJywgJ3doZWVsJywgJ2ZvbGxvdycsICdtb3VzZS1lZGdlcycsICdkZWNlbGVyYXRlJywgJ2FuaWFtdGUnLCAnYm91bmNlJywgJ3NuYXAtem9vbScsICdjbGFtcC16b29tJywgJ3NuYXAnLCAnY2xhbXAnXTtcclxuXHJcbi8qKlxyXG4gKiBVc2UgdGhpcyB0byBhY2Nlc3MgY3VycmVudCBwbHVnaW5zIG9yIGFkZCB1c2VyLWRlZmluZWQgcGx1Z2luc1xyXG4gKi9cclxuY2xhc3MgUGx1Z2luTWFuYWdlciB7XHJcbiAgICAvKipcclxuICAgICAqIGluc3RhbnRpYXRlZCBieSBWaWV3cG9ydFxyXG4gICAgICogQHBhcmFtIHtWaWV3cG9ydH0gdmlld3BvcnRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3Iodmlld3BvcnQpIHtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XHJcbiAgICAgICAgdGhpcy5saXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnNlcnRzIGEgbmFtZWQgcGx1Z2luIG9yIGEgdXNlciBwbHVnaW4gaW50byB0aGUgdmlld3BvcnRcclxuICAgICAqIGRlZmF1bHQgcGx1Z2luIG9yZGVyOiAnZHJhZycsICdwaW5jaCcsICd3aGVlbCcsICdmb2xsb3cnLCAnbW91c2UtZWRnZXMnLCAnZGVjZWxlcmF0ZScsICdib3VuY2UnLCAnc25hcC16b29tJywgJ2NsYW1wLXpvb20nLCAnc25hcCcsICdjbGFtcCdcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG9mIHBsdWdpblxyXG4gICAgICogQHBhcmFtIHtQbHVnaW59IHBsdWdpbiAtIGluc3RhbnRpYXRlZCBQbHVnaW4gY2xhc3NcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCB0byBpbnNlcnQgdXNlclBsdWdpbiAob3RoZXJ3aXNlIGluc2VydHMgaXQgYXQgdGhlIGVuZClcclxuICAgICAqL1xyXG4gICAgYWRkKG5hbWUsIHBsdWdpbiwgaW5kZXggPSBQTFVHSU5fT1JERVIubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zW25hbWVdID0gcGx1Z2luO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBQTFVHSU5fT1JERVIuaW5kZXhPZihuYW1lKTtcclxuICAgICAgICBpZiAoY3VycmVudCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgUExVR0lOX09SREVSLnNwbGljZShjdXJyZW50LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUExVR0lOX09SREVSLnNwbGljZShpbmRleCwgMCwgbmFtZSk7XHJcbiAgICAgICAgdGhpcy5zb3J0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgcGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBvZiBwbHVnaW5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lnbm9yZVBhdXNlZF0gcmV0dXJuIG51bGwgaWYgcGx1Z2luIGlzIHBhdXNlZFxyXG4gICAgICogQHJldHVybiB7UGx1Z2lufVxyXG4gICAgICovXHJcbiAgICBnZXQobmFtZSwgaWdub3JlUGF1c2VkKSB7XHJcbiAgICAgICAgaWYgKGlnbm9yZVBhdXNlZCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucGx1Z2luc1tuYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5wbHVnaW5zW25hbWVdLnBhdXNlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5wbHVnaW5zW25hbWVdXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB1cGRhdGUgYWxsIGFjdGl2ZSBwbHVnaW5zXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZWxhcHNlZCB0eXBlIGluIG1pbGxpc2Vjb25kcyBzaW5jZSBsYXN0IHVwZGF0ZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGUoZWxhcHNlZCkge1xyXG4gICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLmxpc3QpIHtcclxuICAgICAgICAgICAgcGx1Z2luLnVwZGF0ZShlbGFwc2VkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXNpemUgYWxsIGFjdGl2ZSBwbHVnaW5zXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHJlc2l6ZSgpIHtcclxuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5saXN0KSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5yZXNpemUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjbGFtcHMgYW5kIHJlc2V0cyBib3VuY2UgYW5kIGRlY2VsZXJhdGUgKGFzIG5lZWRlZCkgYWZ0ZXIgbWFudWFsbHkgbW92aW5nIHZpZXdwb3J0XHJcbiAgICAgKi9cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLmxpc3QpIHtcclxuICAgICAgICAgICAgcGx1Z2luLnJlc2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVtb3ZlcyBpbnN0YWxsZWQgcGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBvZiBwbHVnaW4gKGUuZy4sICdkcmFnJywgJ3BpbmNoJylcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlKG5hbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW5zW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tuYW1lXSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuZW1pdChuYW1lICsgJy1yZW1vdmUnKTtcclxuICAgICAgICAgICAgdGhpcy5zb3J0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcGF1c2UgcGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBvZiBwbHVnaW4gKGUuZy4sICdkcmFnJywgJ3BpbmNoJylcclxuICAgICAqL1xyXG4gICAgcGF1c2UobmFtZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbnNbbmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW25hbWVdLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVzdW1lIHBsdWdpblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgb2YgcGx1Z2luIChlLmcuLCAnZHJhZycsICdwaW5jaCcpXHJcbiAgICAgKi9cclxuICAgIHJlc3VtZShuYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luc1tuYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbbmFtZV0ucmVzdW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc29ydCBwbHVnaW5zIGFjY29yZGluZyB0byBQTFVHSU5fT1JERVJcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqL1xyXG4gICAgc29ydCgpIHtcclxuICAgICAgICB0aGlzLmxpc3QgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgUExVR0lOX09SREVSKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbnNbcGx1Z2luXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0LnB1c2godGhpcy5wbHVnaW5zW3BsdWdpbl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlIGRvd24gZm9yIGFsbCBwbHVnaW5zXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBkb3duKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHN0b3AgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5saXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChwbHVnaW4uZG93bihldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdG9wXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGUgbW92ZSBmb3IgYWxsIHBsdWdpbnNcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIG1vdmUoZXZlbnQpIHtcclxuICAgICAgICBsZXQgc3RvcCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLnZpZXdwb3J0LnBsdWdpbnMubGlzdCkge1xyXG4gICAgICAgICAgICBpZiAocGx1Z2luLm1vdmUoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RvcFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlIHVwIGZvciBhbGwgcGx1Z2luc1xyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdXAoZXZlbnQpIHtcclxuICAgICAgICBsZXQgc3RvcCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IHBsdWdpbiBvZiB0aGlzLmxpc3QpIHtcclxuICAgICAgICAgICAgaWYgKHBsdWdpbi51cChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdG9wXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGUgd2hlZWwgZXZlbnQgZm9yIGFsbCBwbHVnaW5zXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAcGFyYW0ge1doZWVsRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgd2hlZWwoZSkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5saXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChwbHVnaW4ud2hlZWwoZSkpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBkZXJpdmUgdGhpcyBjbGFzcyB0byBjcmVhdGUgdXNlci1kZWZpbmVkIHBsdWdpbnNcclxuICovXHJcbmNsYXNzIFBsdWdpblxyXG57XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICAgICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogY2FsbGVkIHdoZW4gcGx1Z2luIGlzIHJlbW92ZWQgKi9cclxuICAgIGRlc3Ryb3koKSB7fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlciBmb3IgcG9pbnRlcmRvd24gUElYSSBldmVudFxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgZG93bigpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGVyIGZvciBwb2ludGVybW92ZSBQSVhJIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBtb3ZlKClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGhhbmRsZXIgZm9yIHBvaW50ZXJ1cCBQSVhJIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICB1cCgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGVyIGZvciB3aGVlbCBldmVudCBvbiBkaXZcclxuICAgICAqIEBwYXJhbSB7V2hlZWxFdmVudH0gZXZlbnRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICB3aGVlbCgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjYWxsZWQgb24gZWFjaCB0aWNrXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZWxhcHNlZCB0aW1lIGluIG1pbGxpc2Vjb25kIHNpbmNlIGxhc3QgdXBkYXRlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZSgpIHsgfVxyXG5cclxuICAgIC8qKiBjYWxsZWQgd2hlbiB0aGUgdmlld3BvcnQgaXMgcmVzaXplZCAqL1xyXG4gICAgcmVzaXplKCkgeyB9XHJcblxyXG4gICAgLyoqIGNhbGxlZCB3aGVuIHRoZSB2aWV3cG9ydCBpcyBtYW51YWxseSBtb3ZlZCAqL1xyXG4gICAgcmVzZXQoKSB7IH1cclxuXHJcbiAgICAvKiogcGF1c2UgdGhlIHBsdWdpbiAqL1xyXG4gICAgcGF1c2UoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKiogdW4tcGF1c2UgdGhlIHBsdWdpbiAqL1xyXG4gICAgcmVzdW1lKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBMYXN0RHJhZ1xyXG4gKiBAcHJvcGVydHkge251bWJlcn0geFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0geVxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IHBhcmVudFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiBEcmFnT3B0aW9uc1xyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2RpcmVjdGlvbj1hbGxdIGRpcmVjdGlvbiB0byBkcmFnXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3ByZXNzRHJhZz10cnVlXSB3aGV0aGVyIGNsaWNrIHRvIGRyYWcgaXMgYWN0aXZlXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3doZWVsPXRydWVdIHVzZSB3aGVlbCB0byBzY3JvbGwgaW4gZGlyZWN0aW9uICh1bmxlc3Mgd2hlZWwgcGx1Z2luIGlzIGFjdGl2ZSlcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3aGVlbFNjcm9sbD0xXSBudW1iZXIgb2YgcGl4ZWxzIHRvIHNjcm9sbCB3aXRoIGVhY2ggd2hlZWwgc3BpblxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZXZlcnNlXSByZXZlcnNlIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHdoZWVsIHNjcm9sbFxyXG4gKiBAcHJvcGVydHkgeyhib29sZWFufHN0cmluZyl9IFtjbGFtcFdoZWVsPWZhbHNlXSBjbGFtcCB3aGVlbCh0byBhdm9pZCB3ZWlyZCBib3VuY2Ugd2l0aCBtb3VzZSB3aGVlbClcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFt1bmRlcmZsb3c9Y2VudGVyXSB3aGVyZSB0byBwbGFjZSB3b3JsZCBpZiB0b28gc21hbGwgZm9yIHNjcmVlblxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ZhY3Rvcj0xXSBmYWN0b3IgdG8gbXVsdGlwbHkgZHJhZyB0byBpbmNyZWFzZSB0aGUgc3BlZWQgb2YgbW92ZW1lbnRcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFttb3VzZUJ1dHRvbnM9YWxsXSBjaGFuZ2VzIHdoaWNoIG1vdXNlIGJ1dHRvbnMgdHJpZ2dlciBkcmFnLCB1c2U6ICdhbGwnLCAnbGVmdCcsIHJpZ2h0JyAnbWlkZGxlJywgb3Igc29tZSBjb21iaW5hdGlvbiwgbGlrZSwgJ21pZGRsZS1yaWdodCc7IHlvdSBtYXkgd2FudCB0byBzZXQgdmlld3BvcnQub3B0aW9ucy5kaXNhYmxlT25Db250ZXh0TWVudSBpZiB5b3Ugd2FudCB0byB1c2UgcmlnaHQtY2xpY2sgZHJhZ2dpbmdcclxuICogQHByb3BlcnR5IHtzdHJpbmdbXX0gW2tleVRvUHJlc3M9bnVsbF0gYXJyYXkgY29udGFpbmluZyB7QGxpbmsga2V5fGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9LZXlib2FyZEV2ZW50L2NvZGV9IGNvZGVzIG9mIGtleXMgdGhhdCBjYW4gYmUgcHJlc3NlZCBmb3IgdGhlIGRyYWcgdG8gYmUgdHJpZ2dlcmVkLCBlLmcuOiBbJ1NoaWZ0TGVmdCcsICdTaGlmdFJpZ2h0J30uXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2lnbm9yZUtleVRvUHJlc3NPblRvdWNoPWZhbHNlXSBpZ25vcmUga2V5VG9QcmVzcyBmb3IgdG91Y2ggZXZlbnRzXHJcbiAqL1xyXG5cclxuY29uc3QgZHJhZ09wdGlvbnMgPSB7XHJcbiAgICBkaXJlY3Rpb246ICdhbGwnLFxyXG4gICAgcHJlc3NEcmFnOiB0cnVlLFxyXG4gICAgd2hlZWw6IHRydWUsXHJcbiAgICB3aGVlbFNjcm9sbDogMSxcclxuICAgIHJldmVyc2U6IGZhbHNlLFxyXG4gICAgY2xhbXBXaGVlbDogZmFsc2UsXHJcbiAgICB1bmRlcmZsb3c6ICdjZW50ZXInLFxyXG4gICAgZmFjdG9yOiAxLFxyXG4gICAgbW91c2VCdXR0b25zOiAnYWxsJyxcclxuICAgIGtleVRvUHJlc3M6IG51bGwsXHJcbiAgICBpZ25vcmVLZXlUb1ByZXNzT25Ub3VjaDogZmFsc2VcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuY2xhc3MgRHJhZyBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxyXG4gICAgICogQHBhcmFtIHtEcmFnT3B0aW9uc30gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZHJhZ09wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJldmVyc2UgPSB0aGlzLm9wdGlvbnMucmV2ZXJzZSA/IDEgOiAtMTtcclxuICAgICAgICB0aGlzLnhEaXJlY3Rpb24gPSAhdGhpcy5vcHRpb25zLmRpcmVjdGlvbiB8fCB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAnYWxsJyB8fCB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAneCc7XHJcbiAgICAgICAgdGhpcy55RGlyZWN0aW9uID0gIXRoaXMub3B0aW9ucy5kaXJlY3Rpb24gfHwgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2FsbCcgfHwgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ3knO1xyXG4gICAgICAgIHRoaXMua2V5SXNQcmVzc2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucGFyc2VVbmRlcmZsb3coKTtcclxuICAgICAgICB0aGlzLm1vdXNlQnV0dG9ucyh0aGlzLm9wdGlvbnMubW91c2VCdXR0b25zKTtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmtleVRvUHJlc3MpIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVLZXlQcmVzc2VzKHRoaXMub3B0aW9ucy5rZXlUb1ByZXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIGtleXByZXNzIGV2ZW50cyBhbmQgc2V0IHRoZSBrZXlJc1ByZXNzZWQgYm9vbGVhbiBhY2NvcmRpbmdseVxyXG4gICAgICogQHBhcmFtIHthcnJheX0gY29kZXMgLSBrZXkgY29kZXMgdGhhdCBjYW4gYmUgdXNlZCB0byB0cmlnZ2VyIGRyYWcgZXZlbnRcclxuICAgICAqL1xyXG4gICAgaGFuZGxlS2V5UHJlc3Nlcyhjb2Rlcykge1xyXG4gICAgICAgIHBhcmVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBlID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvZGVzLmluY2x1ZGVzKGUuY29kZSkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmtleUlzUHJlc3NlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBhcmVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb2Rlcy5pbmNsdWRlcyhlLmNvZGUpKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlJc1ByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGluaXRpYWxpemUgbW91c2VidXR0b25zIGFycmF5XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnV0dG9uc1xyXG4gICAgICovXHJcbiAgICBtb3VzZUJ1dHRvbnMoYnV0dG9ucykge1xyXG4gICAgICAgIGlmICghYnV0dG9ucyB8fCBidXR0b25zID09PSAnYWxsJykge1xyXG4gICAgICAgICAgICB0aGlzLm1vdXNlID0gW3RydWUsIHRydWUsIHRydWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZSA9IFtcclxuICAgICAgICAgICAgICAgIGJ1dHRvbnMuaW5kZXhPZignbGVmdCcpID09PSAtMSA/IGZhbHNlIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGJ1dHRvbnMuaW5kZXhPZignbWlkZGxlJykgPT09IC0xID8gZmFsc2UgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYnV0dG9ucy5pbmRleE9mKCdyaWdodCcpID09PSAtMSA/IGZhbHNlIDogdHJ1ZVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwYXJzZVVuZGVyZmxvdygpIHtcclxuICAgICAgICBjb25zdCBjbGFtcCA9IHRoaXMub3B0aW9ucy51bmRlcmZsb3cudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoY2xhbXAgPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZXJmbG93WCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZXJmbG93WSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVuZGVyZmxvd1ggPSAoY2xhbXAuaW5kZXhPZignbGVmdCcpICE9PSAtMSkgPyAtMSA6IChjbGFtcC5pbmRleE9mKCdyaWdodCcpICE9PSAtMSkgPyAxIDogMDtcclxuICAgICAgICAgICAgdGhpcy51bmRlcmZsb3dZID0gKGNsYW1wLmluZGV4T2YoJ3RvcCcpICE9PSAtMSkgPyAtMSA6IChjbGFtcC5pbmRleE9mKCdib3R0b20nKSAhPT0gLTEpID8gMSA6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgY2hlY2tCdXR0b25zKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3QgaXNNb3VzZSA9IGV2ZW50LmRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZSc7XHJcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLnBhcmVudC5pbnB1dC5jb3VudCgpO1xyXG4gICAgICAgIGlmICgoY291bnQgPT09IDEpIHx8IChjb3VudCA+IDEgJiYgIXRoaXMucGFyZW50LnBsdWdpbnMuZ2V0KCdwaW5jaCcsIHRydWUpKSkge1xyXG4gICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgdGhpcy5tb3VzZVtldmVudC5kYXRhLmJ1dHRvbl0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBjaGVja0tleVByZXNzKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMua2V5VG9QcmVzcyB8fCB0aGlzLmtleUlzUHJlc3NlZCB8fCAodGhpcy5vcHRpb25zLmlnbm9yZUtleVRvUHJlc3NPblRvdWNoICYmIGV2ZW50LmRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudFxyXG4gICAgICovXHJcbiAgICBkb3duKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkIHx8ICF0aGlzLm9wdGlvbnMucHJlc3NEcmFnKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jaGVja0J1dHRvbnMoZXZlbnQpICYmIHRoaXMuY2hlY2tLZXlQcmVzcyhldmVudCkpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0ID0geyB4OiBldmVudC5kYXRhLmdsb2JhbC54LCB5OiBldmVudC5kYXRhLmdsb2JhbC55IH07XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGV2ZW50LmRhdGEucG9pbnRlcklkO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb3ZlZFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKi9cclxuICAgIG1vdmUoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQgfHwgIXRoaXMub3B0aW9ucy5wcmVzc0RyYWcpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxhc3QgJiYgdGhpcy5jdXJyZW50ID09PSBldmVudC5kYXRhLnBvaW50ZXJJZCkge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gZXZlbnQuZGF0YS5nbG9iYWwueDtcclxuICAgICAgICAgICAgY29uc3QgeSA9IGV2ZW50LmRhdGEuZ2xvYmFsLnk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5wYXJlbnQuaW5wdXQuY291bnQoKTtcclxuICAgICAgICAgICAgaWYgKGNvdW50ID09PSAxIHx8IChjb3VudCA+IDEgJiYgIXRoaXMucGFyZW50LnBsdWdpbnMuZ2V0KCdwaW5jaCcsIHRydWUpKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdFggPSB4IC0gdGhpcy5sYXN0Lng7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0WSA9IHkgLSB0aGlzLmxhc3QueTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vdmVkIHx8ICgodGhpcy54RGlyZWN0aW9uICYmIHRoaXMucGFyZW50LmlucHV0LmNoZWNrVGhyZXNob2xkKGRpc3RYKSkgfHwgKHRoaXMueURpcmVjdGlvbiAmJiB0aGlzLnBhcmVudC5pbnB1dC5jaGVja1RocmVzaG9sZChkaXN0WSkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BvaW50ID0geyB4LCB5IH07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMueERpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ICs9IChuZXdQb2ludC54IC0gdGhpcy5sYXN0LngpICogdGhpcy5vcHRpb25zLmZhY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMueURpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ICs9IChuZXdQb2ludC55IC0gdGhpcy5sYXN0LnkpICogdGhpcy5vcHRpb25zLmZhY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0ID0gbmV3UG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ2RyYWctc3RhcnQnLCB7IGV2ZW50OiBldmVudCwgc2NyZWVuOiBuZXcgUG9pbnQodGhpcy5sYXN0LngsIHRoaXMubGFzdC55KSwgd29ybGQ6IHRoaXMucGFyZW50LnRvV29ybGQobmV3IFBvaW50KHRoaXMubGFzdC54LCB0aGlzLmxhc3QueSkpLCB2aWV3cG9ydDogdGhpcy5wYXJlbnQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdkcmFnJyB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdXAoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRvdWNoZXMgPSB0aGlzLnBhcmVudC5pbnB1dC50b3VjaGVzO1xyXG4gICAgICAgIGlmICh0b3VjaGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludGVyID0gdG91Y2hlc1swXTtcclxuICAgICAgICAgICAgaWYgKHBvaW50ZXIubGFzdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0ID0geyB4OiBwb2ludGVyLmxhc3QueCwgeTogcG9pbnRlci5sYXN0LnkgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHBvaW50ZXIuaWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmxhc3QpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW92ZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNjcmVlbiA9IG5ldyBQb2ludCh0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnZHJhZy1lbmQnLCB7IGV2ZW50OiBldmVudCwgc2NyZWVuLCB3b3JsZDogdGhpcy5wYXJlbnQudG9Xb3JsZChzY3JlZW4pLCB2aWV3cG9ydDogdGhpcy5wYXJlbnQgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3QgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7V2hlZWxFdmVudH0gZXZlbnRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICB3aGVlbChldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2hlZWwpIHtcclxuICAgICAgICAgICAgY29uc3Qgd2hlZWwgPSB0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgnd2hlZWwnLCB0cnVlKTtcclxuICAgICAgICAgICAgaWYgKCF3aGVlbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueERpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggKz0gZXZlbnQuZGVsdGFYICogdGhpcy5vcHRpb25zLndoZWVsU2Nyb2xsICogdGhpcy5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueURpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgKz0gZXZlbnQuZGVsdGFZICogdGhpcy5vcHRpb25zLndoZWVsU2Nyb2xsICogdGhpcy5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbGFtcFdoZWVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnd2hlZWwtc2Nyb2xsJywgdGhpcy5wYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ3doZWVsJyB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQub3B0aW9ucy5wYXNzaXZlV2hlZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5sYXN0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNsYW1wKCkge1xyXG4gICAgICAgIGNvbnN0IGRlY2VsZXJhdGUgPSB0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgnZGVjZWxlcmF0ZScsIHRydWUpIHx8IHt9O1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xhbXBXaGVlbCAhPT0gJ3knKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZFdpZHRoIDwgdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy51bmRlcmZsb3dYKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ID0gKHRoaXMucGFyZW50LnNjcmVlbldpZHRoIC0gdGhpcy5wYXJlbnQuc2NyZWVuV29ybGRXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCA9ICh0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCAtIHRoaXMucGFyZW50LnNjcmVlbldvcmxkV2lkdGgpIC8gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5sZWZ0IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlY2VsZXJhdGUueCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBhcmVudC5yaWdodCA+IHRoaXMucGFyZW50LndvcmxkV2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ID0gLXRoaXMucGFyZW50LndvcmxkV2lkdGggKiB0aGlzLnBhcmVudC5zY2FsZS54ICsgdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVjZWxlcmF0ZS54ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsYW1wV2hlZWwgIT09ICd4Jykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuc2NyZWVuV29ybGRIZWlnaHQgPCB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy51bmRlcmZsb3dZKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ID0gKHRoaXMucGFyZW50LnNjcmVlbkhlaWdodCAtIHRoaXMucGFyZW50LnNjcmVlbldvcmxkSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ID0gKHRoaXMucGFyZW50LnNjcmVlbkhlaWdodCAtIHRoaXMucGFyZW50LnNjcmVlbldvcmxkSGVpZ2h0KSAvIDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQudG9wIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlY2VsZXJhdGUueSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuYm90dG9tID4gdGhpcy5wYXJlbnQud29ybGRIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ID0gLXRoaXMucGFyZW50LndvcmxkSGVpZ2h0ICogdGhpcy5wYXJlbnQuc2NhbGUueSArIHRoaXMucGFyZW50LnNjcmVlbkhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlLnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQaW5jaE9wdGlvbnNcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbbm9EcmFnXSBkaXNhYmxlIHR3by1maW5nZXIgZHJhZ2dpbmdcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwZXJjZW50PTFdIHBlcmNlbnQgdG8gbW9kaWZ5IHBpbmNoIHNwZWVkXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZmFjdG9yPTFdIGZhY3RvciB0byBtdWx0aXBseSB0d28tZmluZ2VyIGRyYWcgdG8gaW5jcmVhc2UgdGhlIHNwZWVkIG9mIG1vdmVtZW50XHJcbiAqIEBwcm9wZXJ0eSB7UElYSS5Qb2ludH0gW2NlbnRlcl0gcGxhY2UgdGhpcyBwb2ludCBhdCBjZW50ZXIgZHVyaW5nIHpvb20gaW5zdGVhZCBvZiBjZW50ZXIgb2YgdHdvIGZpbmdlcnNcclxuICovXHJcblxyXG5jb25zdCBwaW5jaE9wdGlvbnMgPSB7XHJcbiAgICBub0RyYWc6IGZhbHNlLFxyXG4gICAgcGVyY2VudDogMSxcclxuICAgIGNlbnRlcjogbnVsbCxcclxuICAgIGZhY3RvcjogMSxcclxufTtcclxuXHJcbmNsYXNzIFBpbmNoIGV4dGVuZHMgUGx1Z2luIHtcclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxyXG4gICAgICogQHBhcmFtIHtQaW5jaE9wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgcGluY2hPcHRpb25zLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudC5pbnB1dC5jb3VudCgpID49IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKGUpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQgfHwgIXRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeCA9IGUuZGF0YS5nbG9iYWwueDtcclxuICAgICAgICBjb25zdCB5ID0gZS5kYXRhLmdsb2JhbC55O1xyXG5cclxuICAgICAgICBjb25zdCBwb2ludGVycyA9IHRoaXMucGFyZW50LmlucHV0LnRvdWNoZXM7XHJcbiAgICAgICAgaWYgKHBvaW50ZXJzLmxlbmd0aCA+PSAyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0ID0gcG9pbnRlcnNbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZCA9IHBvaW50ZXJzWzFdO1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gKGZpcnN0Lmxhc3QgJiYgc2Vjb25kLmxhc3QpID8gTWF0aC5zcXJ0KE1hdGgucG93KHNlY29uZC5sYXN0LnggLSBmaXJzdC5sYXN0LngsIDIpICsgTWF0aC5wb3coc2Vjb25kLmxhc3QueSAtIGZpcnN0Lmxhc3QueSwgMikpIDogbnVsbDtcclxuICAgICAgICAgICAgaWYgKGZpcnN0LmlkID09PSBlLmRhdGEucG9pbnRlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBmaXJzdC5sYXN0ID0geyB4LCB5LCBkYXRhOiBlLmRhdGEgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzZWNvbmQuaWQgPT09IGUuZGF0YS5wb2ludGVySWQpIHtcclxuICAgICAgICAgICAgICAgIHNlY29uZC5sYXN0ID0geyB4LCB5LCBkYXRhOiBlLmRhdGEgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobGFzdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG9sZFBvaW50O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB7IHg6IGZpcnN0Lmxhc3QueCArIChzZWNvbmQubGFzdC54IC0gZmlyc3QubGFzdC54KSAvIDIsIHk6IGZpcnN0Lmxhc3QueSArIChzZWNvbmQubGFzdC55IC0gZmlyc3QubGFzdC55KSAvIDIgfTtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZFBvaW50ID0gdGhpcy5wYXJlbnQudG9Mb2NhbChwb2ludCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgZGlzdCA9IE1hdGguc3FydChNYXRoLnBvdyhzZWNvbmQubGFzdC54IC0gZmlyc3QubGFzdC54LCAyKSArIE1hdGgucG93KHNlY29uZC5sYXN0LnkgLSBmaXJzdC5sYXN0LnksIDIpKTtcclxuICAgICAgICAgICAgICAgIGRpc3QgPSBkaXN0ID09PSAwID8gZGlzdCA9IDAuMDAwMDAwMDAwMSA6IGRpc3Q7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2UgPSAoMSAtIGxhc3QgLyBkaXN0KSAqIHRoaXMub3B0aW9ucy5wZXJjZW50ICogdGhpcy5wYXJlbnQuc2NhbGUueDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnggKz0gY2hhbmdlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NhbGUueSArPSBjaGFuZ2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCd6b29tZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ3BpbmNoJywgY2VudGVyOiBwb2ludCB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNsYW1wID0gdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ2NsYW1wLXpvb20nLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFtcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYW1wLmNsYW1wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm1vdmVDZW50ZXIodGhpcy5vcHRpb25zLmNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQb2ludCA9IHRoaXMucGFyZW50LnRvR2xvYmFsKG9sZFBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ICs9IChwb2ludC54IC0gbmV3UG9pbnQueCkgKiB0aGlzLm9wdGlvbnMuZmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgKz0gKHBvaW50LnkgLSBuZXdQb2ludC55KSAqIHRoaXMub3B0aW9ucy5mYWN0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ3BpbmNoJyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLm5vRHJhZyAmJiB0aGlzLmxhc3RDZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ICs9IChwb2ludC54IC0gdGhpcy5sYXN0Q2VudGVyLngpICogdGhpcy5vcHRpb25zLmZhY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ICs9IChwb2ludC55IC0gdGhpcy5sYXN0Q2VudGVyLnkpICogdGhpcy5vcHRpb25zLmZhY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdtb3ZlZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAncGluY2gnIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q2VudGVyID0gcG9pbnQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5waW5jaGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3BpbmNoLXN0YXJ0JywgdGhpcy5wYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGluY2hpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBpbmNoaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5pbnB1dC50b3VjaGVzLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q2VudGVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGluY2hpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3BpbmNoLWVuZCcsIHRoaXMucGFyZW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEB0eXBlZGVmIENsYW1wT3B0aW9uc1xyXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8Ym9vbGVhbil9IFtsZWZ0PWZhbHNlXSBjbGFtcCBsZWZ0OyB0cnVlID0gMFxyXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8Ym9vbGVhbil9IFtyaWdodD1mYWxzZV0gY2xhbXAgcmlnaHQ7IHRydWUgPSB2aWV3cG9ydC53b3JsZFdpZHRoXHJcbiAqIEBwcm9wZXJ0eSB7KG51bWJlcnxib29sZWFuKX0gW3RvcD1mYWxzZV0gY2xhbXAgdG9wOyB0cnVlID0gMFxyXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8Ym9vbGVhbil9IFtib3R0b209ZmFsc2VdIGNsYW1wIGJvdHRvbTsgdHJ1ZSA9IHZpZXdwb3J0LndvcmxkSGVpZ2h0XHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZGlyZWN0aW9uXSAoYWxsLCB4LCBvciB5KSB1c2luZyBjbGFtcHMgb2YgWzAsIHZpZXdwb3J0LndvcmxkV2lkdGgvdmlld3BvcnQud29ybGRIZWlnaHRdOyByZXBsYWNlcyBsZWZ0L3JpZ2h0L3RvcC9ib3R0b20gaWYgc2V0XHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdW5kZXJmbG93PWNlbnRlcl0gd2hlcmUgdG8gcGxhY2Ugd29ybGQgaWYgdG9vIHNtYWxsIGZvciBzY3JlZW4gKGUuZy4sIHRvcC1yaWdodCwgY2VudGVyLCBub25lLCBib3R0b21sZWZ0KVxyXG4gKi9cclxuXHJcbmNvbnN0IGNsYW1wT3B0aW9ucyA9XHJcbntcclxuICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgcmlnaHQ6IGZhbHNlLFxyXG4gICAgdG9wOiBmYWxzZSxcclxuICAgIGJvdHRvbTogZmFsc2UsXHJcbiAgICBkaXJlY3Rpb246IG51bGwsXHJcbiAgICB1bmRlcmZsb3c6ICdjZW50ZXInXHJcbn07XHJcblxyXG5jbGFzcyBDbGFtcCBleHRlbmRzIFBsdWdpblxyXG57XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqIEBwYXJhbSB7Q2xhbXBPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50LCBvcHRpb25zPXt9KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgY2xhbXBPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRpcmVjdGlvbilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5sZWZ0ID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ3gnIHx8IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdhbGwnID8gdHJ1ZSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5yaWdodCA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICd4JyB8fCB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAnYWxsJyA/IHRydWUgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudG9wID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ3knIHx8IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdhbGwnID8gdHJ1ZSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5ib3R0b20gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAneScgfHwgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2FsbCcgPyB0cnVlIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJzZVVuZGVyZmxvdygpO1xyXG4gICAgICAgIHRoaXMubGFzdCA9IHsgeDogbnVsbCwgeTogbnVsbCwgc2NhbGVYOiBudWxsLCBzY2FsZVk6IG51bGwgfTtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlVW5kZXJmbG93KClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBjbGFtcCA9IHRoaXMub3B0aW9ucy51bmRlcmZsb3cudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoY2xhbXAgPT09ICdub25lJylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMubm9VbmRlcmZsb3cgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjbGFtcCA9PT0gJ2NlbnRlcicpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnVuZGVyZmxvd1ggPSB0aGlzLnVuZGVyZmxvd1kgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLm5vVW5kZXJmbG93ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZXJmbG93WCA9IChjbGFtcC5pbmRleE9mKCdsZWZ0JykgIT09IC0xKSA/IC0xIDogKGNsYW1wLmluZGV4T2YoJ3JpZ2h0JykgIT09IC0xKSA/IDEgOiAwO1xyXG4gICAgICAgICAgICB0aGlzLnVuZGVyZmxvd1kgPSAoY2xhbXAuaW5kZXhPZigndG9wJykgIT09IC0xKSA/IC0xIDogKGNsYW1wLmluZGV4T2YoJ2JvdHRvbScpICE9PSAtMSkgPyAxIDogMDtcclxuICAgICAgICAgICAgdGhpcy5ub1VuZGVyZmxvdyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGhhbmRsZSBtb3ZlIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgbW92ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb25seSBjbGFtcCBvbiBjaGFuZ2VcclxuICAgICAgICBpZiAodGhpcy5wYXJlbnQueCA9PT0gdGhpcy5sYXN0LnggJiYgdGhpcy5wYXJlbnQueSA9PT0gdGhpcy5sYXN0LnkgJiYgdGhpcy5wYXJlbnQuc2NhbGUueCA9PT0gdGhpcy5sYXN0LnNjYWxlWCAmJiB0aGlzLnBhcmVudC5zY2FsZS55ID09PSB0aGlzLmxhc3Quc2NhbGVZKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0geyB4OiB0aGlzLnBhcmVudC54LCB5OiB0aGlzLnBhcmVudC55IH07XHJcbiAgICAgICAgY29uc3QgZGVjZWxlcmF0ZSA9IHRoaXMucGFyZW50LnBsdWdpbnNbJ2RlY2VsZXJhdGUnXSB8fCB7fTtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxlZnQgIT09IG51bGwgfHwgdGhpcy5vcHRpb25zLnJpZ2h0ICE9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZFdpZHRoIDwgdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGgpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ub1VuZGVyZmxvdylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudW5kZXJmbG93WClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQueCAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQueCAhPT0gdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZFdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggPSB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCAtIHRoaXMucGFyZW50LnNjcmVlbldvcmxkV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC54ICE9PSAodGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZFdpZHRoKSAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCA9ICh0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCAtIHRoaXMucGFyZW50LnNjcmVlbldvcmxkV2lkdGgpIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sZWZ0ICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5sZWZ0IDwgKHRoaXMub3B0aW9ucy5sZWZ0ID09PSB0cnVlID8gMCA6IHRoaXMub3B0aW9ucy5sZWZ0KSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggPSAtKHRoaXMub3B0aW9ucy5sZWZ0ID09PSB0cnVlID8gMCA6IHRoaXMub3B0aW9ucy5sZWZ0KSAqIHRoaXMucGFyZW50LnNjYWxlLng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2VsZXJhdGUueCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJpZ2h0ICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5yaWdodCA+ICh0aGlzLm9wdGlvbnMucmlnaHQgPT09IHRydWUgPyB0aGlzLnBhcmVudC53b3JsZFdpZHRoIDogdGhpcy5vcHRpb25zLnJpZ2h0KSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggPSAtKHRoaXMub3B0aW9ucy5yaWdodCA9PT0gdHJ1ZSA/IHRoaXMucGFyZW50LndvcmxkV2lkdGggOiB0aGlzLm9wdGlvbnMucmlnaHQpICogdGhpcy5wYXJlbnQuc2NhbGUueCArIHRoaXMucGFyZW50LnNjcmVlbldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlLnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtb3ZlZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgb3JpZ2luYWwsIHR5cGU6ICdjbGFtcC14JyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRvcCAhPT0gbnVsbCB8fCB0aGlzLm9wdGlvbnMuYm90dG9tICE9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IG1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZEhlaWdodCA8IHRoaXMucGFyZW50LnNjcmVlbkhlaWdodClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5vVW5kZXJmbG93KVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy51bmRlcmZsb3dZKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC55ICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC55ICE9PSB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQgLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZEhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ID0gKHRoaXMucGFyZW50LnNjcmVlbkhlaWdodCAtIHRoaXMucGFyZW50LnNjcmVlbldvcmxkSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LnkgIT09ICh0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQgLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZEhlaWdodCkgLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgPSAodGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0IC0gdGhpcy5wYXJlbnQuc2NyZWVuV29ybGRIZWlnaHQpIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50b3AgIT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LnRvcCA8ICh0aGlzLm9wdGlvbnMudG9wID09PSB0cnVlID8gMCA6IHRoaXMub3B0aW9ucy50b3ApKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSA9IC0odGhpcy5vcHRpb25zLnRvcCA9PT0gdHJ1ZSA/IDAgOiB0aGlzLm9wdGlvbnMudG9wKSAqIHRoaXMucGFyZW50LnNjYWxlLnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2VsZXJhdGUueSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJvdHRvbSAhPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuYm90dG9tID4gKHRoaXMub3B0aW9ucy5ib3R0b20gPT09IHRydWUgPyB0aGlzLnBhcmVudC53b3JsZEhlaWdodCA6IHRoaXMub3B0aW9ucy5ib3R0b20pKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSA9IC0odGhpcy5vcHRpb25zLmJvdHRvbSA9PT0gdHJ1ZSA/IHRoaXMucGFyZW50LndvcmxkSGVpZ2h0IDogdGhpcy5vcHRpb25zLmJvdHRvbSkgKiB0aGlzLnBhcmVudC5zY2FsZS55ICsgdGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlLnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtb3ZlZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgb3JpZ2luYWwsIHR5cGU6ICdjbGFtcC15JyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxhc3QueCA9IHRoaXMucGFyZW50Lng7XHJcbiAgICAgICAgdGhpcy5sYXN0LnkgPSB0aGlzLnBhcmVudC55O1xyXG4gICAgICAgIHRoaXMubGFzdC5zY2FsZVggPSB0aGlzLnBhcmVudC5zY2FsZS54O1xyXG4gICAgICAgIHRoaXMubGFzdC5zY2FsZVkgPSB0aGlzLnBhcmVudC5zY2FsZS55O1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KCkgXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogdXNlIGVpdGhlciBtaW5pbXVtIHdpZHRoL2hlaWdodCBvciBtaW5pbXVtIHNjYWxlXHJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IENsYW1wWm9vbU9wdGlvbnNcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5XaWR0aF0gbWluaW11bSB3aWR0aFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21pbkhlaWdodF0gbWluaW11bSBoZWlnaHRcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhXaWR0aF0gbWF4aW11bSB3aWR0aFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heEhlaWdodF0gbWF4aW11bSBoZWlnaHRcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5TY2FsZV0gbWluaW11bSBzY2FsZVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21heFNjYWxlXSBtaW5pbXVtIHNjYWxlXHJcbiAqL1xyXG5cclxuY29uc3QgY2xhbXBab29tT3B0aW9ucyA9IHtcclxuICAgIG1pbldpZHRoOiBudWxsLFxyXG4gICAgbWluSGVpZ2h0OiBudWxsLFxyXG4gICAgbWF4V2lkdGg6IG51bGwsXHJcbiAgICBtYXhIZWlnaHQ6IG51bGwsXHJcbiAgICBtaW5TY2FsZTogbnVsbCxcclxuICAgIG1heFNjYWxlOiBudWxsXHJcbn07XHJcblxyXG5jbGFzcyBDbGFtcFpvb20gZXh0ZW5kcyBQbHVnaW5cclxue1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHtWaWV3cG9ydH0gcGFyZW50XHJcbiAgICAgKiBAcGFyYW0ge0NsYW1wWm9vbU9wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG9wdGlvbnM9e30pXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50KTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBjbGFtcFpvb21PcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmNsYW1wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzaXplKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmNsYW1wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xhbXAoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5taW5XaWR0aCB8fCB0aGlzLm9wdGlvbnMubWluSGVpZ2h0IHx8IHRoaXMub3B0aW9ucy5tYXhXaWR0aCB8fCB0aGlzLm9wdGlvbnMubWF4SGVpZ2h0KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IHdpZHRoID0gdGhpcy5wYXJlbnQud29ybGRTY3JlZW5XaWR0aDtcclxuICAgICAgICAgICAgbGV0IGhlaWdodCA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuSGVpZ2h0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1pbldpZHRoICE9PSBudWxsICYmIHdpZHRoIDwgdGhpcy5vcHRpb25zLm1pbldpZHRoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMucGFyZW50LnNjYWxlLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5maXRXaWR0aCh0aGlzLm9wdGlvbnMubWluV2lkdGgsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS55ICo9IHRoaXMucGFyZW50LnNjYWxlLnggLyBvcmlnaW5hbDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5wYXJlbnQud29ybGRTY3JlZW5XaWR0aDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnem9vbWVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdjbGFtcC16b29tJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1heFdpZHRoICE9PSBudWxsICYmIHdpZHRoID4gdGhpcy5vcHRpb25zLm1heFdpZHRoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMucGFyZW50LnNjYWxlLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5maXRXaWR0aCh0aGlzLm9wdGlvbnMubWF4V2lkdGgsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS55ICo9IHRoaXMucGFyZW50LnNjYWxlLnggLyBvcmlnaW5hbDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5wYXJlbnQud29ybGRTY3JlZW5XaWR0aDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnem9vbWVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdjbGFtcC16b29tJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1pbkhlaWdodCAhPT0gbnVsbCAmJiBoZWlnaHQgPCB0aGlzLm9wdGlvbnMubWluSGVpZ2h0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMucGFyZW50LnNjYWxlLnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5maXRIZWlnaHQodGhpcy5vcHRpb25zLm1pbkhlaWdodCwgZmFsc2UsIGZhbHNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnggKj0gdGhpcy5wYXJlbnQuc2NhbGUueSAvIG9yaWdpbmFsO1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aGlzLnBhcmVudC53b3JsZFNjcmVlbldpZHRoO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5wYXJlbnQud29ybGRTY3JlZW5IZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCd6b29tZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ2NsYW1wLXpvb20nIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWF4SGVpZ2h0ICE9PSBudWxsICYmIGhlaWdodCA+IHRoaXMub3B0aW9ucy5tYXhIZWlnaHQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gdGhpcy5wYXJlbnQuc2NhbGUueTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmZpdEhlaWdodCh0aGlzLm9wdGlvbnMubWF4SGVpZ2h0LCBmYWxzZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NhbGUueCAqPSB0aGlzLnBhcmVudC5zY2FsZS55IC8gb3JpZ2luYWw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCd6b29tZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ2NsYW1wLXpvb20nIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBzY2FsZSA9IHRoaXMucGFyZW50LnNjYWxlLng7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWluU2NhbGUgIT09IG51bGwgJiYgc2NhbGUgPCB0aGlzLm9wdGlvbnMubWluU2NhbGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gdGhpcy5vcHRpb25zLm1pblNjYWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWF4U2NhbGUgIT09IG51bGwgJiYgc2NhbGUgPiB0aGlzLm9wdGlvbnMubWF4U2NhbGUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gdGhpcy5vcHRpb25zLm1heFNjYWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzY2FsZSAhPT0gdGhpcy5wYXJlbnQuc2NhbGUueCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NhbGUuc2V0KHNjYWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3pvb21lZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnY2xhbXAtem9vbScgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuY2xhbXAoKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQHR5cGVkZWYge29iamVjdH0gRGVjZWxlcmF0ZU9wdGlvbnNcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmcmljdGlvbj0wLjk1XSBwZXJjZW50IHRvIGRlY2VsZXJhdGUgYWZ0ZXIgbW92ZW1lbnRcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtib3VuY2U9MC44XSBwZXJjZW50IHRvIGRlY2VsZXJhdGUgd2hlbiBwYXN0IGJvdW5kYXJpZXMgKG9ubHkgYXBwbGljYWJsZSB3aGVuIHZpZXdwb3J0LmJvdW5jZSgpIGlzIGFjdGl2ZSlcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5TcGVlZD0wLjAxXSBtaW5pbXVtIHZlbG9jaXR5IGJlZm9yZSBzdG9wcGluZy9yZXZlcnNpbmcgYWNjZWxlcmF0aW9uXHJcbiAqL1xyXG5cclxuY29uc3QgZGVjZWxlcmF0ZU9wdGlvbnMgPSB7XHJcbiAgICBmcmljdGlvbjogMC45OCxcclxuICAgIGJvdW5jZTogMC44LFxyXG4gICAgbWluU3BlZWQ6IDAuMDFcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUaW1lIHBlcmlvZCBvZiBkZWNheSAoMSBmcmFtZSlcclxuICovXHJcbmNvbnN0IFRQID0gMTY7XHJcblxyXG5jbGFzcyBEZWNlbGVyYXRlIGV4dGVuZHMgUGx1Z2luIHtcclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxyXG4gICAgICogQHBhcmFtIHtEZWNlbGVyYXRlT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50KTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWNlbGVyYXRlT3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5zYXZlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMudGltZVNpbmNlUmVsZWFzZSA9IDA7XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMucGFyZW50Lm9uKCdtb3ZlZCcsIGRhdGEgPT4gdGhpcy5tb3ZlZChkYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnBhcmVudDtcclxuICAgIH1cclxuXHJcbiAgICBkb3duKCkge1xyXG4gICAgICAgIHRoaXMuc2F2ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLnggPSB0aGlzLnkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpc0FjdGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54IHx8IHRoaXMueVxyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY291bnQgPSB0aGlzLnBhcmVudC5pbnB1dC5jb3VudCgpO1xyXG4gICAgICAgIGlmIChjb3VudCA9PT0gMSB8fCAoY291bnQgPiAxICYmICF0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgncGluY2gnLCB0cnVlKSkpIHtcclxuICAgICAgICAgICAgdGhpcy5zYXZlZC5wdXNoKHsgeDogdGhpcy5wYXJlbnQueCwgeTogdGhpcy5wYXJlbnQueSwgdGltZTogcGVyZm9ybWFuY2Uubm93KCkgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNhdmVkLmxlbmd0aCA+IDYwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNhdmVkLnNwbGljZSgwLCAzMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZWQoZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLnNhdmVkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5zYXZlZFt0aGlzLnNhdmVkLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnY2xhbXAteCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsYXN0LnggPT09IGRhdGEub3JpZ2luYWwueCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3QueCA9IHRoaXMucGFyZW50Lng7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAnY2xhbXAteScpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsYXN0LnkgPT09IGRhdGEub3JpZ2luYWwueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3QueSA9IHRoaXMucGFyZW50Lnk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlucHV0LmNvdW50KCkgPT09IDAgJiYgdGhpcy5zYXZlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHNhdmUgb2YgdGhpcy5zYXZlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNhdmUudGltZSA+PSBub3cgLSAxMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lID0gbm93IC0gc2F2ZS50aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueCA9ICh0aGlzLnBhcmVudC54IC0gc2F2ZS54KSAvIHRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ID0gKHRoaXMucGFyZW50LnkgLSBzYXZlLnkpIC8gdGltZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcmNlbnRDaGFuZ2VYID0gdGhpcy5wZXJjZW50Q2hhbmdlWSA9IHRoaXMub3B0aW9ucy5mcmljdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVTaW5jZVJlbGVhc2UgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBtYW51YWxseSBhY3RpdmF0ZSBwbHVnaW5cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMueF1cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy55XVxyXG4gICAgICovXHJcbiAgICBhY3RpdmF0ZShvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnggIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IG9wdGlvbnMueDtcclxuICAgICAgICAgICAgdGhpcy5wZXJjZW50Q2hhbmdlWCA9IHRoaXMub3B0aW9ucy5mcmljdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnkgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IG9wdGlvbnMueTtcclxuICAgICAgICAgICAgdGhpcy5wZXJjZW50Q2hhbmdlWSA9IHRoaXMub3B0aW9ucy5mcmljdGlvbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGVsYXBzZWQpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRmaWcvcGl4aS12aWV3cG9ydC9pc3N1ZXMvMjcxIGZvciBtYXRoLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIHZpZXdwb3J0IHZlbG9jaXR5ICh0aGlzLngsIHRoaXMueSkgZGVjYXlzIGV4cG9lbmVudGlhbCBieSB0aGUgdGhlIGRlY2F5IGZhY3RvclxyXG4gICAgICAgICAqICh0aGlzLnBlcmNlbnRDaGFuZ2VYLCB0aGlzLnBlcmNlbnRDaGFuZ2VZKSBlYWNoIGZyYW1lLiBUaGlzIHZlbG9jaXR5IGZ1bmN0aW9uIGlzIGludGVncmF0ZWRcclxuICAgICAgICAgKiB0byBjYWxjdWxhdGUgdGhlIGRpc3BsYWNlbWVudC5cclxuICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgY29uc3QgbW92ZWQgPSB0aGlzLnggfHwgdGhpcy55O1xyXG5cclxuICAgICAgICBjb25zdCB0aSA9IHRoaXMudGltZVNpbmNlUmVsZWFzZTtcclxuICAgICAgICBjb25zdCB0ZiA9IHRoaXMudGltZVNpbmNlUmVsZWFzZSArIGVsYXBzZWQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLngpIHtcclxuICAgICAgICAgICAgY29uc3QgayA9IHRoaXMucGVyY2VudENoYW5nZVg7XHJcbiAgICAgICAgICAgIGNvbnN0IGxuayA9IE1hdGgubG9nKGspO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQueCArPSAoKHRoaXMueCAqIFRQKSAvIGxuaykgKiAoTWF0aC5wb3coaywgdGYgLyBUUCkgLSBNYXRoLnBvdyhrLCB0aSAvIFRQKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnkpIHtcclxuICAgICAgICAgICAgY29uc3QgayA9IHRoaXMucGVyY2VudENoYW5nZVk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxuayA9IE1hdGgubG9nKGspO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQueSArPSAoKHRoaXMueSAqIFRQKSAvIGxuaykgKiAoTWF0aC5wb3coaywgdGYgLyBUUCkgLSBNYXRoLnBvdyhrLCB0aSAvIFRQKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRpbWVTaW5jZVJlbGVhc2UgKz0gZWxhcHNlZDtcclxuICAgICAgICB0aGlzLnggKj0gTWF0aC5wb3codGhpcy5wZXJjZW50Q2hhbmdlWCwgZWxhcHNlZCAvIFRQKTtcclxuICAgICAgICB0aGlzLnkgKj0gTWF0aC5wb3codGhpcy5wZXJjZW50Q2hhbmdlWSwgZWxhcHNlZCAvIFRQKTtcclxuXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMueCkgPCB0aGlzLm9wdGlvbnMubWluU3BlZWQpIHtcclxuICAgICAgICAgICAgdGhpcy54ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMueSkgPCB0aGlzLm9wdGlvbnMubWluU3BlZWQpIHtcclxuICAgICAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtb3ZlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdtb3ZlZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnZGVjZWxlcmF0ZScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMueCA9IHRoaXMueSA9IG51bGw7XHJcbiAgICB9XHJcbn1cblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBiYXNlZGlyLCBtb2R1bGUpIHtcblx0cmV0dXJuIG1vZHVsZSA9IHtcblx0XHRwYXRoOiBiYXNlZGlyLFxuXHRcdGV4cG9ydHM6IHt9LFxuXHRcdHJlcXVpcmU6IGZ1bmN0aW9uIChwYXRoLCBiYXNlKSB7XG5cdFx0XHRyZXR1cm4gY29tbW9uanNSZXF1aXJlKHBhdGgsIChiYXNlID09PSB1bmRlZmluZWQgfHwgYmFzZSA9PT0gbnVsbCkgPyBtb2R1bGUucGF0aCA6IGJhc2UpO1xuXHRcdH1cblx0fSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xufVxuXG5mdW5jdGlvbiBjb21tb25qc1JlcXVpcmUgKCkge1xuXHR0aHJvdyBuZXcgRXJyb3IoJ0R5bmFtaWMgcmVxdWlyZXMgYXJlIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGJ5IEByb2xsdXAvcGx1Z2luLWNvbW1vbmpzJyk7XG59XG5cbnZhciBwZW5uZXIgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4vKlxuXHRDb3B5cmlnaHQgwqkgMjAwMSBSb2JlcnQgUGVubmVyXG5cdEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cblx0UmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgXG5cdGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcblxuXHRSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBcblx0Y29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuXHRSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBcblx0b2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgXG5cdHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cblxuXHROZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBhdXRob3Igbm9yIHRoZSBuYW1lcyBvZiBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBcblx0b3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cblxuXHRUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIFwiQVMgSVNcIiBBTkQgQU5ZIFxuXHRFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0Zcblx0TUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5cdENPUFlSSUdIVCBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCxcblx0RVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFXG5cdEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBcblx0QU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcblx0TkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgXG5cdE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBwZW5uZXIsIHVtZDtcblxuICB1bWQgPSBmdW5jdGlvbihmYWN0b3J5KSB7XG4gICAge1xuICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeTtcbiAgICB9XG4gIH07XG5cbiAgcGVubmVyID0ge1xuICAgIGxpbmVhcjogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiB0IC8gZCArIGI7XG4gICAgfSxcbiAgICBlYXNlSW5RdWFkOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluQ3ViaWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluT3V0Q3ViaWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVhc2VJblF1YXJ0OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcbiAgICB9LFxuICAgIGVhc2VPdXRRdWFydDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dFF1YXJ0OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5RdWludDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dFF1aW50OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluT3V0UXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5TaW5lOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0U2luZTogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dFNpbmU6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbkV4cG86IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICh0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlT3V0RXhwbzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgaWYgKHQgPT09IGQpIHtcbiAgICAgICAgcmV0dXJuIGIgKyBjO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVhc2VJbk91dEV4cG86IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluQ2lyYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcbiAgICB9LFxuICAgIGVhc2VPdXRDaXJjOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluT3V0Q2lyYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5FbGFzdGljOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICB2YXIgYSwgcCwgcztcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgICAgcCA9IDA7XG4gICAgICBhID0gYztcbiAgICAgIGlmICh0ID09PSAwKSA7IGVsc2UgaWYgKCh0IC89IGQpID09PSAxKSA7XG4gICAgICBpZiAoIXApIHtcbiAgICAgICAgcCA9IGQgKiAuMztcbiAgICAgIH1cbiAgICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgYSA9IGM7XG4gICAgICAgIHMgPSBwIC8gNDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHZhciBhLCBwLCBzO1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgICBwID0gMDtcbiAgICAgIGEgPSBjO1xuICAgICAgaWYgKHQgPT09IDApIDsgZWxzZSBpZiAoKHQgLz0gZCkgPT09IDEpIDtcbiAgICAgIGlmICghcCkge1xuICAgICAgICBwID0gZCAqIC4zO1xuICAgICAgfVxuICAgICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICBhID0gYztcbiAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIGMgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluT3V0RWxhc3RpYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgdmFyIGEsIHAsIHM7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICAgIHAgPSAwO1xuICAgICAgYSA9IGM7XG4gICAgICBpZiAodCA9PT0gMCkgOyBlbHNlIGlmICgodCAvPSBkIC8gMikgPT09IDIpIDtcbiAgICAgIGlmICghcCkge1xuICAgICAgICBwID0gZCAqICguMyAqIDEuNSk7XG4gICAgICB9XG4gICAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgIGEgPSBjO1xuICAgICAgICBzID0gcCAvIDQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgfVxuICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgIHJldHVybiAtLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAuNSArIGMgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluQmFjazogZnVuY3Rpb24odCwgYiwgYywgZCwgcykge1xuICAgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgICBzID0gMS43MDE1ODtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogKChzICsgMSkgKiB0IC0gcykgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dEJhY2s6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgICAgcyA9IDEuNzAxNTg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAxKSArIGI7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRCYWNrOiBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7XG4gICAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHMgPSAxLjcwMTU4O1xuICAgICAgfVxuICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKHQgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgLSBzKSkgKyBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0ICsgcykgKyAyKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5Cb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHZhciB2O1xuICAgICAgdiA9IHBlbm5lci5lYXNlT3V0Qm91bmNlKGQgLSB0LCAwLCBjLCBkKTtcbiAgICAgIHJldHVybiBjIC0gdiArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICBpZiAoKHQgLz0gZCkgPCAxIC8gMi43NSkge1xuICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuICAgICAgfSBlbHNlIGlmICh0IDwgMiAvIDIuNzUpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMS41IC8gMi43NSkgKiB0ICsgLjc1KSArIGI7XG4gICAgICB9IGVsc2UgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG4gICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDIuMjUgLyAyLjc1KSAqIHQgKyAuOTM3NSkgKyBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gMi42MjUgLyAyLjc1KSAqIHQgKyAuOTg0Mzc1KSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5PdXRCb3VuY2U6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHZhciB2O1xuICAgICAgaWYgKHQgPCBkIC8gMikge1xuICAgICAgICB2ID0gcGVubmVyLmVhc2VJbkJvdW5jZSh0ICogMiwgMCwgYywgZCk7XG4gICAgICAgIHJldHVybiB2ICogLjUgKyBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdiA9IHBlbm5lci5lYXNlT3V0Qm91bmNlKHQgKiAyIC0gZCwgMCwgYywgZCk7XG4gICAgICAgIHJldHVybiB2ICogLjUgKyBjICogLjUgKyBiO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB1bWQocGVubmVyKTtcblxufSkuY2FsbChjb21tb25qc0dsb2JhbCk7XG59KTtcblxuLyoqXHJcbiAqIHJldHVybnMgY29ycmVjdCBQZW5uZXIgZXF1YXRpb24gdXNpbmcgc3RyaW5nIG9yIEZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7KGZ1bmN0aW9ufHN0cmluZyl9IFtlYXNlXVxyXG4gKiBAcGFyYW0ge2RlZmF1bHRzfSBkZWZhdWx0IHBlbm5lciBlcXVhdGlvbiB0byB1c2UgaWYgbm9uZSBpcyBwcm92aWRlZFxyXG4gKi9cclxuZnVuY3Rpb24gZWFzZShlYXNlLCBkZWZhdWx0cylcclxue1xyXG4gICAgaWYgKCFlYXNlKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBwZW5uZXJbZGVmYXVsdHNdXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgZWFzZSA9PT0gJ2Z1bmN0aW9uJylcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gZWFzZVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGVhc2UgPT09ICdzdHJpbmcnKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBwZW5uZXJbZWFzZV1cclxuICAgIH1cclxufVxuXG4vKipcclxuICogQHR5cGVkZWYge29wdGlvbnN9IEJvdW5jZU9wdGlvbnNcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzaWRlcz1hbGxdIGFsbCwgaG9yaXpvbnRhbCwgdmVydGljYWwsIG9yIGNvbWJpbmF0aW9uIG9mIHRvcCwgYm90dG9tLCByaWdodCwgbGVmdCAoZS5nLiwgJ3RvcC1ib3R0b20tcmlnaHQnKVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ZyaWN0aW9uPTAuNV0gZnJpY3Rpb24gdG8gYXBwbHkgdG8gZGVjZWxlcmF0ZSBpZiBhY3RpdmVcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lPTE1MF0gdGltZSBpbiBtcyB0byBmaW5pc2ggYm91bmNlXHJcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSBbYm91bmNlQm94XSB1c2UgdGhpcyBib3VuY2VCb3ggaW5zdGVhZCBvZiAoMCwgMCwgdmlld3BvcnQud29ybGRXaWR0aCwgdmlld3BvcnQud29ybGRIZWlnaHQpXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYm91bmNlQm94Lng9MF1cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtib3VuY2VCb3gueT0wXVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2JvdW5jZUJveC53aWR0aD12aWV3cG9ydC53b3JsZFdpZHRoXVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2JvdW5jZUJveC5oZWlnaHQ9dmlld3BvcnQud29ybGRIZWlnaHRdXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfGZ1bmN0aW9ufSBbZWFzZT1lYXNlSW5PdXRTaW5lXSBlYXNlIGZ1bmN0aW9uIG9yIG5hbWUgKHNlZSBodHRwOi8vZWFzaW5ncy5uZXQvIGZvciBzdXBwb3J0ZWQgbmFtZXMpXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdW5kZXJmbG93PWNlbnRlcl0gKHRvcC9ib3R0b20vY2VudGVyIGFuZCBsZWZ0L3JpZ2h0L2NlbnRlciwgb3IgY2VudGVyKSB3aGVyZSB0byBwbGFjZSB3b3JsZCBpZiB0b28gc21hbGwgZm9yIHNjcmVlblxyXG4gKi9cclxuXHJcbmNvbnN0IGJvdW5jZU9wdGlvbnMgPSB7XHJcbiAgICBzaWRlczogJ2FsbCcsXHJcbiAgICBmcmljdGlvbjogMC41LFxyXG4gICAgdGltZTogMTUwLFxyXG4gICAgZWFzZTogJ2Vhc2VJbk91dFNpbmUnLFxyXG4gICAgdW5kZXJmbG93OiAnY2VudGVyJyxcclxuICAgIGJvdW5jZUJveDogbnVsbFxyXG59O1xyXG5cclxuY2xhc3MgQm91bmNlIGV4dGVuZHMgUGx1Z2luIHtcclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxyXG4gICAgICogQHBhcmFtIHtCb3VuY2VPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEBmaXJlcyBib3VuY2Utc3RhcnQteFxyXG4gICAgICogQGZpcmVzIGJvdW5jZS5lbmQteFxyXG4gICAgICogQGZpcmVzIGJvdW5jZS1zdGFydC15XHJcbiAgICAgKiBAZmlyZXMgYm91bmNlLWVuZC15XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50KTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBib3VuY2VPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmVhc2UgPSBlYXNlKHRoaXMub3B0aW9ucy5lYXNlLCAnZWFzZUluT3V0U2luZScpO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lkZXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaWRlcyA9PT0gJ2FsbCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9wID0gdGhpcy5ib3R0b20gPSB0aGlzLmxlZnQgPSB0aGlzLnJpZ2h0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuc2lkZXMgPT09ICdob3Jpem9udGFsJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMubGVmdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLnNpZGVzID09PSAndmVydGljYWwnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvcCA9IHRoaXMuYm90dG9tID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9wID0gdGhpcy5vcHRpb25zLnNpZGVzLmluZGV4T2YoJ3RvcCcpICE9PSAtMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy5vcHRpb25zLnNpZGVzLmluZGV4T2YoJ2JvdHRvbScpICE9PSAtMTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGVmdCA9IHRoaXMub3B0aW9ucy5zaWRlcy5pbmRleE9mKCdsZWZ0JykgIT09IC0xO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodCA9IHRoaXMub3B0aW9ucy5zaWRlcy5pbmRleE9mKCdyaWdodCcpICE9PSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhcnNlVW5kZXJmbG93KCk7XHJcbiAgICAgICAgdGhpcy5sYXN0ID0ge307XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlVW5kZXJmbG93KCkge1xyXG4gICAgICAgIGNvbnN0IGNsYW1wID0gdGhpcy5vcHRpb25zLnVuZGVyZmxvdy50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChjbGFtcCA9PT0gJ2NlbnRlcicpIHtcclxuICAgICAgICAgICAgdGhpcy51bmRlcmZsb3dYID0gMDtcclxuICAgICAgICAgICAgdGhpcy51bmRlcmZsb3dZID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZXJmbG93WCA9IChjbGFtcC5pbmRleE9mKCdsZWZ0JykgIT09IC0xKSA/IC0xIDogKGNsYW1wLmluZGV4T2YoJ3JpZ2h0JykgIT09IC0xKSA/IDEgOiAwO1xyXG4gICAgICAgICAgICB0aGlzLnVuZGVyZmxvd1kgPSAoY2xhbXAuaW5kZXhPZigndG9wJykgIT09IC0xKSA/IC0xIDogKGNsYW1wLmluZGV4T2YoJ2JvdHRvbScpICE9PSAtMSkgPyAxIDogMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXNBY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9YICE9PSBudWxsIHx8IHRoaXMudG9ZICE9PSBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgZG93bigpIHtcclxuICAgICAgICB0aGlzLnRvWCA9IHRoaXMudG9ZID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB1cCgpIHtcclxuICAgICAgICB0aGlzLmJvdW5jZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ib3VuY2UoKTtcclxuICAgICAgICBpZiAodGhpcy50b1gpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9YID0gdGhpcy50b1g7XHJcbiAgICAgICAgICAgIHRvWC50aW1lICs9IGVsYXBzZWQ7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdib3VuY2UteCcgfSk7XHJcbiAgICAgICAgICAgIGlmICh0b1gudGltZSA+PSB0aGlzLm9wdGlvbnMudGltZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCA9IHRvWC5lbmQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvWCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdib3VuY2UteC1lbmQnLCB0aGlzLnBhcmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ID0gdGhpcy5lYXNlKHRvWC50aW1lLCB0b1guc3RhcnQsIHRvWC5kZWx0YSwgdGhpcy5vcHRpb25zLnRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRvWSkge1xyXG4gICAgICAgICAgICBjb25zdCB0b1kgPSB0aGlzLnRvWTtcclxuICAgICAgICAgICAgdG9ZLnRpbWUgKz0gZWxhcHNlZDtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ2JvdW5jZS15JyB9KTtcclxuICAgICAgICAgICAgaWYgKHRvWS50aW1lID49IHRoaXMub3B0aW9ucy50aW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ID0gdG9ZLmVuZDtcclxuICAgICAgICAgICAgICAgIHRoaXMudG9ZID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ2JvdW5jZS15LWVuZCcsIHRoaXMucGFyZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgPSB0aGlzLmVhc2UodG9ZLnRpbWUsIHRvWS5zdGFydCwgdG9ZLmRlbHRhLCB0aGlzLm9wdGlvbnMudGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY1VuZGVyZmxvd1goKSB7XHJcbiAgICAgICAgbGV0IHg7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnVuZGVyZmxvd1gpIHtcclxuICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgIHggPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgeCA9ICh0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCAtIHRoaXMucGFyZW50LnNjcmVlbldvcmxkV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHggPSAodGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZFdpZHRoKSAvIDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB4XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY1VuZGVyZmxvd1koKSB7XHJcbiAgICAgICAgbGV0IHk7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnVuZGVyZmxvd1kpIHtcclxuICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgIHkgPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgeSA9ICh0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQgLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgeSA9ICh0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQgLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZEhlaWdodCkgLyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geVxyXG4gICAgfVxyXG5cclxuICAgIG9vYigpIHtcclxuICAgICAgICBjb25zdCBib3ggPSB0aGlzLm9wdGlvbnMuYm91bmNlQm94O1xyXG4gICAgICAgIGlmIChib3gpIHtcclxuICAgICAgICAgICAgY29uc3QgeDEgPSB0eXBlb2YgYm94LnggPT09ICd1bmRlZmluZWQnID8gMCA6IGJveC54O1xyXG4gICAgICAgICAgICBjb25zdCB5MSA9IHR5cGVvZiBib3gueSA9PT0gJ3VuZGVmaW5lZCcgPyAwIDogYm94Lnk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdHlwZW9mIGJveC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnBhcmVudC53b3JsZFdpZHRoIDogYm94LndpZHRoO1xyXG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0eXBlb2YgYm94LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnBhcmVudC53b3JsZEhlaWdodCA6IGJveC5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiB0aGlzLnBhcmVudC5sZWZ0IDwgeDEsXHJcbiAgICAgICAgICAgICAgICByaWdodDogdGhpcy5wYXJlbnQucmlnaHQgPiB3aWR0aCxcclxuICAgICAgICAgICAgICAgIHRvcDogdGhpcy5wYXJlbnQudG9wIDwgeTEsXHJcbiAgICAgICAgICAgICAgICBib3R0b206IHRoaXMucGFyZW50LmJvdHRvbSA+IGhlaWdodCxcclxuICAgICAgICAgICAgICAgIHRvcExlZnQ6IG5ldyBQb2ludChcclxuICAgICAgICAgICAgICAgICAgICB4MSAqIHRoaXMucGFyZW50LnNjYWxlLngsXHJcbiAgICAgICAgICAgICAgICAgICAgeTEgKiB0aGlzLnBhcmVudC5zY2FsZS55XHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgYm90dG9tUmlnaHQ6IG5ldyBQb2ludChcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCAqIHRoaXMucGFyZW50LnNjYWxlLnggLSB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKiB0aGlzLnBhcmVudC5zY2FsZS55IC0gdGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGVmdDogdGhpcy5wYXJlbnQubGVmdCA8IDAsXHJcbiAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnBhcmVudC5yaWdodCA+IHRoaXMucGFyZW50LndvcmxkV2lkdGgsXHJcbiAgICAgICAgICAgIHRvcDogdGhpcy5wYXJlbnQudG9wIDwgMCxcclxuICAgICAgICAgICAgYm90dG9tOiB0aGlzLnBhcmVudC5ib3R0b20gPiB0aGlzLnBhcmVudC53b3JsZEhlaWdodCxcclxuICAgICAgICAgICAgdG9wTGVmdDogbmV3IFBvaW50KDAsIDApLFxyXG4gICAgICAgICAgICBib3R0b21SaWdodDogbmV3IFBvaW50KFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQud29ybGRXaWR0aCAqIHRoaXMucGFyZW50LnNjYWxlLnggLSB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCxcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LndvcmxkSGVpZ2h0ICogdGhpcy5wYXJlbnQuc2NhbGUueSAtIHRoaXMucGFyZW50LnNjcmVlbkhlaWdodFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGJvdW5jZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgb29iO1xyXG4gICAgICAgIGxldCBkZWNlbGVyYXRlID0gdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ2RlY2VsZXJhdGUnLCB0cnVlKTtcclxuICAgICAgICBpZiAoZGVjZWxlcmF0ZSAmJiAoZGVjZWxlcmF0ZS54IHx8IGRlY2VsZXJhdGUueSkpIHtcclxuICAgICAgICAgICAgaWYgKChkZWNlbGVyYXRlLnggJiYgZGVjZWxlcmF0ZS5wZXJjZW50Q2hhbmdlWCA9PT0gZGVjZWxlcmF0ZS5vcHRpb25zLmZyaWN0aW9uKSB8fCAoZGVjZWxlcmF0ZS55ICYmIGRlY2VsZXJhdGUucGVyY2VudENoYW5nZVkgPT09IGRlY2VsZXJhdGUub3B0aW9ucy5mcmljdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIG9vYiA9IHRoaXMub29iKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoKG9vYi5sZWZ0ICYmIHRoaXMubGVmdCkgfHwgKG9vYi5yaWdodCAmJiB0aGlzLnJpZ2h0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlY2VsZXJhdGUucGVyY2VudENoYW5nZVggPSB0aGlzLm9wdGlvbnMuZnJpY3Rpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKG9vYi50b3AgJiYgdGhpcy50b3ApIHx8IChvb2IuYm90dG9tICYmIHRoaXMuYm90dG9tKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlY2VsZXJhdGUucGVyY2VudENoYW5nZVkgPSB0aGlzLm9wdGlvbnMuZnJpY3Rpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZHJhZyA9IHRoaXMucGFyZW50LnBsdWdpbnMuZ2V0KCdkcmFnJywgdHJ1ZSkgfHwge307XHJcbiAgICAgICAgY29uc3QgcGluY2ggPSB0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgncGluY2gnLCB0cnVlKSB8fCB7fTtcclxuICAgICAgICBkZWNlbGVyYXRlID0gZGVjZWxlcmF0ZSB8fCB7fTtcclxuICAgICAgICBpZiAoIWRyYWcuYWN0aXZlICYmICFwaW5jaC5hY3RpdmUgJiYgKCghdGhpcy50b1ggfHwgIXRoaXMudG9ZKSAmJiAoIWRlY2VsZXJhdGUueCB8fCAhZGVjZWxlcmF0ZS55KSkpIHtcclxuICAgICAgICAgICAgb29iID0gb29iIHx8IHRoaXMub29iKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvcExlZnQgPSBvb2IudG9wTGVmdDtcclxuICAgICAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSBvb2IuYm90dG9tUmlnaHQ7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy50b1ggJiYgIWRlY2VsZXJhdGUueCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9vYi5sZWZ0ICYmIHRoaXMubGVmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSAodGhpcy5wYXJlbnQuc2NyZWVuV29ybGRXaWR0aCA8IHRoaXMucGFyZW50LnNjcmVlbldpZHRoKSA/IHRoaXMuY2FsY1VuZGVyZmxvd1goKSA6IC10b3BMZWZ0Lng7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvb2IucmlnaHQgJiYgdGhpcy5yaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHggPSAodGhpcy5wYXJlbnQuc2NyZWVuV29ybGRXaWR0aCA8IHRoaXMucGFyZW50LnNjcmVlbldpZHRoKSA/IHRoaXMuY2FsY1VuZGVyZmxvd1goKSA6IC1ib3R0b21SaWdodC54O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHggIT09IG51bGwgJiYgdGhpcy5wYXJlbnQueCAhPT0geCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9YID0geyB0aW1lOiAwLCBzdGFydDogdGhpcy5wYXJlbnQueCwgZGVsdGE6IHggLSB0aGlzLnBhcmVudC54LCBlbmQ6IHggfTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdib3VuY2UteC1zdGFydCcsIHRoaXMucGFyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMudG9ZICYmICFkZWNlbGVyYXRlLnkpIHtcclxuICAgICAgICAgICAgICAgIGxldCB5ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmIChvb2IudG9wICYmIHRoaXMudG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSA9ICh0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZEhlaWdodCA8IHRoaXMucGFyZW50LnNjcmVlbkhlaWdodCkgPyB0aGlzLmNhbGNVbmRlcmZsb3dZKCkgOiAtdG9wTGVmdC55O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob29iLmJvdHRvbSAmJiB0aGlzLmJvdHRvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSAodGhpcy5wYXJlbnQuc2NyZWVuV29ybGRIZWlnaHQgPCB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQpID8gdGhpcy5jYWxjVW5kZXJmbG93WSgpIDogLWJvdHRvbVJpZ2h0Lnk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoeSAhPT0gbnVsbCAmJiB0aGlzLnBhcmVudC55ICE9PSB5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b1kgPSB7IHRpbWU6IDAsIHN0YXJ0OiB0aGlzLnBhcmVudC55LCBkZWx0YTogeSAtIHRoaXMucGFyZW50LnksIGVuZDogeSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ2JvdW5jZS15LXN0YXJ0JywgdGhpcy5wYXJlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMudG9YID0gdGhpcy50b1kgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYm91bmNlKCk7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEB0eXBlZGVmIFNuYXBPcHRpb25zXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3RvcExlZnRdIHNuYXAgdG8gdGhlIHRvcC1sZWZ0IG9mIHZpZXdwb3J0IGluc3RlYWQgb2YgY2VudGVyXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZnJpY3Rpb249MC44XSBmcmljdGlvbi9mcmFtZSB0byBhcHBseSBpZiBkZWNlbGVyYXRlIGlzIGFjdGl2ZVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWU9MTAwMF1cclxuICogQHByb3BlcnR5IHtzdHJpbmd8ZnVuY3Rpb259IFtlYXNlPWVhc2VJbk91dFNpbmVdIGVhc2UgZnVuY3Rpb24gb3IgbmFtZSAoc2VlIGh0dHA6Ly9lYXNpbmdzLm5ldC8gZm9yIHN1cHBvcnRlZCBuYW1lcylcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJydXB0PXRydWVdIHBhdXNlIHNuYXBwaW5nIHdpdGggYW55IHVzZXIgaW5wdXQgb24gdGhlIHZpZXdwb3J0XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JlbW92ZU9uQ29tcGxldGVdIHJlbW92ZXMgdGhpcyBwbHVnaW4gYWZ0ZXIgc25hcHBpbmcgaXMgY29tcGxldGVcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVtb3ZlT25JbnRlcnJ1cHRdIHJlbW92ZXMgdGhpcyBwbHVnaW4gaWYgaW50ZXJydXB0ZWQgYnkgYW55IHVzZXIgaW5wdXRcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbZm9yY2VTdGFydF0gc3RhcnRzIHRoZSBzbmFwIGltbWVkaWF0ZWx5IHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgdmlld3BvcnQgaXMgYXQgdGhlIGRlc2lyZWQgbG9jYXRpb25cclxuICovXHJcblxyXG5jb25zdCBzbmFwT3B0aW9ucyA9IHtcclxuICAgIHRvcExlZnQ6IGZhbHNlLFxyXG4gICAgZnJpY3Rpb246IDAuOCxcclxuICAgIHRpbWU6IDEwMDAsXHJcbiAgICBlYXNlOiAnZWFzZUluT3V0U2luZScsXHJcbiAgICBpbnRlcnJ1cHQ6IHRydWUsXHJcbiAgICByZW1vdmVPbkNvbXBsZXRlOiBmYWxzZSxcclxuICAgIHJlbW92ZU9uSW50ZXJydXB0OiBmYWxzZSxcclxuICAgIGZvcmNlU3RhcnQ6IGZhbHNlXHJcbn07XHJcblxyXG5jbGFzcyBTbmFwIGV4dGVuZHMgUGx1Z2luIHtcclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAgICAgKiBAcGFyYW0ge1NuYXBPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEBldmVudCBzbmFwLXN0YXJ0KFZpZXdwb3J0KSBlbWl0dGVkIGVhY2ggdGltZSBhIHNuYXAgYW5pbWF0aW9uIHN0YXJ0c1xyXG4gICAgICogQGV2ZW50IHNuYXAtcmVzdGFydChWaWV3cG9ydCkgZW1pdHRlZCBlYWNoIHRpbWUgYSBzbmFwIHJlc2V0cyBiZWNhdXNlIG9mIGEgY2hhbmdlIGluIHZpZXdwb3J0IHNpemVcclxuICAgICAqIEBldmVudCBzbmFwLWVuZChWaWV3cG9ydCkgZW1pdHRlZCBlYWNoIHRpbWUgc25hcCByZWFjaGVzIGl0cyB0YXJnZXRcclxuICAgICAqIEBldmVudCBzbmFwLXJlbW92ZShWaWV3cG9ydCkgZW1pdHRlZCBpZiBzbmFwIHBsdWdpbiBpcyByZW1vdmVkXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgeCwgeSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50KTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzbmFwT3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5lYXNlID0gZWFzZShvcHRpb25zLmVhc2UsICdlYXNlSW5PdXRTaW5lJyk7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9yY2VTdGFydCkge1xyXG4gICAgICAgICAgICB0aGlzLnNuYXBTdGFydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzbmFwU3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5wZXJjZW50ID0gMDtcclxuICAgICAgICB0aGlzLnNuYXBwaW5nID0geyB0aW1lOiAwIH07XHJcbiAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMub3B0aW9ucy50b3BMZWZ0ID8gdGhpcy5wYXJlbnQuY29ybmVyIDogdGhpcy5wYXJlbnQuY2VudGVyO1xyXG4gICAgICAgIHRoaXMuZGVsdGFYID0gdGhpcy54IC0gY3VycmVudC54O1xyXG4gICAgICAgIHRoaXMuZGVsdGFZID0gdGhpcy55IC0gY3VycmVudC55O1xyXG4gICAgICAgIHRoaXMuc3RhcnRYID0gY3VycmVudC54O1xyXG4gICAgICAgIHRoaXMuc3RhcnRZID0gY3VycmVudC55O1xyXG4gICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3NuYXAtc3RhcnQnLCB0aGlzLnBhcmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgd2hlZWwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkludGVycnVwdCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5wbHVnaW5zLnJlbW92ZSgnc25hcCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZlT25JbnRlcnJ1cHQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucGx1Z2lucy5yZW1vdmUoJ3NuYXAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLmludGVycnVwdCkge1xyXG4gICAgICAgICAgICB0aGlzLnNuYXBwaW5nID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LmlucHV0LmNvdW50KCkgPT09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgZGVjZWxlcmF0ZSA9IHRoaXMucGFyZW50LnBsdWdpbnMuZ2V0KCdkZWNlbGVyYXRlJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmIChkZWNlbGVyYXRlICYmIChkZWNlbGVyYXRlLnggfHwgZGVjZWxlcmF0ZS55KSkge1xyXG4gICAgICAgICAgICAgICAgZGVjZWxlcmF0ZS5wZXJjZW50Q2hhbmdlWCA9IGRlY2VsZXJhdGUucGVyY2VudENoYW5nZVkgPSB0aGlzLm9wdGlvbnMuZnJpY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGVsYXBzZWQpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW50ZXJydXB0ICYmIHRoaXMucGFyZW50LmlucHV0LmNvdW50KCkgIT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5zbmFwcGluZykge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5vcHRpb25zLnRvcExlZnQgPyB0aGlzLnBhcmVudC5jb3JuZXIgOiB0aGlzLnBhcmVudC5jZW50ZXI7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50LnggIT09IHRoaXMueCB8fCBjdXJyZW50LnkgIT09IHRoaXMueSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbmFwU3RhcnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3Qgc25hcHBpbmcgPSB0aGlzLnNuYXBwaW5nO1xyXG4gICAgICAgICAgICBzbmFwcGluZy50aW1lICs9IGVsYXBzZWQ7XHJcbiAgICAgICAgICAgIGxldCBmaW5pc2hlZCwgeCwgeTtcclxuICAgICAgICAgICAgaWYgKHNuYXBwaW5nLnRpbWUgPiB0aGlzLm9wdGlvbnMudGltZSkge1xyXG4gICAgICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMuc3RhcnRYICsgdGhpcy5kZWx0YVg7XHJcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy5zdGFydFkgKyB0aGlzLmRlbHRhWTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmVhc2Uoc25hcHBpbmcudGltZSwgMCwgMSwgdGhpcy5vcHRpb25zLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgeCA9IHRoaXMuc3RhcnRYICsgdGhpcy5kZWx0YVggKiBwZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMuc3RhcnRZICsgdGhpcy5kZWx0YVkgKiBwZXJjZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9wTGVmdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNvcm5lcih4LCB5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm1vdmVDZW50ZXIoeCwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ3NuYXAnIH0pO1xyXG4gICAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZlT25Db21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnBsdWdpbnMucmVtb3ZlKCdzbmFwJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdzbmFwLWVuZCcsIHRoaXMucGFyZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc25hcHBpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTbmFwWm9vbU9wdGlvbnNcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3aWR0aD0wXSB0aGUgZGVzaXJlZCB3aWR0aCB0byBzbmFwICh0byBtYWludGFpbiBhc3BlY3QgcmF0aW8sIGNob29zZSBvbmx5IHdpZHRoIG9yIGhlaWdodClcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtoZWlnaHQ9MF0gdGhlIGRlc2lyZWQgaGVpZ2h0IHRvIHNuYXAgKHRvIG1haW50YWluIGFzcGVjdCByYXRpbywgY2hvb3NlIG9ubHkgd2lkdGggb3IgaGVpZ2h0KVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWU9MTAwMF0gdGltZSBmb3Igc25hcHBpbmcgaW4gbXNcclxuICogQHByb3BlcnR5IHsoc3RyaW5nfGZ1bmN0aW9uKX0gW2Vhc2U9ZWFzZUluT3V0U2luZV0gZWFzZSBmdW5jdGlvbiBvciBuYW1lIChzZWUgaHR0cDovL2Vhc2luZ3MubmV0LyBmb3Igc3VwcG9ydGVkIG5hbWVzKVxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IFtjZW50ZXJdIHBsYWNlIHRoaXMgcG9pbnQgYXQgY2VudGVyIGR1cmluZyB6b29tIGluc3RlYWQgb2YgY2VudGVyIG9mIHRoZSB2aWV3cG9ydFxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpbnRlcnJ1cHQ9dHJ1ZV0gcGF1c2Ugc25hcHBpbmcgd2l0aCBhbnkgdXNlciBpbnB1dCBvbiB0aGUgdmlld3BvcnRcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVtb3ZlT25Db21wbGV0ZV0gcmVtb3ZlcyB0aGlzIHBsdWdpbiBhZnRlciBzbmFwcGluZyBpcyBjb21wbGV0ZVxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZW1vdmVPbkludGVycnVwdF0gcmVtb3ZlcyB0aGlzIHBsdWdpbiBpZiBpbnRlcnJ1cHRlZCBieSBhbnkgdXNlciBpbnB1dFxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtmb3JjZVN0YXJ0XSBzdGFydHMgdGhlIHNuYXAgaW1tZWRpYXRlbHkgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSB2aWV3cG9ydCBpcyBhdCB0aGUgZGVzaXJlZCB6b29tXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25vTW92ZV0gem9vbSBidXQgZG8gbm90IG1vdmVcclxuICovXHJcblxyXG5jb25zdCBzbmFwWm9vbU9wdGlvbnMgPSB7XHJcbiAgICB3aWR0aDogMCxcclxuICAgIGhlaWdodDogMCxcclxuICAgIHRpbWU6IDEwMDAsXHJcbiAgICBlYXNlOiAnZWFzZUluT3V0U2luZScsXHJcbiAgICBjZW50ZXI6IG51bGwsXHJcbiAgICBpbnRlcnJ1cHQ6IHRydWUsXHJcbiAgICByZW1vdmVPbkNvbXBsZXRlOiBmYWxzZSxcclxuICAgIHJlbW92ZU9uSW50ZXJydXB0czogZmFsc2UsXHJcbiAgICBmb3JjZVN0YXJ0OiBmYWxzZSxcclxuICAgIG5vTW92ZTogZmFsc2VcclxufTtcclxuXHJcbmNsYXNzIFNuYXBab29tIGV4dGVuZHMgUGx1Z2luIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtWaWV3cG9ydH0gcGFyZW50XHJcbiAgICAgKiBAcGFyYW0ge1NuYXBab29tT3B0aW9uc30gb3B0aW9uc1xyXG4gICAgICogQGV2ZW50IHNuYXAtem9vbS1zdGFydChWaWV3cG9ydCkgZW1pdHRlZCBlYWNoIHRpbWUgYSBmaXQgYW5pbWF0aW9uIHN0YXJ0c1xyXG4gICAgICogQGV2ZW50IHNuYXAtem9vbS1lbmQoVmlld3BvcnQpIGVtaXR0ZWQgZWFjaCB0aW1lIGZpdCByZWFjaGVzIGl0cyB0YXJnZXRcclxuICAgICAqIEBldmVudCBzbmFwLXpvb20tZW5kKFZpZXdwb3J0KSBlbWl0dGVkIGVhY2ggdGltZSBmaXQgcmVhY2hlcyBpdHMgdGFyZ2V0XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50KTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBzbmFwWm9vbU9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuZWFzZSA9IGVhc2UodGhpcy5vcHRpb25zLmVhc2UpO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueFNjYWxlID0gcGFyZW50LnNjcmVlbldpZHRoIC8gdGhpcy5vcHRpb25zLndpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy55U2NhbGUgPSBwYXJlbnQuc2NyZWVuSGVpZ2h0IC8gdGhpcy5vcHRpb25zLmhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy54SW5kZXBlbmRlbnQgPSB0aGlzLnhTY2FsZSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB0aGlzLnlJbmRlcGVuZGVudCA9IHRoaXMueVNjYWxlID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy54SW5kZXBlbmRlbnQgPyB0aGlzLnhTY2FsZSA6IHRoaXMueVNjYWxlO1xyXG4gICAgICAgIHRoaXMueVNjYWxlID0gdGhpcy55SW5kZXBlbmRlbnQgPyB0aGlzLnlTY2FsZSA6IHRoaXMueFNjYWxlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRpbWUgPT09IDApIHtcclxuICAgICAgICAgICAgcGFyZW50LmNvbnRhaW5lci5zY2FsZS54ID0gdGhpcy54U2NhbGU7XHJcbiAgICAgICAgICAgIHBhcmVudC5jb250YWluZXIuc2NhbGUueSA9IHRoaXMueVNjYWxlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uQ29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnBsdWdpbnMucmVtb3ZlKCdzbmFwLXpvb20nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmZvcmNlU3RhcnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVTbmFwcGluZygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVTbmFwcGluZygpIHtcclxuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMucGFyZW50LnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0V29ybGRTY3JlZW5XaWR0aCA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuV2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRXb3JsZFNjcmVlbkhlaWdodCA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuSGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IGVuZFdvcmxkU2NyZWVuV2lkdGggPSB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCAvIHRoaXMueFNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGVuZFdvcmxkU2NyZWVuSGVpZ2h0ID0gdGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0IC8gdGhpcy55U2NhbGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zbmFwcGluZyA9IHsgXHJcbiAgICAgICAgICAgIHRpbWU6IDAsIFxyXG4gICAgICAgICAgICBzdGFydFg6IHN0YXJ0V29ybGRTY3JlZW5XaWR0aCwgXHJcbiAgICAgICAgICAgIHN0YXJ0WTogc3RhcnRXb3JsZFNjcmVlbkhlaWdodCwgXHJcbiAgICAgICAgICAgIGRlbHRhWDogZW5kV29ybGRTY3JlZW5XaWR0aCAtIHN0YXJ0V29ybGRTY3JlZW5XaWR0aCwgXHJcbiAgICAgICAgICAgIGRlbHRhWTogZW5kV29ybGRTY3JlZW5IZWlnaHQgLSBzdGFydFdvcmxkU2NyZWVuSGVpZ2h0IFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnc25hcC16b29tLXN0YXJ0JywgdGhpcy5wYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZSgpIHtcclxuICAgICAgICB0aGlzLnNuYXBwaW5nID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53aWR0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCAvIHRoaXMub3B0aW9ucy53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueVNjYWxlID0gdGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0IC8gdGhpcy5vcHRpb25zLmhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy54U2NhbGUgPSB0aGlzLnhJbmRlcGVuZGVudCA/IHRoaXMueFNjYWxlIDogdGhpcy55U2NhbGU7XHJcbiAgICAgICAgdGhpcy55U2NhbGUgPSB0aGlzLnlJbmRlcGVuZGVudCA/IHRoaXMueVNjYWxlIDogdGhpcy54U2NhbGU7XHJcbiAgICB9XHJcblxyXG4gICAgd2hlZWwoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkludGVycnVwdCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5wbHVnaW5zLnJlbW92ZSgnc25hcC16b29tJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkludGVycnVwdCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5wbHVnaW5zLnJlbW92ZSgnc25hcC16b29tJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnJ1cHQpIHtcclxuICAgICAgICAgICAgdGhpcy5zbmFwcGluZyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmludGVycnVwdCAmJiB0aGlzLnBhcmVudC5pbnB1dC5jb3VudCgpICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG9sZENlbnRlcjtcclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5jZW50ZXIgJiYgIXRoaXMub3B0aW9ucy5ub01vdmUpIHtcclxuICAgICAgICAgICAgb2xkQ2VudGVyID0gdGhpcy5wYXJlbnQuY2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuc25hcHBpbmcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LnNjYWxlLnggIT09IHRoaXMueFNjYWxlIHx8IHRoaXMucGFyZW50LnNjYWxlLnkgIT09IHRoaXMueVNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVNuYXBwaW5nKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5zbmFwcGluZykge1xyXG4gICAgICAgICAgICBjb25zdCBzbmFwcGluZyA9IHRoaXMuc25hcHBpbmc7XHJcbiAgICAgICAgICAgIHNuYXBwaW5nLnRpbWUgKz0gZWxhcHNlZDtcclxuICAgICAgICAgICAgaWYgKHNuYXBwaW5nLnRpbWUgPj0gdGhpcy5vcHRpb25zLnRpbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnNldCh0aGlzLnhTY2FsZSwgdGhpcy55U2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQucGx1Z2lucy5yZW1vdmUoJ3NuYXAtem9vbScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnc25hcC16b29tLWVuZCcsIHRoaXMucGFyZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc25hcHBpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc25hcHBpbmcgPSB0aGlzLnNuYXBwaW5nO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd29ybGRTY3JlZW5XaWR0aCA9IHRoaXMuZWFzZShzbmFwcGluZy50aW1lLCBzbmFwcGluZy5zdGFydFgsIHNuYXBwaW5nLmRlbHRhWCwgdGhpcy5vcHRpb25zLnRpbWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd29ybGRTY3JlZW5IZWlnaHQgPSB0aGlzLmVhc2Uoc25hcHBpbmcudGltZSwgc25hcHBpbmcuc3RhcnRZLCBzbmFwcGluZy5kZWx0YVksIHRoaXMub3B0aW9ucy50aW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS54ID0gdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLyB3b3JsZFNjcmVlbldpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NhbGUueSA9IHRoaXMucGFyZW50LnNjcmVlbkhlaWdodCAvIHdvcmxkU2NyZWVuSGVpZ2h0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGNsYW1wID0gdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ2NsYW1wLXpvb20nLCB0cnVlKTtcclxuICAgICAgICAgICAgaWYgKGNsYW1wKSB7XHJcbiAgICAgICAgICAgICAgICBjbGFtcC5jbGFtcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLm5vTW92ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNlbnRlcihvbGRDZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNlbnRlcih0aGlzLm9wdGlvbnMuY2VudGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXN1bWUoKSB7XHJcbiAgICAgICAgdGhpcy5zbmFwcGluZyA9IG51bGw7XHJcbiAgICAgICAgc3VwZXIucmVzdW1lKCk7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZvbGxvd09wdGlvbnNcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzcGVlZD0wXSB0byBmb2xsb3cgaW4gcGl4ZWxzL2ZyYW1lICgwPXRlbGVwb3J0IHRvIGxvY2F0aW9uKVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2FjY2VsZXJhdGlvbl0gc2V0IGFjY2VsZXJhdGlvbiB0byBhY2NlbGVyYXRlIGFuZCBkZWNlbGVyYXRlIGF0IHRoaXMgcmF0ZTsgc3BlZWQgY2Fubm90IGJlIDAgdG8gdXNlIGFjY2VsZXJhdGlvblxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JhZGl1c10gcmFkaXVzIChpbiB3b3JsZCBjb29yZGluYXRlcykgb2YgY2VudGVyIGNpcmNsZSB3aGVyZSBtb3ZlbWVudCBpcyBhbGxvd2VkIHdpdGhvdXQgbW92aW5nIHRoZSB2aWV3cG9ydFxyXG4gKi9cclxuXHJcbmNvbnN0IGZvbGxvd09wdGlvbnMgPSB7XHJcbiAgICBzcGVlZDogMCxcclxuICAgIGFjY2VsZXJhdGlvbjogbnVsbCxcclxuICAgIHJhZGl1czogbnVsbFxyXG59O1xyXG5cclxuY2xhc3MgRm9sbG93IGV4dGVuZHMgUGx1Z2luXHJcbntcclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxyXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCB0byBmb2xsb3dcclxuICAgICAqIEBwYXJhbSB7Rm9sbG93T3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdGFyZ2V0LCBvcHRpb25zID0ge30pXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50KTtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBmb2xsb3dPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0geyB4OiAwLCB5OiAwIH07XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGVsYXBzZWQpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnBhcmVudC5jZW50ZXI7XHJcbiAgICAgICAgbGV0IHRvWCA9IHRoaXMudGFyZ2V0LngsXHJcbiAgICAgICAgICAgIHRvWSA9IHRoaXMudGFyZ2V0Lnk7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yYWRpdXMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh0aGlzLnRhcmdldC55IC0gY2VudGVyLnksIDIpICsgTWF0aC5wb3codGhpcy50YXJnZXQueCAtIGNlbnRlci54LCAyKSk7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IHRoaXMub3B0aW9ucy5yYWRpdXMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMih0aGlzLnRhcmdldC55IC0gY2VudGVyLnksIHRoaXMudGFyZ2V0LnggLSBjZW50ZXIueCk7XHJcbiAgICAgICAgICAgICAgICB0b1ggPSB0aGlzLnRhcmdldC54IC0gTWF0aC5jb3MoYW5nbGUpICogdGhpcy5vcHRpb25zLnJhZGl1cztcclxuICAgICAgICAgICAgICAgIHRvWSA9IHRoaXMudGFyZ2V0LnkgLSBNYXRoLnNpbihhbmdsZSkgKiB0aGlzLm9wdGlvbnMucmFkaXVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRlbHRhWCA9IHRvWCAtIGNlbnRlci54O1xyXG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IHRvWSAtIGNlbnRlci55O1xyXG4gICAgICAgIGlmIChkZWx0YVggfHwgZGVsdGFZKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zcGVlZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hY2NlbGVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHRvWSAtIGNlbnRlci55LCB0b1ggLSBjZW50ZXIueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoTWF0aC5wb3coZGVsdGFYLCAyKSArIE1hdGgucG93KGRlbHRhWSwgMikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlY2VsZXJhdGlvbkRpc3RhbmNlID0gKE1hdGgucG93KHRoaXMudmVsb2NpdHkueCwgMikgKyBNYXRoLnBvdyh0aGlzLnZlbG9jaXR5LnksIDIpKSAvICgyICogdGhpcy5vcHRpb25zLmFjY2VsZXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+IGRlY2VsZXJhdGlvbkRpc3RhbmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IE1hdGgubWluKHRoaXMudmVsb2NpdHkueCArIHRoaXMub3B0aW9ucy5hY2NlbGVyYXRpb24gKiBlbGFwc2VkLCB0aGlzLm9wdGlvbnMuc3BlZWQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IE1hdGgubWluKHRoaXMudmVsb2NpdHkueSArIHRoaXMub3B0aW9ucy5hY2NlbGVyYXRpb24gKiBlbGFwc2VkLCB0aGlzLm9wdGlvbnMuc3BlZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBNYXRoLm1heCh0aGlzLnZlbG9jaXR5LnggLSB0aGlzLm9wdGlvbnMuYWNjZWxlcmF0aW9uICogdGhpcy5vcHRpb25zLnNwZWVkLCAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBNYXRoLm1heCh0aGlzLnZlbG9jaXR5LnkgLSB0aGlzLm9wdGlvbnMuYWNjZWxlcmF0aW9uICogdGhpcy5vcHRpb25zLnNwZWVkLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VYID0gTWF0aC5jb3MoYW5nbGUpICogdGhpcy52ZWxvY2l0eS54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VZID0gTWF0aC5zaW4oYW5nbGUpICogdGhpcy52ZWxvY2l0eS55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5hYnMoY2hhbmdlWCkgPiBNYXRoLmFicyhkZWx0YVgpID8gdG9YIDogY2VudGVyLnggKyBjaGFuZ2VYO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gTWF0aC5hYnMoY2hhbmdlWSkgPiBNYXRoLmFicyhkZWx0YVkpID8gdG9ZIDogY2VudGVyLnkgKyBjaGFuZ2VZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5tb3ZlQ2VudGVyKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdtb3ZlZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnZm9sbG93JyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKHRvWSAtIGNlbnRlci55LCB0b1ggLSBjZW50ZXIueCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlWCA9IE1hdGguY29zKGFuZ2xlKSAqIHRoaXMub3B0aW9ucy5zcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VZID0gTWF0aC5zaW4oYW5nbGUpICogdGhpcy5vcHRpb25zLnNwZWVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLmFicyhjaGFuZ2VYKSA+IE1hdGguYWJzKGRlbHRhWCkgPyB0b1ggOiBjZW50ZXIueCArIGNoYW5nZVg7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IE1hdGguYWJzKGNoYW5nZVkpID4gTWF0aC5hYnMoZGVsdGFZKSA/IHRvWSA6IGNlbnRlci55ICsgY2hhbmdlWTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5tb3ZlQ2VudGVyKHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdmb2xsb3cnIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNlbnRlcih0b1gsIHRvWSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdtb3ZlZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnZm9sbG93JyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKipcclxuICogdGhlIGRlZmF1bHQgZXZlbnQgbGlzdGVuZXIgZm9yICd3aGVlbCcgZXZlbnQgaXMgZG9jdW1lbnQuYm9keS4gVXNlIGBWaWV3cG9ydC5vcHRpb25zLmRpdldoZWVsYCB0byBjaGFuZ2UgdGhpcyBkZWZhdWx0XHJcbiAqIEB0eXBlZGVmIFdoZWVsT3B0aW9uc1xyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3BlcmNlbnQ9MC4xXSBwZXJjZW50IHRvIHNjcm9sbCB3aXRoIGVhY2ggc3BpblxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3Ntb290aF0gc21vb3RoIHRoZSB6b29taW5nIGJ5IHByb3ZpZGluZyB0aGUgbnVtYmVyIG9mIGZyYW1lcyB0byB6b29tIGJldHdlZW4gd2hlZWwgc3BpbnNcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJydXB0PXRydWVdIHN0b3Agc21vb3RoaW5nIHdpdGggYW55IHVzZXIgaW5wdXQgb24gdGhlIHZpZXdwb3J0XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JldmVyc2VdIHJldmVyc2UgdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2Nyb2xsXHJcbiAqIEBwcm9wZXJ0eSB7UElYSS5Qb2ludH0gW2NlbnRlcl0gcGxhY2UgdGhpcyBwb2ludCBhdCBjZW50ZXIgZHVyaW5nIHpvb20gaW5zdGVhZCBvZiBjdXJyZW50IG1vdXNlIHBvc2l0aW9uXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGluZUhlaWdodD0yMF0gc2NhbGluZyBmYWN0b3IgZm9yIG5vbi1ET01fREVMVEFfUElYRUwgc2Nyb2xsaW5nIGV2ZW50c1xyXG4gKi9cclxuXHJcbmNvbnN0IHdoZWVsT3B0aW9ucyA9IHtcclxuICAgIHBlcmNlbnQ6IDAuMSxcclxuICAgIHNtb290aDogZmFsc2UsXHJcbiAgICBpbnRlcnJ1cHQ6IHRydWUsXHJcbiAgICByZXZlcnNlOiBmYWxzZSxcclxuICAgIGNlbnRlcjogbnVsbCxcclxuICAgIGxpbmVIZWlnaHQ6IDIwXHJcbn07XHJcblxyXG5jbGFzcyBXaGVlbCBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqIEBwYXJhbSB7V2hlZWxPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEBldmVudCB3aGVlbCh7d2hlZWw6IHtkeCwgZHksIGR6fSwgZXZlbnQsIHZpZXdwb3J0fSlcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50LCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHdoZWVsT3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmludGVycnVwdCkge1xyXG4gICAgICAgICAgICB0aGlzLnNtb290aGluZyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zbW9vdGhpbmcpIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLnNtb290aGluZ0NlbnRlcjtcclxuICAgICAgICAgICAgY29uc3QgY2hhbmdlID0gdGhpcy5zbW9vdGhpbmc7XHJcbiAgICAgICAgICAgIGxldCBvbGRQb2ludDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRQb2ludCA9IHRoaXMucGFyZW50LnRvTG9jYWwocG9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnggKz0gY2hhbmdlLng7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnkgKz0gY2hhbmdlLnk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3pvb21lZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnd2hlZWwnIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBjbGFtcCA9IHRoaXMucGFyZW50LnBsdWdpbnMuZ2V0KCdjbGFtcC16b29tJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmIChjbGFtcCkge1xyXG4gICAgICAgICAgICAgICAgY2xhbXAuY2xhbXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNlbnRlcih0aGlzLm9wdGlvbnMuY2VudGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BvaW50ID0gdGhpcy5wYXJlbnQudG9HbG9iYWwob2xkUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCArPSBwb2ludC54IC0gbmV3UG9pbnQueDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgKz0gcG9pbnQueSAtIG5ld1BvaW50Lnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ3doZWVsJyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zbW9vdGhpbmdDb3VudCsrO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zbW9vdGhpbmdDb3VudCA+PSB0aGlzLm9wdGlvbnMuc21vb3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtb290aGluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgd2hlZWwoZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwb2ludCA9IHRoaXMucGFyZW50LmlucHV0LmdldFBvaW50ZXJQb3NpdGlvbihlKTtcclxuICAgICAgICBjb25zdCBzaWduID0gdGhpcy5vcHRpb25zLnJldmVyc2UgPyAtMSA6IDE7XHJcbiAgICAgICAgY29uc3Qgc3RlcCA9IHNpZ24gKiAtZS5kZWx0YVkgKiAoZS5kZWx0YU1vZGUgPyB0aGlzLm9wdGlvbnMubGluZUhlaWdodCA6IDEpIC8gNTAwO1xyXG4gICAgICAgIGNvbnN0IGNoYW5nZSA9IE1hdGgucG93KDIsICgxICsgdGhpcy5vcHRpb25zLnBlcmNlbnQpICogc3RlcCk7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbW9vdGgpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnNtb290aGluZyA/IHRoaXMuc21vb3RoaW5nLnggKiAodGhpcy5vcHRpb25zLnNtb290aCAtIHRoaXMuc21vb3RoaW5nQ291bnQpIDogMCxcclxuICAgICAgICAgICAgICAgIHk6IHRoaXMuc21vb3RoaW5nID8gdGhpcy5zbW9vdGhpbmcueSAqICh0aGlzLm9wdGlvbnMuc21vb3RoIC0gdGhpcy5zbW9vdGhpbmdDb3VudCkgOiAwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc21vb3RoaW5nID0ge1xyXG4gICAgICAgICAgICAgICAgeDogKCh0aGlzLnBhcmVudC5zY2FsZS54ICsgb3JpZ2luYWwueCkgKiBjaGFuZ2UgLSB0aGlzLnBhcmVudC5zY2FsZS54KSAvIHRoaXMub3B0aW9ucy5zbW9vdGgsXHJcbiAgICAgICAgICAgICAgICB5OiAoKHRoaXMucGFyZW50LnNjYWxlLnkgKyBvcmlnaW5hbC55KSAqIGNoYW5nZSAtIHRoaXMucGFyZW50LnNjYWxlLnkpIC8gdGhpcy5vcHRpb25zLnNtb290aFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNtb290aGluZ0NvdW50ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5zbW9vdGhpbmdDZW50ZXIgPSBwb2ludDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBvbGRQb2ludDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRQb2ludCA9IHRoaXMucGFyZW50LnRvTG9jYWwocG9pbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnggKj0gY2hhbmdlO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS55ICo9IGNoYW5nZTtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnem9vbWVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICd3aGVlbCcgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNsYW1wID0gdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ2NsYW1wLXpvb20nLCB0cnVlKTtcclxuICAgICAgICAgICAgaWYgKGNsYW1wKSB7XHJcbiAgICAgICAgICAgICAgICBjbGFtcC5jbGFtcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5tb3ZlQ2VudGVyKHRoaXMub3B0aW9ucy5jZW50ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UG9pbnQgPSB0aGlzLnBhcmVudC50b0dsb2JhbChvbGRQb2ludCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ICs9IHBvaW50LnggLSBuZXdQb2ludC54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSArPSBwb2ludC55IC0gbmV3UG9pbnQueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdtb3ZlZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnd2hlZWwnIH0pO1xyXG4gICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3doZWVsJywgeyB3aGVlbDogeyBkeDogZS5kZWx0YVgsIGR5OiBlLmRlbHRhWSwgZHo6IGUuZGVsdGFaIH0sIGV2ZW50OiBlLCB2aWV3cG9ydDogdGhpcy5wYXJlbnQgfSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5vcHRpb25zLnBhc3NpdmVXaGVlbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKipcclxuICogQHR5cGVkZWYgTW91c2VFZGdlc09wdGlvbnNcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXNdIGRpc3RhbmNlIGZyb20gY2VudGVyIG9mIHNjcmVlbiBpbiBzY3JlZW4gcGl4ZWxzXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZGlzdGFuY2VdIGRpc3RhbmNlIGZyb20gYWxsIHNpZGVzIGluIHNjcmVlbiBwaXhlbHNcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0b3BdIGFsdGVybmF0aXZlbHksIHNldCB0b3AgZGlzdGFuY2UgKGxlYXZlIHVuc2V0IGZvciBubyB0b3Agc2Nyb2xsKVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2JvdHRvbV0gYWx0ZXJuYXRpdmVseSwgc2V0IGJvdHRvbSBkaXN0YW5jZSAobGVhdmUgdW5zZXQgZm9yIG5vIHRvcCBzY3JvbGwpXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbGVmdF0gYWx0ZXJuYXRpdmVseSwgc2V0IGxlZnQgZGlzdGFuY2UgKGxlYXZlIHVuc2V0IGZvciBubyB0b3Agc2Nyb2xsKVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3JpZ2h0XSBhbHRlcm5hdGl2ZWx5LCBzZXQgcmlnaHQgZGlzdGFuY2UgKGxlYXZlIHVuc2V0IGZvciBubyB0b3Agc2Nyb2xsKVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NwZWVkPThdIHNwZWVkIGluIHBpeGVscy9mcmFtZSB0byBzY3JvbGwgdmlld3BvcnRcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmV2ZXJzZV0gcmV2ZXJzZSBkaXJlY3Rpb24gb2Ygc2Nyb2xsXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25vRGVjZWxlcmF0ZV0gZG9uJ3QgdXNlIGRlY2VsZXJhdGUgcGx1Z2luIGV2ZW4gaWYgaXQncyBpbnN0YWxsZWRcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbbGluZWFyXSBpZiB1c2luZyByYWRpdXMsIHVzZSBsaW5lYXIgbW92ZW1lbnQgKCsvLSAxLCArLy0gMSkgaW5zdGVhZCBvZiBhbmdsZWQgbW92ZW1lbnQgKE1hdGguY29zKGFuZ2xlIGZyb20gY2VudGVyKSwgTWF0aC5zaW4oYW5nbGUgZnJvbSBjZW50ZXIpKVxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthbGxvd0J1dHRvbnNdIGFsbG93cyBwbHVnaW4gdG8gY29udGludWUgd29ya2luZyBldmVuIHdoZW4gdGhlcmUncyBhIG1vdXNlZG93biBldmVudFxyXG4gKi9cclxuXHJcbmNvbnN0IG1vdXNlRWRnZXNPcHRpb25zID0ge1xyXG4gICAgcmFkaXVzOiBudWxsLFxyXG4gICAgZGlzdGFuY2U6IG51bGwsXHJcbiAgICB0b3A6IG51bGwsXHJcbiAgICBib3R0b206IG51bGwsXHJcbiAgICBsZWZ0OiBudWxsLFxyXG4gICAgcmlnaHQ6IG51bGwsXHJcbiAgICBzcGVlZDogOCxcclxuICAgIHJldmVyc2U6IGZhbHNlLFxyXG4gICAgbm9EZWNlbGVyYXRlOiBmYWxzZSxcclxuICAgIGxpbmVhcjogZmFsc2UsXHJcbiAgICBhbGxvd0J1dHRvbnM6IGZhbHNlXHJcbn07XHJcblxyXG5jbGFzcyBNb3VzZUVkZ2VzIGV4dGVuZHMgUGx1Z2luIHtcclxuICAgIC8qKlxyXG4gICAgICogU2Nyb2xsIHZpZXdwb3J0IHdoZW4gbW91c2UgaG92ZXJzIG5lYXIgb25lIG9mIHRoZSBlZGdlcy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqIEBwYXJhbSB7TW91c2VFZGdlT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAZXZlbnQgbW91c2UtZWRnZS1zdGFydChWaWV3cG9ydCkgZW1pdHRlZCB3aGVuIG1vdXNlLWVkZ2Ugc3RhcnRzXHJcbiAgICAgKiBAZXZlbnQgbW91c2UtZWRnZS1lbmQoVmlld3BvcnQpIGVtaXR0ZWQgd2hlbiBtb3VzZS1lZGdlIGVuZHNcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50LCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG1vdXNlRWRnZXNPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLnJldmVyc2UgPSB0aGlzLm9wdGlvbnMucmV2ZXJzZSA/IDEgOiAtMTtcclxuICAgICAgICB0aGlzLnJhZGl1c1NxdWFyZWQgPSBNYXRoLnBvdyh0aGlzLm9wdGlvbnMucmFkaXVzLCAyKTtcclxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZSgpIHtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IHRoaXMub3B0aW9ucy5kaXN0YW5jZTtcclxuICAgICAgICBpZiAoZGlzdGFuY2UgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgIHRoaXMudG9wID0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLnBhcmVudC53b3JsZFNjcmVlbldpZHRoIC0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy5wYXJlbnQud29ybGRTY3JlZW5IZWlnaHQgLSBkaXN0YW5jZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIXRoaXMucmFkaXVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IHRoaXMub3B0aW9ucy5sZWZ0O1xyXG4gICAgICAgICAgICB0aGlzLnRvcCA9IHRoaXMub3B0aW9ucy50b3A7XHJcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLm9wdGlvbnMucmlnaHQgPT09IG51bGwgPyBudWxsIDogdGhpcy5wYXJlbnQud29ybGRTY3JlZW5XaWR0aCAtIHRoaXMub3B0aW9ucy5yaWdodDtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLm9wdGlvbnMuYm90dG9tID09PSBudWxsID8gbnVsbCA6IHRoaXMucGFyZW50LndvcmxkU2NyZWVuSGVpZ2h0IC0gdGhpcy5vcHRpb25zLmJvdHRvbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmFsbG93QnV0dG9ucykge1xyXG4gICAgICAgICAgICB0aGlzLmhvcml6b250YWwgPSB0aGlzLnZlcnRpY2FsID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKChldmVudC5kYXRhLnBvaW50ZXJUeXBlICE9PSAnbW91c2UnICYmIGV2ZW50LmRhdGEuaWRlbnRpZmllciAhPT0gMSkgfHwgKCF0aGlzLm9wdGlvbnMuYWxsb3dCdXR0b25zICYmIGV2ZW50LmRhdGEuYnV0dG9ucyAhPT0gMCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHggPSBldmVudC5kYXRhLmdsb2JhbC54O1xyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC5kYXRhLmdsb2JhbC55O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5yYWRpdXNTcXVhcmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMucGFyZW50LnRvU2NyZWVuKHRoaXMucGFyZW50LmNlbnRlcik7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5wb3coY2VudGVyLnggLSB4LCAyKSArIE1hdGgucG93KGNlbnRlci55IC0geSwgMik7XHJcbiAgICAgICAgICAgIGlmIChkaXN0YW5jZSA+PSB0aGlzLnJhZGl1c1NxdWFyZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihjZW50ZXIueSAtIHksIGNlbnRlci54IC0geCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxpbmVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IE1hdGgucm91bmQoTWF0aC5jb3MoYW5nbGUpKSAqIHRoaXMub3B0aW9ucy5zcGVlZCAqIHRoaXMucmV2ZXJzZSAqICg2MCAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVydGljYWwgPSBNYXRoLnJvdW5kKE1hdGguc2luKGFuZ2xlKSkgKiB0aGlzLm9wdGlvbnMuc3BlZWQgKiB0aGlzLnJldmVyc2UgKiAoNjAgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IE1hdGguY29zKGFuZ2xlKSAqIHRoaXMub3B0aW9ucy5zcGVlZCAqIHRoaXMucmV2ZXJzZSAqICg2MCAvIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVydGljYWwgPSBNYXRoLnNpbihhbmdsZSkgKiB0aGlzLm9wdGlvbnMuc3BlZWQgKiB0aGlzLnJldmVyc2UgKiAoNjAgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlY2VsZXJhdGVIb3Jpem9udGFsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjZWxlcmF0ZVZlcnRpY2FsKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvcml6b250YWwgPSB0aGlzLnZlcnRpY2FsID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGVmdCAhPT0gbnVsbCAmJiB4IDwgdGhpcy5sZWZ0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvcml6b250YWwgPSAxICogdGhpcy5yZXZlcnNlICogdGhpcy5vcHRpb25zLnNwZWVkICogKDYwIC8gMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5yaWdodCAhPT0gbnVsbCAmJiB4ID4gdGhpcy5yaWdodCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gLTEgKiB0aGlzLnJldmVyc2UgKiB0aGlzLm9wdGlvbnMuc3BlZWQgKiAoNjAgLyAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVjZWxlcmF0ZUhvcml6b250YWwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMudG9wICE9PSBudWxsICYmIHkgPCB0aGlzLnRvcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbCA9IDEgKiB0aGlzLnJldmVyc2UgKiB0aGlzLm9wdGlvbnMuc3BlZWQgKiAoNjAgLyAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmJvdHRvbSAhPT0gbnVsbCAmJiB5ID4gdGhpcy5ib3R0b20pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmVydGljYWwgPSAtMSAqIHRoaXMucmV2ZXJzZSAqIHRoaXMub3B0aW9ucy5zcGVlZCAqICg2MCAvIDEwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNlbGVyYXRlVmVydGljYWwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmVydGljYWwgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlY2VsZXJhdGVIb3Jpem9udGFsKCkge1xyXG4gICAgICAgIGNvbnN0IGRlY2VsZXJhdGUgPSB0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgnZGVjZWxlcmF0ZScsIHRydWUpO1xyXG4gICAgICAgIGlmICh0aGlzLmhvcml6b250YWwgJiYgZGVjZWxlcmF0ZSAmJiAhdGhpcy5vcHRpb25zLm5vRGVjZWxlcmF0ZSkge1xyXG4gICAgICAgICAgICBkZWNlbGVyYXRlLmFjdGl2YXRlKHsgeDogKHRoaXMuaG9yaXpvbnRhbCAqIHRoaXMub3B0aW9ucy5zcGVlZCAqIHRoaXMucmV2ZXJzZSkgLyAoMTAwMCAvIDYwKSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGVjZWxlcmF0ZVZlcnRpY2FsKCkge1xyXG4gICAgICAgIGNvbnN0IGRlY2VsZXJhdGUgPSB0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgnZGVjZWxlcmF0ZScsIHRydWUpO1xyXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsICYmIGRlY2VsZXJhdGUgJiYgIXRoaXMub3B0aW9ucy5ub0RlY2VsZXJhdGUpIHtcclxuICAgICAgICAgICAgZGVjZWxlcmF0ZS5hY3RpdmF0ZSh7IHk6ICh0aGlzLnZlcnRpY2FsICogdGhpcy5vcHRpb25zLnNwZWVkICogdGhpcy5yZXZlcnNlKSAvICgxMDAwIC8gNjApIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWNlbGVyYXRlSG9yaXpvbnRhbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmRlY2VsZXJhdGVWZXJ0aWNhbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhvcml6b250YWwgPSB0aGlzLnZlcnRpY2FsID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCB8fCB0aGlzLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMucGFyZW50LmNlbnRlcjtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xyXG4gICAgICAgICAgICAgICAgY2VudGVyLnggKz0gdGhpcy5ob3Jpem9udGFsICogdGhpcy5vcHRpb25zLnNwZWVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgICAgICBjZW50ZXIueSArPSB0aGlzLnZlcnRpY2FsICogdGhpcy5vcHRpb25zLnNwZWVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50Lm1vdmVDZW50ZXIoY2VudGVyKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ21vdXNlLWVkZ2VzJyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqXG4gKiBUbyBzZXQgdGhlIHpvb20gbGV2ZWwsIHVzZTogKDEpIHNjYWxlLCAoMikgc2NhbGVYIGFuZCBzY2FsZVksIG9yICgzKSB3aWR0aCBhbmQvb3IgaGVpZ2h0XG4gKiBAdHlwZWRlZiB7b3B0aW9uc30gQW5pbWF0ZU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGltZT0xMDAwXSB0byBhbmltYXRlXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IFtwb3NpdGlvbj12aWV3cG9ydC5jZW50ZXJdIHBvc2l0aW9uIHRvIG1vdmUgdmlld3BvcnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd2lkdGhdIGRlc2lyZWQgdmlld3BvcnQgd2lkdGggaW4gd29ybGQgcGl4ZWxzICh1c2UgaW5zdGVhZCBvZiBzY2FsZTsgYXNwZWN0IHJhdGlvIGlzIG1haW50YWluZWQgaWYgaGVpZ2h0IGlzIG5vdCBwcm92aWRlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaGVpZ2h0XSBkZXNpcmVkIHZpZXdwb3J0IGhlaWdodCBpbiB3b3JsZCBwaXhlbHMgKHVzZSBpbnN0ZWFkIG9mIHNjYWxlOyBhc3BlY3QgcmF0aW8gaXMgbWFpbnRhaW5lZCBpZiB3aWR0aCBpcyBub3QgcHJvdmlkZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NjYWxlXSBzY2FsZSB0byBjaGFuZ2Ugem9vbSAoc2NhbGUueCA9IHNjYWxlLnkpXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NjYWxlWF0gaW5kZXBlbmRlbnRseSBjaGFuZ2Ugem9vbSBpbiB4LWRpcmVjdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzY2FsZVldIGluZGVwZW5kZW50bHkgY2hhbmdlIHpvb20gaW4geS1kaXJlY3Rpb25cbiAqIEBwcm9wZXJ0eSB7KGZ1bmN0aW9ufHN0cmluZyl9IFtlYXNlPWxpbmVhcl0gZWFzaW5nIGZ1bmN0aW9uIHRvIHVzZVxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2NhbGxiYWNrT25Db21wbGV0ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JlbW92ZU9uSW50ZXJydXB0XSByZW1vdmVzIHRoaXMgcGx1Z2luIGlmIGludGVycnVwdGVkIGJ5IGFueSB1c2VyIGlucHV0XG4gKi9cblxuY29uc3QgYW5pbWF0ZU9wdGlvbnMgPSB7XG4gICAgcmVtb3ZlT25JbnRlcnJ1cHQ6IGZhbHNlLFxuICAgIGVhc2U6ICdsaW5lYXInLFxuICAgIHRpbWU6IDEwMDBcbn07XG5cbmNsYXNzIEFuaW1hdGUgZXh0ZW5kcyBQbHVnaW5cbntcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxuICAgICAqIEBwYXJhbSB7QW5pbWF0ZU9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAqIEBmaXJlcyBhbmltYXRlLWVuZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgb3B0aW9ucz17fSlcbiAgICB7XG4gICAgICAgIHN1cGVyKHBhcmVudCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGFuaW1hdGVPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5vcHRpb25zLmVhc2UgPSBlYXNlKHRoaXMub3B0aW9ucy5lYXNlKTtcbiAgICAgICAgdGhpcy5zZXR1cFBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuc2V0dXBab29tKCk7XG4gICAgfVxuXG4gICAgc2V0dXBQb3NpdGlvbigpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5wb3NpdGlvbiAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRYID0gdGhpcy5wYXJlbnQuY2VudGVyLng7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0WSA9IHRoaXMucGFyZW50LmNlbnRlci55O1xuICAgICAgICAgICAgdGhpcy5kZWx0YVggPSB0aGlzLm9wdGlvbnMucG9zaXRpb24ueCAtIHRoaXMucGFyZW50LmNlbnRlci54O1xuICAgICAgICAgICAgdGhpcy5kZWx0YVkgPSB0aGlzLm9wdGlvbnMucG9zaXRpb24ueSAtIHRoaXMucGFyZW50LmNlbnRlci55O1xuICAgICAgICAgICAgdGhpcy5rZWVwQ2VudGVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmtlZXBDZW50ZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0dXBab29tKClcbiAgICB7XG4gICAgICAgIHRoaXMud2lkdGggPSBudWxsO1xuICAgICAgICB0aGlzLmhlaWdodCA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnNjYWxlICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMucGFyZW50LnNjcmVlbldpZHRoIC8gdGhpcy5vcHRpb25zLnNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuc2NhbGVYICE9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgdGhpcy5vcHRpb25zLnNjYWxlWSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnNjYWxlWCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc2NyZWVuU2l6ZUluV29ybGRQaXhlbHMgPSBzY3JlZW5XaWR0aCAvIHNjYWxlXG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMucGFyZW50LnNjcmVlbldpZHRoIC8gdGhpcy5vcHRpb25zLnNjYWxlWDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnNjYWxlWSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQgLyB0aGlzLm9wdGlvbnMuc2NhbGVZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMud2lkdGggIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLm9wdGlvbnMud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5oZWlnaHQgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMud2lkdGggIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRXaWR0aCA9IHRoaXMucGFyZW50LnNjcmVlbldpZHRoSW5Xb3JsZFBpeGVscztcbiAgICAgICAgICAgIHRoaXMuZGVsdGFXaWR0aCA9IHRoaXMud2lkdGggLSB0aGlzLnN0YXJ0V2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmhlaWdodCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydEhlaWdodCA9IHRoaXMucGFyZW50LnNjcmVlbkhlaWdodEluV29ybGRQaXhlbHM7XG4gICAgICAgICAgICB0aGlzLmRlbHRhSGVpZ2h0ID0gdGhpcy5oZWlnaHQgLSB0aGlzLnN0YXJ0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZSA9IDA7XG4gICAgfVxuXG4gICAgZG93bigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uSW50ZXJydXB0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5wbHVnaW5zLnJlbW92ZSgnYW5pbWF0ZScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcGxldGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJlbnQucGx1Z2lucy5yZW1vdmUoJ2FuaW1hdGUnKTtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmZpdFdpZHRoKHRoaXMud2lkdGgsIHRoaXMua2VlcENlbnRlciwgdGhpcy5oZWlnaHQgPT09IG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZml0SGVpZ2h0KHRoaXMuaGVpZ2h0LCB0aGlzLmtlZXBDZW50ZXIsIHRoaXMud2lkdGggPT09IG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5rZWVwQ2VudGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5tb3ZlQ2VudGVyKHRoaXMub3B0aW9ucy5wb3NpdGlvbi54LCB0aGlzLm9wdGlvbnMucG9zaXRpb24ueSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnYW5pbWF0ZS1lbmQnLCB0aGlzLnBhcmVudCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2FsbGJhY2tPbkNvbXBsZXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuY2FsbGJhY2tPbkNvbXBsZXRlKHRoaXMucGFyZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZShlbGFwc2VkKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWUgKz0gZWxhcHNlZDtcbiAgICAgICAgaWYgKHRoaXMudGltZSA+PSB0aGlzLm9wdGlvbnMudGltZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxab29tID0gbmV3IFBvaW50KHRoaXMucGFyZW50LnNjYWxlLngsIHRoaXMucGFyZW50LnNjYWxlLnkpO1xuICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9IHRoaXMub3B0aW9ucy5lYXNlKHRoaXMudGltZSwgMCwgMSwgdGhpcy5vcHRpb25zLnRpbWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggIT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZml0V2lkdGgodGhpcy5zdGFydFdpZHRoICsgdGhpcy5kZWx0YVdpZHRoICogcGVyY2VudCwgdGhpcy5rZWVwQ2VudGVyLCB0aGlzLmhlaWdodCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5oZWlnaHQgIT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZml0SGVpZ2h0KHRoaXMuc3RhcnRIZWlnaHQgKyB0aGlzLmRlbHRhSGVpZ2h0ICogcGVyY2VudCwgdGhpcy5rZWVwQ2VudGVyLCB0aGlzLndpZHRoID09PSBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnggPSB0aGlzLnBhcmVudC5zY2FsZS55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5oZWlnaHQgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NhbGUueSA9IHRoaXMucGFyZW50LnNjYWxlLng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMua2VlcENlbnRlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IG5ldyBQb2ludCh0aGlzLnBhcmVudC54LCB0aGlzLnBhcmVudC55KTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5tb3ZlQ2VudGVyKHRoaXMuc3RhcnRYICsgdGhpcy5kZWx0YVggKiBwZXJjZW50LCB0aGlzLnN0YXJ0WSArIHRoaXMuZGVsdGFZICogcGVyY2VudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgb3JpZ2luYWwsIHR5cGU6ICdhbmltYXRlJ30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggfHwgdGhpcy5oZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnem9vbWVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIG9yaWdpbmFsOiBvcmlnaW5hbFpvb20sIHR5cGU6ICdhbmltYXRlJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5rZWVwQ2VudGVyKVxuICAgICAgICAgICAgO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcclxuICogQHR5cGVkZWYge29iamVjdH0gVmlld3BvcnRPcHRpb25zXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc2NyZWVuV2lkdGg9d2luZG93LmlubmVyV2lkdGhdXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc2NyZWVuSGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodF1cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt3b3JsZFdpZHRoPXRoaXMud2lkdGhdXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd29ybGRIZWlnaHQ9dGhpcy5oZWlnaHRdXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGhyZXNob2xkPTVdIG51bWJlciBvZiBwaXhlbHMgdG8gbW92ZSB0byB0cmlnZ2VyIGFuIGlucHV0IGV2ZW50IChlLmcuLCBkcmFnLCBwaW5jaCkgb3IgZGlzYWJsZSBhIGNsaWNrZWQgZXZlbnRcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbcGFzc2l2ZVdoZWVsPXRydWVdIHdoZXRoZXIgdGhlICd3aGVlbCcgZXZlbnQgaXMgc2V0IHRvIHBhc3NpdmUgKG5vdGU6IGlmIGZhbHNlLCBlLnByZXZlbnREZWZhdWx0KCkgd2lsbCBiZSBjYWxsZWQgd2hlbiB3aGVlbCBpcyB1c2VkIG92ZXIgdGhlIHZpZXdwb3J0KVxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzdG9wUHJvcGFnYXRpb249ZmFsc2VdIHdoZXRoZXIgdG8gc3RvcFByb3BhZ2F0aW9uIG9mIGV2ZW50cyB0aGF0IGltcGFjdCB0aGUgdmlld3BvcnQgKGV4Y2VwdCB3aGVlbCBldmVudHMsIHNlZSBvcHRpb25zLnBhc3NpdmVXaGVlbClcclxuICogQHByb3BlcnR5IHtIaXRBcmVhfSBbZm9yY2VIaXRBcmVhXSBjaGFuZ2UgdGhlIGRlZmF1bHQgaGl0QXJlYSBmcm9tIHdvcmxkIHNpemUgdG8gYSBuZXcgdmFsdWVcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbbm9UaWNrZXJdIHNldCB0aGlzIGlmIHlvdSB3YW50IHRvIG1hbnVhbGx5IGNhbGwgdXBkYXRlKCkgZnVuY3Rpb24gb24gZWFjaCBmcmFtZVxyXG4gKiBAcHJvcGVydHkge1BJWEkuVGlja2VyfSBbdGlja2VyPVBJWEkuVGlja2VyLnNoYXJlZF0gdXNlIHRoaXMgUElYSS50aWNrZXIgZm9yIHVwZGF0ZXNcclxuICogQHByb3BlcnR5IHtQSVhJLkludGVyYWN0aW9uTWFuYWdlcn0gW2ludGVyYWN0aW9uPW51bGxdIEludGVyYWN0aW9uTWFuYWdlciwgYXZhaWxhYmxlIGZyb20gaW5zdGFudGlhdGVkIFdlYkdMUmVuZGVyZXIvQ2FudmFzUmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbiAtIHVzZWQgdG8gY2FsY3VsYXRlIHBvaW50ZXIgcG9zdGlvbiByZWxhdGl2ZSB0byBjYW52YXMgbG9jYXRpb24gb24gc2NyZWVuXHJcbiAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IFtkaXZXaGVlbD1kb2N1bWVudC5ib2R5XSBkaXYgdG8gYXR0YWNoIHRoZSB3aGVlbCBldmVudFxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkaXNhYmxlT25Db250ZXh0TWVudV0gcmVtb3ZlIG9uY29udGV4dG1lbnU9KCkgPT4ge30gZnJvbSB0aGUgZGl2V2hlZWwgZWxlbWVudFxyXG4gKi9cclxuXHJcbmNvbnN0IHZpZXdwb3J0T3B0aW9ucyA9IHtcclxuICAgIHNjcmVlbldpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcclxuICAgIHNjcmVlbkhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxyXG4gICAgd29ybGRXaWR0aDogbnVsbCxcclxuICAgIHdvcmxkSGVpZ2h0OiBudWxsLFxyXG4gICAgdGhyZXNob2xkOiA1LFxyXG4gICAgcGFzc2l2ZVdoZWVsOiB0cnVlLFxyXG4gICAgc3RvcFByb3BhZ2F0aW9uOiBmYWxzZSxcclxuICAgIGZvcmNlSGl0QXJlYTogbnVsbCxcclxuICAgIG5vVGlja2VyOiBmYWxzZSxcclxuICAgIGludGVyYWN0aW9uOiBudWxsLFxyXG4gICAgZGlzYWJsZU9uQ29udGV4dE1lbnU6IGZhbHNlXHJcbn07XHJcblxyXG4vKipcclxuICogTWFpbiBjbGFzcyB0byB1c2Ugd2hlbiBjcmVhdGluZyBhIFZpZXdwb3J0XHJcbiAqL1xyXG5jbGFzcyBWaWV3cG9ydCBleHRlbmRzIENvbnRhaW5lciB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnRPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEBmaXJlcyBjbGlja2VkXHJcbiAgICAgKiBAZmlyZXMgZHJhZy1zdGFydFxyXG4gICAgICogQGZpcmVzIGRyYWctZW5kXHJcbiAgICAgKiBAZmlyZXMgZHJhZy1yZW1vdmVcclxuICAgICAqIEBmaXJlcyBwaW5jaC1zdGFydFxyXG4gICAgICogQGZpcmVzIHBpbmNoLWVuZFxyXG4gICAgICogQGZpcmVzIHBpbmNoLXJlbW92ZVxyXG4gICAgICogQGZpcmVzIHNuYXAtc3RhcnRcclxuICAgICAqIEBmaXJlcyBzbmFwLWVuZFxyXG4gICAgICogQGZpcmVzIHNuYXAtcmVtb3ZlXHJcbiAgICAgKiBAZmlyZXMgc25hcC16b29tLXN0YXJ0XHJcbiAgICAgKiBAZmlyZXMgc25hcC16b29tLWVuZFxyXG4gICAgICogQGZpcmVzIHNuYXAtem9vbS1yZW1vdmVcclxuICAgICAqIEBmaXJlcyBib3VuY2UteC1zdGFydFxyXG4gICAgICogQGZpcmVzIGJvdW5jZS14LWVuZFxyXG4gICAgICogQGZpcmVzIGJvdW5jZS15LXN0YXJ0XHJcbiAgICAgKiBAZmlyZXMgYm91bmNlLXktZW5kXHJcbiAgICAgKiBAZmlyZXMgYm91bmNlLXJlbW92ZVxyXG4gICAgICogQGZpcmVzIHdoZWVsXHJcbiAgICAgKiBAZmlyZXMgd2hlZWwtcmVtb3ZlXHJcbiAgICAgKiBAZmlyZXMgd2hlZWwtc2Nyb2xsXHJcbiAgICAgKiBAZmlyZXMgd2hlZWwtc2Nyb2xsLXJlbW92ZVxyXG4gICAgICogQGZpcmVzIG1vdXNlLWVkZ2Utc3RhcnRcclxuICAgICAqIEBmaXJlcyBtb3VzZS1lZGdlLWVuZFxyXG4gICAgICogQGZpcmVzIG1vdXNlLWVkZ2UtcmVtb3ZlXHJcbiAgICAgKiBAZmlyZXMgbW92ZWRcclxuICAgICAqIEBmaXJlcyBtb3ZlZC1lbmRcclxuICAgICAqIEBmaXJlcyB6b29tZWRcclxuICAgICAqIEBmaXJlcyB6b29tZWQtZW5kXHJcbiAgICAgKiBAZmlyZXMgZnJhbWUtZW5kXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdmlld3BvcnRPcHRpb25zLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgLy8gbmVlZGVkIHRvIHB1bGwgdGhpcyBvdXQgb2Ygdmlld3BvcnRPcHRpb25zIGJlY2F1c2Ugb2YgcGl4aS5qcyB2NCBzdXBwb3J0ICh3aGljaCBjaGFuZ2VkIGZyb20gUElYSS50aWNrZXIuc2hhcmVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZC4uLnNpZ2gpXHJcbiAgICAgICAgaWYgKG9wdGlvbnMudGlja2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrZXIgPSBvcHRpb25zLnRpY2tlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRvIGF2b2lkIFJvbGx1cCB0cmFuc2Zvcm1pbmcgb3VyIGltcG9ydCwgc2F2ZSBwaXhpIG5hbWVzcGFjZSBpbiBhIHZhcmlhYmxlXHJcbiAgICAgICAgICAgIC8vIGZyb20gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81NzU3XHJcbiAgICAgICAgICAgIGxldCB0aWNrZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IHBpeGlOUyA9IFBJWEk7XHJcbiAgICAgICAgICAgIGlmIChwYXJzZUludCgvXihcXGQrKVxcLi8uZXhlYyhWRVJTSU9OKVsxXSkgPCA1KSB7XHJcbiAgICAgICAgICAgICAgICB0aWNrZXIgPSBwaXhpTlMudGlja2VyLnNoYXJlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRpY2tlciA9IHBpeGlOUy5UaWNrZXIuc2hhcmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrZXIgPSBvcHRpb25zLnRpY2tlciB8fCB0aWNrZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi9cclxuICAgICAgICB0aGlzLnNjcmVlbldpZHRoID0gdGhpcy5vcHRpb25zLnNjcmVlbldpZHRoO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUge251bWJlcn0gKi9cclxuICAgICAgICB0aGlzLnNjcmVlbkhlaWdodCA9IHRoaXMub3B0aW9ucy5zY3JlZW5IZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuX3dvcmxkV2lkdGggPSB0aGlzLm9wdGlvbnMud29ybGRXaWR0aDtcclxuICAgICAgICB0aGlzLl93b3JsZEhlaWdodCA9IHRoaXMub3B0aW9ucy53b3JsZEhlaWdodDtcclxuICAgICAgICB0aGlzLmZvcmNlSGl0QXJlYSA9IHRoaXMub3B0aW9ucy5mb3JjZUhpdEFyZWE7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIG51bWJlciBvZiBwaXhlbHMgdG8gbW92ZSB0byB0cmlnZ2VyIGFuIGlucHV0IGV2ZW50IChlLmcuLCBkcmFnLCBwaW5jaCkgb3IgZGlzYWJsZSBhIGNsaWNrZWQgZXZlbnRcclxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMudGhyZXNob2xkID0gdGhpcy5vcHRpb25zLnRocmVzaG9sZDtcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmRpdldoZWVsID0gdGhpcy5vcHRpb25zLmRpdldoZWVsIHx8IGRvY3VtZW50LmJvZHk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzYWJsZU9uQ29udGV4dE1lbnUpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmRpdldoZWVsLm9uY29udGV4dG1lbnUgPSBlID0+IGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLm5vVGlja2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGlja2VyRnVuY3Rpb24gPSAoKSA9PiB0aGlzLnVwZGF0ZSh0aGlzLm9wdGlvbnMudGlja2VyLmVsYXBzZWRNUyk7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50aWNrZXIuYWRkKHRoaXMudGlja2VyRnVuY3Rpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dE1hbmFnZXIodGhpcyk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVzZSB0aGlzIHRvIGFkZCB1c2VyIHBsdWdpbnMgb3IgYWNjZXNzIGV4aXN0aW5nIHBsdWdpbnMgKGUuZy4sIHRvIHBhdXNlLCByZXN1bWUsIG9yIHJlbW92ZSB0aGVtKVxyXG4gICAgICAgICAqIEB0eXBlIHtQbHVnaW5NYW5hZ2VyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IG5ldyBQbHVnaW5NYW5hZ2VyKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogb3ZlcnJpZGVzIFBJWEkuQ29udGFpbmVyJ3MgZGVzdHJveSB0byBhbHNvIHJlbW92ZSB0aGUgJ3doZWVsJyBhbmQgUElYSS5UaWNrZXIgbGlzdGVuZXJzXHJcbiAgICAgKiBAcGFyYW0geyhvYmplY3R8Ym9vbGVhbil9IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGUgICAgICovXHJcbiAgICBkZXN0cm95KG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ub1RpY2tlcikge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGlja2VyLnJlbW92ZSh0aGlzLnRpY2tlckZ1bmN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XHJcbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHVwZGF0ZSB2aWV3cG9ydCBvbiBlYWNoIGZyYW1lXHJcbiAgICAgKiBieSBkZWZhdWx0LCB5b3UgZG8gbm90IG5lZWQgdG8gY2FsbCB0aGlzIHVubGVzcyB5b3Ugc2V0IG9wdGlvbnMubm9UaWNrZXI9dHJ1ZVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgbGFzdCB1cGRhdGVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlKGVsYXBzZWQpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGF1c2UpIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW5zLnVwZGF0ZShlbGFwc2VkKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RWaWV3cG9ydCkge1xyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIG1vdmVkLWVuZCBldmVudFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdFZpZXdwb3J0LnggIT09IHRoaXMueCB8fCB0aGlzLmxhc3RWaWV3cG9ydC55ICE9PSB0aGlzLnkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb3ZpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3ZlZC1lbmQnLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3Igem9vbWVkLWVuZCBldmVudFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdFZpZXdwb3J0LnNjYWxlWCAhPT0gdGhpcy5zY2FsZS54IHx8IHRoaXMubGFzdFZpZXdwb3J0LnNjYWxlWSAhPT0gdGhpcy5zY2FsZS55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy56b29taW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnpvb21pbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd6b29tZWQtZW5kJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuem9vbWluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmZvcmNlSGl0QXJlYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faGl0QXJlYURlZmF1bHQgPSBuZXcgUmVjdGFuZ2xlKHRoaXMubGVmdCwgdGhpcy50b3AsIHRoaXMud29ybGRTY3JlZW5XaWR0aCwgdGhpcy53b3JsZFNjcmVlbkhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpdEFyZWEgPSB0aGlzLl9oaXRBcmVhRGVmYXVsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fZGlydHkgPSB0aGlzLl9kaXJ0eSB8fCAhdGhpcy5sYXN0Vmlld3BvcnQgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFZpZXdwb3J0LnggIT09IHRoaXMueCB8fCB0aGlzLmxhc3RWaWV3cG9ydC55ICE9PSB0aGlzLnkgfHxcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdFZpZXdwb3J0LnNjYWxlWCAhPT0gdGhpcy5zY2FsZS54IHx8IHRoaXMubGFzdFZpZXdwb3J0LnNjYWxlWSAhPT0gdGhpcy5zY2FsZS55O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXN0Vmlld3BvcnQgPSB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLngsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnksXHJcbiAgICAgICAgICAgICAgICBzY2FsZVg6IHRoaXMuc2NhbGUueCxcclxuICAgICAgICAgICAgICAgIHNjYWxlWTogdGhpcy5zY2FsZS55XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZnJhbWUtZW5kJywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdXNlIHRoaXMgdG8gc2V0IHNjcmVlbiBhbmQgd29ybGQgc2l6ZXMtLW5lZWRlZCBmb3IgcGluY2gvd2hlZWwvY2xhbXAvYm91bmNlXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjcmVlbldpZHRoPXdpbmRvdy5pbm5lcldpZHRoXVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY3JlZW5IZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0XVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3b3JsZFdpZHRoXVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3b3JsZEhlaWdodF1cclxuICAgICAqL1xyXG4gICAgcmVzaXplKHNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGgsIHNjcmVlbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCwgd29ybGRXaWR0aCwgd29ybGRIZWlnaHQpIHtcclxuICAgICAgICB0aGlzLnNjcmVlbldpZHRoID0gc2NyZWVuV2lkdGg7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5IZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3b3JsZFdpZHRoICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aGlzLl93b3JsZFdpZHRoID0gd29ybGRXaWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3b3JsZEhlaWdodCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5fd29ybGRIZWlnaHQgPSB3b3JsZEhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2l6ZSgpO1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogd29ybGQgd2lkdGggaW4gcGl4ZWxzXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgd29ybGRXaWR0aCgpIHtcclxuICAgICAgICBpZiAodGhpcy5fd29ybGRXaWR0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRXaWR0aFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggLyB0aGlzLnNjYWxlLnhcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXQgd29ybGRXaWR0aCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3dvcmxkV2lkdGggPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnBsdWdpbnMucmVzaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB3b3JsZCBoZWlnaHQgaW4gcGl4ZWxzXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgd29ybGRIZWlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3dvcmxkSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JsZEhlaWdodFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0IC8gdGhpcy5zY2FsZS55XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0IHdvcmxkSGVpZ2h0KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fd29ybGRIZWlnaHQgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLnBsdWdpbnMucmVzaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgdmlzaWJsZSBib3VuZHMgb2Ygdmlld3BvcnRcclxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlY3RhbmdsZX1cclxuICAgICAqL1xyXG4gICAgZ2V0VmlzaWJsZUJvdW5kcygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLmxlZnQsIHRoaXMudG9wLCB0aGlzLndvcmxkU2NyZWVuV2lkdGgsIHRoaXMud29ybGRTY3JlZW5IZWlnaHQpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGFuZ2UgY29vcmRpbmF0ZXMgZnJvbSBzY3JlZW4gdG8gd29ybGRcclxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxQSVhJLlBvaW50KX0geCBvciBwb2ludFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5XVxyXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH1cclxuICAgICAqL1xyXG4gICAgdG9Xb3JsZCh4LCB5KSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Mb2NhbChuZXcgUG9pbnQoeCwgeSkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0xvY2FsKHgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hhbmdlIGNvb3JkaW5hdGVzIGZyb20gd29ybGQgdG8gc2NyZWVuXHJcbiAgICAgKiBAcGFyYW0geyhudW1iZXJ8UElYSS5Qb2ludCl9IHggb3IgcG9pbnRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeV1cclxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9XHJcbiAgICAgKi9cclxuICAgIHRvU2NyZWVuKHgsIHkpIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0dsb2JhbChuZXcgUG9pbnQoeCwgeSkpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0dsb2JhbCh4KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNjcmVlbiB3aWR0aCBpbiB3b3JsZCBjb29yZGluYXRlc1xyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHdvcmxkU2NyZWVuV2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuV2lkdGggLyB0aGlzLnNjYWxlLnhcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNjcmVlbiBoZWlnaHQgaW4gd29ybGQgY29vcmRpbmF0ZXNcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCB3b3JsZFNjcmVlbkhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5IZWlnaHQgLyB0aGlzLnNjYWxlLnlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHdvcmxkIHdpZHRoIGluIHNjcmVlbiBjb29yZGluYXRlc1xyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHNjcmVlbldvcmxkV2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRXaWR0aCAqIHRoaXMuc2NhbGUueFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogd29ybGQgaGVpZ2h0IGluIHNjcmVlbiBjb29yZGluYXRlc1xyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHNjcmVlbldvcmxkSGVpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkSGVpZ2h0ICogdGhpcy5zY2FsZS55XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjZW50ZXIgb2Ygc2NyZWVuIGluIHdvcmxkIGNvb3JkaW5hdGVzXHJcbiAgICAgKiBAdHlwZSB7UElYSS5Qb2ludH1cclxuICAgICAqL1xyXG4gICAgZ2V0IGNlbnRlcigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMud29ybGRTY3JlZW5XaWR0aCAvIDIgLSB0aGlzLnggLyB0aGlzLnNjYWxlLngsIHRoaXMud29ybGRTY3JlZW5IZWlnaHQgLyAyIC0gdGhpcy55IC8gdGhpcy5zY2FsZS55KVxyXG4gICAgfVxyXG4gICAgc2V0IGNlbnRlcih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMubW92ZUNlbnRlcih2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBtb3ZlIGNlbnRlciBvZiB2aWV3cG9ydCB0byBwb2ludFxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfFBJWEkuUG9pbnQpfSB4IG9yIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ldXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBtb3ZlQ2VudGVyKCkge1xyXG4gICAgICAgIGxldCB4LCB5O1xyXG4gICAgICAgIGlmICghaXNOYU4oYXJndW1lbnRzWzBdKSkge1xyXG4gICAgICAgICAgICB4ID0gYXJndW1lbnRzWzBdO1xyXG4gICAgICAgICAgICB5ID0gYXJndW1lbnRzWzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgeCA9IGFyZ3VtZW50c1swXS54O1xyXG4gICAgICAgICAgICB5ID0gYXJndW1lbnRzWzBdLnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KCh0aGlzLndvcmxkU2NyZWVuV2lkdGggLyAyIC0geCkgKiB0aGlzLnNjYWxlLngsICh0aGlzLndvcmxkU2NyZWVuSGVpZ2h0IC8gMiAtIHkpICogdGhpcy5zY2FsZS55KTtcclxuICAgICAgICB0aGlzLnBsdWdpbnMucmVzZXQoKTtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdG9wLWxlZnQgY29ybmVyIG9mIFZpZXdwb3J0XHJcbiAgICAgKiBAdHlwZSB7UElYSS5Qb2ludH1cclxuICAgICAqL1xyXG4gICAgZ2V0IGNvcm5lcigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBvaW50KC10aGlzLnggLyB0aGlzLnNjYWxlLngsIC10aGlzLnkgLyB0aGlzLnNjYWxlLnkpXHJcbiAgICB9XHJcbiAgICBzZXQgY29ybmVyKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5tb3ZlQ29ybmVyKHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1vdmUgdmlld3BvcnQncyB0b3AtbGVmdCBjb3JuZXI7IGFsc28gY2xhbXBzIGFuZCByZXNldHMgZGVjZWxlcmF0ZSBhbmQgYm91bmNlIChhcyBuZWVkZWQpXHJcbiAgICAgKiBAcGFyYW0geyhudW1iZXJ8UElYSS5Qb2ludCl9IHggb3IgcG9pbnRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeV1cclxuICAgICAqIEByZXR1cm4ge1ZpZXdwb3J0fSB0aGlzXHJcbiAgICAgKi9cclxuICAgIG1vdmVDb3JuZXIoeCwgeSkge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24uc2V0KC14LnggKiB0aGlzLnNjYWxlLngsIC14LnkgKiB0aGlzLnNjYWxlLnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5zZXQoLXggKiB0aGlzLnNjYWxlLngsIC15ICogdGhpcy5zY2FsZS55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2V0KCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldCBob3cgbWFueSB3b3JsZCBwaXhlbHMgZml0IGluIHNjcmVlbidzIHdpZHRoXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgc2NyZWVuV2lkdGhJbldvcmxkUGl4ZWxzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlbldpZHRoIC8gdGhpcy5zY2FsZS54XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgaG93IG1hbnkgd29ybGQgcGl4ZWxzIGZpdCBvbiBzY3JlZW4ncyBoZWlnaHRcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCBzY3JlZW5IZWlnaHRJbldvcmxkUGl4ZWxzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlbkhlaWdodCAvIHRoaXMuc2NhbGUueVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZmluZCB0aGUgc2NhbGUgdmFsdWUgdGhhdCBmaXRzIGEgd29ybGQgd2lkdGggb24gdGhlIHNjcmVlblxyXG4gICAgICogZG9lcyBub3QgY2hhbmdlIHRoZSB2aWV3cG9ydCAodXNlIGZpdC4uLiB0byBjaGFuZ2UpXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggaW4gd29ybGQgcGl4ZWxzXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBzY2FsZVxyXG4gICAgICovXHJcbiAgICBmaW5kRml0V2lkdGgod2lkdGgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5XaWR0aCAvIHdpZHRoXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmaW5kcyB0aGUgc2NhbGUgdmFsdWUgdGhhdCBmaXRzIGEgd29ybGQgaGVpZ2h0IG9uIHRoZSBzY3JlZW5zXHJcbiAgICAgKiBkb2VzIG5vdCBjaGFuZ2UgdGhlIHZpZXdwb3J0ICh1c2UgZml0Li4uIHRvIGNoYW5nZSlcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgaW4gd29ybGQgcGl4ZWxzXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBzY2FsZVxyXG4gICAgICovXHJcbiAgICBmaW5kRml0SGVpZ2h0KGhlaWdodCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlbkhlaWdodCAvIGhlaWdodFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZmluZHMgdGhlIHNjYWxlIHZhbHVlIHRoYXQgZml0cyB0aGUgc21hbGxlciBvZiBhIHdvcmxkIHdpZHRoIGFuZCB3b3JsZCBoZWlnaHQgb24gdGhlIHNjcmVlblxyXG4gICAgICogZG9lcyBub3QgY2hhbmdlIHRoZSB2aWV3cG9ydCAodXNlIGZpdC4uLiB0byBjaGFuZ2UpXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggaW4gd29ybGQgcGl4ZWxzXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IGluIHdvcmxkIHBpeGVsc1xyXG4gICAgICogQHJldHVybnMge251bWJlcn0gc2NhbGVcclxuICAgICAqL1xyXG4gICAgZmluZEZpdCh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVYID0gdGhpcy5zY3JlZW5XaWR0aCAvIHdpZHRoO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlWSA9IHRoaXMuc2NyZWVuSGVpZ2h0IC8gaGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbihzY2FsZVgsIHNjYWxlWSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZpbmRzIHRoZSBzY2FsZSB2YWx1ZSB0aGF0IGZpdHMgdGhlIGxhcmdlciBvZiBhIHdvcmxkIHdpZHRoIGFuZCB3b3JsZCBoZWlnaHQgb24gdGhlIHNjcmVlblxyXG4gICAgICogZG9lcyBub3QgY2hhbmdlIHRoZSB2aWV3cG9ydCAodXNlIGZpdC4uLiB0byBjaGFuZ2UpXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggaW4gd29ybGQgcGl4ZWxzXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IGluIHdvcmxkIHBpeGVsc1xyXG4gICAgICogQHJldHVybnMge251bWJlcn0gc2NhbGVcclxuICAgICAqL1xyXG4gICAgZmluZENvdmVyKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICBjb25zdCBzY2FsZVggPSB0aGlzLnNjcmVlbldpZHRoIC8gd2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gdGhpcy5zY3JlZW5IZWlnaHQgLyBoZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHNjYWxlWCwgc2NhbGVZKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hhbmdlIHpvb20gc28gdGhlIHdpZHRoIGZpdHMgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPXRoaXMud29ybGRXaWR0aF0gaW4gd29ybGQgY29vcmRpbmF0ZXNcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NlbnRlcl0gbWFpbnRhaW4gdGhlIHNhbWUgY2VudGVyXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzY2FsZVk9dHJ1ZV0gd2hldGhlciB0byBzZXQgc2NhbGVZPXNjYWxlWFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbm9DbGFtcF0gd2hldGhlciB0byBkaXNhYmxlIGNsYW1wLXpvb21cclxuICAgICAqIEByZXR1cm5zIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBmaXRXaWR0aCh3aWR0aCwgY2VudGVyLCBzY2FsZVkgPSB0cnVlLCBub0NsYW1wKSB7XHJcbiAgICAgICAgbGV0IHNhdmU7XHJcbiAgICAgICAgaWYgKGNlbnRlcikge1xyXG4gICAgICAgICAgICBzYXZlID0gdGhpcy5jZW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHRoaXMuc2NyZWVuV2lkdGggLyB3aWR0aDtcclxuXHJcbiAgICAgICAgaWYgKHNjYWxlWSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB0aGlzLnNjYWxlLng7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjbGFtcFpvb20gPSB0aGlzLnBsdWdpbnMuZ2V0KCdjbGFtcC16b29tJywgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKCFub0NsYW1wICYmIGNsYW1wWm9vbSkge1xyXG4gICAgICAgICAgICBjbGFtcFpvb20uY2xhbXAoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ2VudGVyKHNhdmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hhbmdlIHpvb20gc28gdGhlIGhlaWdodCBmaXRzIGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9dGhpcy53b3JsZEhlaWdodF0gaW4gd29ybGQgY29vcmRpbmF0ZXNcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NlbnRlcl0gbWFpbnRhaW4gdGhlIHNhbWUgY2VudGVyIG9mIHRoZSBzY3JlZW4gYWZ0ZXIgem9vbVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2NhbGVYPXRydWVdIHdoZXRoZXIgdG8gc2V0IHNjYWxlWCA9IHNjYWxlWVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbm9DbGFtcF0gd2hldGhlciB0byBkaXNhYmxlIGNsYW1wLXpvb21cclxuICAgICAqIEByZXR1cm5zIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBmaXRIZWlnaHQoaGVpZ2h0LCBjZW50ZXIsIHNjYWxlWCA9IHRydWUsIG5vQ2xhbXApIHtcclxuICAgICAgICBsZXQgc2F2ZTtcclxuICAgICAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgICAgICAgIHNhdmUgPSB0aGlzLmNlbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gdGhpcy5zY3JlZW5IZWlnaHQgLyBoZWlnaHQ7XHJcblxyXG4gICAgICAgIGlmIChzY2FsZVgpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdGhpcy5zY2FsZS55O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY2xhbXBab29tID0gdGhpcy5wbHVnaW5zLmdldCgnY2xhbXAtem9vbScsIHRydWUpO1xyXG4gICAgICAgIGlmICghbm9DbGFtcCAmJiBjbGFtcFpvb20pIHtcclxuICAgICAgICAgICAgY2xhbXBab29tLmNsYW1wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUNlbnRlcihzYXZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoYW5nZSB6b29tIHNvIGl0IGZpdHMgdGhlIGVudGlyZSB3b3JsZCBpbiB0aGUgdmlld3BvcnRcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2VudGVyIG1haW50YWluIHRoZSBzYW1lIGNlbnRlciBvZiB0aGUgc2NyZWVuIGFmdGVyIHpvb21cclxuICAgICAqIEByZXR1cm5zIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBmaXRXb3JsZChjZW50ZXIpIHtcclxuICAgICAgICBsZXQgc2F2ZTtcclxuICAgICAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgICAgICAgIHNhdmUgPSB0aGlzLmNlbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2FsZS54ID0gdGhpcy5zY3JlZW5XaWR0aCAvIHRoaXMud29ybGRXaWR0aDtcclxuICAgICAgICB0aGlzLnNjYWxlLnkgPSB0aGlzLnNjcmVlbkhlaWdodCAvIHRoaXMud29ybGRIZWlnaHQ7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NhbGUueCA8IHRoaXMuc2NhbGUueSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB0aGlzLnNjYWxlLng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB0aGlzLnNjYWxlLnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjbGFtcFpvb20gPSB0aGlzLnBsdWdpbnMuZ2V0KCdjbGFtcC16b29tJywgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKGNsYW1wWm9vbSkge1xyXG4gICAgICAgICAgICBjbGFtcFpvb20uY2xhbXAoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ2VudGVyKHNhdmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hhbmdlIHpvb20gc28gaXQgZml0cyB0aGUgc2l6ZSBvciB0aGUgZW50aXJlIHdvcmxkIGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2VudGVyXSBtYWludGFpbiB0aGUgc2FtZSBjZW50ZXIgb2YgdGhlIHNjcmVlbiBhZnRlciB6b29tXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPXRoaXMud29ybGRXaWR0aF0gZGVzaXJlZCB3aWR0aFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9dGhpcy53b3JsZEhlaWdodF0gZGVzaXJlZCBoZWlnaHRcclxuICAgICAqIEByZXR1cm5zIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBmaXQoY2VudGVyLCB3aWR0aCA9IHRoaXMud29ybGRXaWR0aCwgaGVpZ2h0ID0gdGhpcy53b3JsZEhlaWdodCkge1xyXG4gICAgICAgIGxldCBzYXZlO1xyXG4gICAgICAgIGlmIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgc2F2ZSA9IHRoaXMuY2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjYWxlLnggPSB0aGlzLnNjcmVlbldpZHRoIC8gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gdGhpcy5zY3JlZW5IZWlnaHQgLyBoZWlnaHQ7XHJcbiAgICAgICAgaWYgKHRoaXMuc2NhbGUueCA8IHRoaXMuc2NhbGUueSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB0aGlzLnNjYWxlLng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB0aGlzLnNjYWxlLnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNsYW1wWm9vbSA9IHRoaXMucGx1Z2lucy5nZXQoJ2NsYW1wLXpvb20nLCB0cnVlKTtcclxuICAgICAgICBpZiAoY2xhbXBab29tKSB7XHJcbiAgICAgICAgICAgIGNsYW1wWm9vbS5jbGFtcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUNlbnRlcihzYXZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBzZXQgdmlzaWJsZSh2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC5jbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci52aXNpYmxlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB6b29tIHZpZXdwb3J0IHRvIHNwZWNpZmljIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgdmFsdWUgKGUuZy4sIDEgd291bGQgYmUgMTAwJSwgMC4yNSB3b3VsZCBiZSAyNSUpXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjZW50ZXJdIG1haW50YWluIHRoZSBzYW1lIGNlbnRlciBvZiB0aGUgc2NyZWVuIGFmdGVyIHpvb21cclxuICAgICAqIEByZXR1cm4ge1ZpZXdwb3J0fSB0aGlzXHJcbiAgICAgKi9cclxuICAgIHNldFpvb20oc2NhbGUsIGNlbnRlcikge1xyXG4gICAgICAgIGxldCBzYXZlO1xyXG4gICAgICAgIGlmIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgc2F2ZSA9IHRoaXMuY2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjYWxlLnNldChzY2FsZSk7XHJcbiAgICAgICAgY29uc3QgY2xhbXBab29tID0gdGhpcy5wbHVnaW5zLmdldCgnY2xhbXAtem9vbScsIHRydWUpO1xyXG4gICAgICAgIGlmIChjbGFtcFpvb20pIHtcclxuICAgICAgICAgICAgY2xhbXBab29tLmNsYW1wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ2VudGVyKHNhdmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogem9vbSB2aWV3cG9ydCBieSBhIGNlcnRhaW4gcGVyY2VudCAoaW4gYm90aCB4IGFuZCB5IGRpcmVjdGlvbilcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50IGNoYW5nZSAoZS5nLiwgMC4yNSB3b3VsZCBpbmNyZWFzZSBhIHN0YXJ0aW5nIHNjYWxlIG9mIDEuMCB0byAxLjI1KVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2VudGVyXSBtYWludGFpbiB0aGUgc2FtZSBjZW50ZXIgb2YgdGhlIHNjcmVlbiBhZnRlciB6b29tXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICB6b29tUGVyY2VudChwZXJjZW50LCBjZW50ZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zZXRab29tKHRoaXMuc2NhbGUueCArIHRoaXMuc2NhbGUueCAqIHBlcmNlbnQsIGNlbnRlcilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHpvb20gdmlld3BvcnQgYnkgaW5jcmVhc2luZy9kZWNyZWFzaW5nIHdpZHRoIGJ5IGEgY2VydGFpbiBudW1iZXIgb2YgcGl4ZWxzXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2hhbmdlIGluIHBpeGVsc1xyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2VudGVyXSBtYWludGFpbiB0aGUgc2FtZSBjZW50ZXIgb2YgdGhlIHNjcmVlbiBhZnRlciB6b29tXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICB6b29tKGNoYW5nZSwgY2VudGVyKSB7XHJcbiAgICAgICAgdGhpcy5maXRXaWR0aChjaGFuZ2UgKyB0aGlzLndvcmxkU2NyZWVuV2lkdGgsIGNlbnRlcik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoYW5nZXMgc2NhbGUgb2Ygdmlld3BvcnQgYW5kIG1haW50YWlucyBjZW50ZXIgb2Ygdmlld3BvcnRcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIHNldCBzY2FsZWQoc2NhbGUpIHtcclxuICAgICAgICB0aGlzLnNldFpvb20oc2NhbGUsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgZ2V0IHNjYWxlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1NuYXBab29tT3B0aW9uc30gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBzbmFwWm9vbShvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmFkZCgnc25hcC16b29tJywgbmV3IFNuYXBab29tKHRoaXMsIG9wdGlvbnMpKTtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaXMgY29udGFpbmVyIG91dCBvZiB3b3JsZCBib3VuZHNcclxuICAgICAqIEByZXR1cm5zIHtPdXRPZkJvdW5kc31cclxuICAgICAqL1xyXG4gICAgT09CKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHRoaXMubGVmdCA8IDAsXHJcbiAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnJpZ2h0ID4gdGhpcy53b3JsZFdpZHRoLFxyXG4gICAgICAgICAgICB0b3A6IHRoaXMudG9wIDwgMCxcclxuICAgICAgICAgICAgYm90dG9tOiB0aGlzLmJvdHRvbSA+IHRoaXMuX3dvcmxkSGVpZ2h0LFxyXG4gICAgICAgICAgICBjb3JuZXJQb2ludDogbmV3IFBvaW50KFxyXG4gICAgICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoICogdGhpcy5zY2FsZS54IC0gdGhpcy5zY3JlZW5XaWR0aCxcclxuICAgICAgICAgICAgICAgIHRoaXMud29ybGRIZWlnaHQgKiB0aGlzLnNjYWxlLnkgLSB0aGlzLnNjcmVlbkhlaWdodFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogd29ybGQgY29vcmRpbmF0ZXMgb2YgdGhlIHJpZ2h0IGVkZ2Ugb2YgdGhlIHNjcmVlblxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHJpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiAtdGhpcy54IC8gdGhpcy5zY2FsZS54ICsgdGhpcy53b3JsZFNjcmVlbldpZHRoXHJcbiAgICB9XHJcbiAgICBzZXQgcmlnaHQodmFsdWUpIHtcclxuICAgICAgICB0aGlzLnggPSAtdmFsdWUgKiB0aGlzLnNjYWxlLnggKyB0aGlzLnNjcmVlbldpZHRoO1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogd29ybGQgY29vcmRpbmF0ZXMgb2YgdGhlIGxlZnQgZWRnZSBvZiB0aGUgc2NyZWVuXHJcbiAgICAgKiBAdHlwZSB7IG51bWJlciB9XHJcbiAgICAgKi9cclxuICAgIGdldCBsZWZ0KCkge1xyXG4gICAgICAgIHJldHVybiAtdGhpcy54IC8gdGhpcy5zY2FsZS54XHJcbiAgICB9XHJcbiAgICBzZXQgbGVmdCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMueCA9IC12YWx1ZSAqIHRoaXMuc2NhbGUueDtcclxuICAgICAgICB0aGlzLnBsdWdpbnMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHdvcmxkIGNvb3JkaW5hdGVzIG9mIHRoZSB0b3AgZWRnZSBvZiB0aGUgc2NyZWVuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgdG9wKCkge1xyXG4gICAgICAgIHJldHVybiAtdGhpcy55IC8gdGhpcy5zY2FsZS55XHJcbiAgICB9XHJcbiAgICBzZXQgdG9wKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy55ID0gLXZhbHVlICogdGhpcy5zY2FsZS55O1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogd29ybGQgY29vcmRpbmF0ZXMgb2YgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSBzY3JlZW5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCBib3R0b20oKSB7XHJcbiAgICAgICAgcmV0dXJuIC10aGlzLnkgLyB0aGlzLnNjYWxlLnkgKyB0aGlzLndvcmxkU2NyZWVuSGVpZ2h0XHJcbiAgICB9XHJcbiAgICBzZXQgYm90dG9tKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy55ID0gLXZhbHVlICogdGhpcy5zY2FsZS55ICsgdGhpcy5zY3JlZW5IZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHZpZXdwb3J0IGlzIGRpcnR5IChpLmUuLCBuZWVkcyB0byBiZSByZW5kZXJlcmVkIHRvIHRoZSBzY3JlZW4gYmVjYXVzZSBvZiBhIGNoYW5nZSlcclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBnZXQgZGlydHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RpcnR5XHJcbiAgICB9XHJcbiAgICBzZXQgZGlydHkodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9kaXJ0eSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcGVybWFuZW50bHkgY2hhbmdlcyB0aGUgVmlld3BvcnQncyBoaXRBcmVhXHJcbiAgICAgKiBOT1RFOiBpZiBub3Qgc2V0IHRoZW4gaGl0QXJlYSA9IFBJWEkuUmVjdGFuZ2xlKFZpZXdwb3J0LmxlZnQsIFZpZXdwb3J0LnRvcCwgVmlld3BvcnQud29ybGRTY3JlZW5XaWR0aCwgVmlld3BvcnQud29ybGRTY3JlZW5IZWlnaHQpXHJcbiAgICAgKiBAcmV0dXJucyB7SGl0QXJlYX1cclxuICAgICAqL1xyXG4gICAgZ2V0IGZvcmNlSGl0QXJlYSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZm9yY2VIaXRBcmVhXHJcbiAgICB9XHJcbiAgICBzZXQgZm9yY2VIaXRBcmVhKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZvcmNlSGl0QXJlYSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB0aGlzLmhpdEFyZWEgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZvcmNlSGl0QXJlYSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuaGl0QXJlYSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgdGhpcy53b3JsZFdpZHRoLCB0aGlzLndvcmxkSGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBlbmFibGUgb25lLWZpbmdlciB0b3VjaCB0byBkcmFnXHJcbiAgICAgKiBOT1RFOiBpZiB5b3UgZXhwZWN0IHVzZXJzIHRvIHVzZSByaWdodC1jbGljayBkcmFnZ2luZywgeW91IHNob3VsZCBlbmFibGUgdmlld3BvcnQub3B0aW9ucy5kaXNhYmxlT25Db250ZXh0TWVudSB0byBhdm9pZCB0aGUgY29udGV4dCBtZW51IHBvcHBpbmcgdXAgb24gZWFjaCByaWdodC1jbGljayBkcmFnXHJcbiAgICAgKiBAcGFyYW0ge0RyYWdPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEByZXR1cm5zIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBkcmFnKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuYWRkKCdkcmFnJywgbmV3IERyYWcodGhpcywgb3B0aW9ucykpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjbGFtcCB0byB3b3JsZCBib3VuZGFyaWVzIG9yIG90aGVyIHByb3ZpZGVkIGJvdW5kYXJpZXNcclxuICAgICAqIE5PVEVTOlxyXG4gICAgICogICBjbGFtcCBpcyBkaXNhYmxlZCBpZiBjYWxsZWQgd2l0aCBubyBvcHRpb25zOyB1c2UgeyBkaXJlY3Rpb246ICdhbGwnIH0gZm9yIGFsbCBlZGdlIGNsYW1waW5nXHJcbiAgICAgKiAgIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQsIHdvcmxkV2lkdGgsIGFuZCB3b3JsZEhlaWdodCBuZWVkcyB0byBiZSBzZXQgZm9yIHRoaXMgdG8gd29yayBwcm9wZXJseVxyXG4gICAgICogQHBhcmFtIHtDbGFtcE9wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICogQHJldHVybnMge1ZpZXdwb3J0fSB0aGlzXHJcbiAgICAgKi9cclxuICAgIGNsYW1wKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuYWRkKCdjbGFtcCcsIG5ldyBDbGFtcCh0aGlzLCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGRlY2VsZXJhdGUgYWZ0ZXIgYSBtb3ZlXHJcbiAgICAgKiBOT1RFOiB0aGlzIGZpcmVzICdtb3ZlZCcgZXZlbnQgZHVyaW5nIGRlY2VsZXJhdGlvblxyXG4gICAgICogQHBhcmFtIHtEZWNlbGVyYXRlT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBkZWNlbGVyYXRlKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuYWRkKCdkZWNlbGVyYXRlJywgbmV3IERlY2VsZXJhdGUodGhpcywgb3B0aW9ucykpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBib3VuY2Ugb24gYm9yZGVyc1xyXG4gICAgICogTk9URVM6XHJcbiAgICAgKiAgICBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0LCB3b3JsZFdpZHRoLCBhbmQgd29ybGRIZWlnaHQgbmVlZHMgdG8gYmUgc2V0IGZvciB0aGlzIHRvIHdvcmsgcHJvcGVybHlcclxuICAgICAqICAgIGZpcmVzICdtb3ZlZCcsICdib3VuY2UteC1zdGFydCcsICdib3VuY2UteS1zdGFydCcsICdib3VuY2UteC1lbmQnLCBhbmQgJ2JvdW5jZS15LWVuZCcgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc2lkZXM9YWxsXSBhbGwsIGhvcml6b250YWwsIHZlcnRpY2FsLCBvciBjb21iaW5hdGlvbiBvZiB0b3AsIGJvdHRvbSwgcmlnaHQsIGxlZnQgKGUuZy4sICd0b3AtYm90dG9tLXJpZ2h0JylcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5mcmljdGlvbj0wLjVdIGZyaWN0aW9uIHRvIGFwcGx5IHRvIGRlY2VsZXJhdGUgaWYgYWN0aXZlXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZT0xNTBdIHRpbWUgaW4gbXMgdG8gZmluaXNoIGJvdW5jZVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLmJvdW5jZUJveF0gdXNlIHRoaXMgYm91bmNlQm94IGluc3RlYWQgb2YgKDAsIDAsIHZpZXdwb3J0LndvcmxkV2lkdGgsIHZpZXdwb3J0LndvcmxkSGVpZ2h0KVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJvdW5jZUJveC54PTBdXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYm91bmNlQm94Lnk9MF1cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5ib3VuY2VCb3gud2lkdGg9dmlld3BvcnQud29ybGRXaWR0aF1cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5ib3VuY2VCb3guaGVpZ2h0PXZpZXdwb3J0LndvcmxkSGVpZ2h0XVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb259IFtvcHRpb25zLmVhc2U9ZWFzZUluT3V0U2luZV0gZWFzZSBmdW5jdGlvbiBvciBuYW1lIChzZWUgaHR0cDovL2Vhc2luZ3MubmV0LyBmb3Igc3VwcG9ydGVkIG5hbWVzKVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVuZGVyZmxvdz1jZW50ZXJdICh0b3AvYm90dG9tL2NlbnRlciBhbmQgbGVmdC9yaWdodC9jZW50ZXIsIG9yIGNlbnRlcikgd2hlcmUgdG8gcGxhY2Ugd29ybGQgaWYgdG9vIHNtYWxsIGZvciBzY3JlZW5cclxuICAgICAqIEByZXR1cm4ge1ZpZXdwb3J0fSB0aGlzXHJcbiAgICAgKi9cclxuICAgIGJvdW5jZShvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmFkZCgnYm91bmNlJywgbmV3IEJvdW5jZSh0aGlzLCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGVuYWJsZSBwaW5jaCB0byB6b29tIGFuZCB0d28tZmluZ2VyIHRvdWNoIHRvIGRyYWdcclxuICAgICAqIEBwYXJhbSB7UGluY2hPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEByZXR1cm4ge1ZpZXdwb3J0fSB0aGlzXHJcbiAgICAgKi9cclxuICAgIHBpbmNoKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuYWRkKCdwaW5jaCcsIG5ldyBQaW5jaCh0aGlzLCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNuYXAgdG8gYSBwb2ludFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XHJcbiAgICAgKiBAcGFyYW0ge1NuYXBPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEByZXR1cm4ge1ZpZXdwb3J0fSB0aGlzXHJcbiAgICAgKi9cclxuICAgIHNuYXAoeCwgeSwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5hZGQoJ3NuYXAnLCBuZXcgU25hcCh0aGlzLCB4LCB5LCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZvbGxvdyBhIHRhcmdldFxyXG4gICAgICogTk9URVM6XHJcbiAgICAgKiAgICB1c2VzIHRoZSAoeCwgeSkgYXMgdGhlIGNlbnRlciB0byBmb2xsb3c7IGZvciBQSVhJLlNwcml0ZSB0byB3b3JrIHByb3Blcmx5LCB1c2Ugc3ByaXRlLmFuY2hvci5zZXQoMC41KVxyXG4gICAgICogICAgb3B0aW9ucy5hY2NlbGVyYXRpb24gaXMgbm90IHBlcmZlY3QgYXMgaXQgZG9lc24ndCBrbm93IHRoZSB2ZWxvY2l0eSBvZiB0aGUgdGFyZ2V0XHJcbiAgICAgKiAgICBpdCBhZGRzIGFjY2VsZXJhdGlvbiB0byB0aGUgc3RhcnQgb2YgbW92ZW1lbnQgYW5kIGRlY2VsZXJhdGlvbiB0byB0aGUgZW5kIG9mIG1vdmVtZW50IHdoZW4gdGhlIHRhcmdldCBpcyBzdG9wcGVkXHJcbiAgICAgKiAgICBmaXJlcyAnbW92ZWQnIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IHRvIGZvbGxvd1xyXG4gICAgICogQHBhcmFtIHtGb2xsb3dPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEByZXR1cm5zIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBmb2xsb3codGFyZ2V0LCBvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmFkZCgnZm9sbG93JywgbmV3IEZvbGxvdyh0aGlzLCB0YXJnZXQsIG9wdGlvbnMpKTtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogem9vbSB1c2luZyBtb3VzZSB3aGVlbFxyXG4gICAgICogQHBhcmFtIHtXaGVlbE9wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICogQHJldHVybiB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgd2hlZWwob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5hZGQoJ3doZWVsJywgbmV3IFdoZWVsKHRoaXMsIG9wdGlvbnMpKTtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYW5pbWF0ZSB0aGUgcG9zaXRpb24gYW5kL29yIHNjYWxlIG9mIHRoZSB2aWV3cG9ydFxyXG4gICAgICogQHBhcmFtIHtBbmltYXRlT3B0aW9uc30gb3B0aW9uc1xyXG4gICAgICogQHJldHVybnMge1ZpZXdwb3J0fSB0aGlzXHJcbiAgICAgKi9cclxuICAgIGFuaW1hdGUob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5hZGQoJ2FuaW1hdGUnLCBuZXcgQW5pbWF0ZSh0aGlzLCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGVuYWJsZSBjbGFtcGluZyBvZiB6b29tIHRvIGNvbnN0cmFpbnRzXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoZSBtaW5XaWR0aC9IZWlnaHQgc2V0dGluZ3MgYXJlIGhvdyBzbWFsbCB0aGUgd29ybGQgY2FuIGdldCAoYXMgaXQgd291bGQgYXBwZWFyIG9uIHRoZSBzY3JlZW4pXHJcbiAgICAgKiBiZWZvcmUgY2xhbXBpbmcuIFRoZSBtYXhXaWR0aC9tYXhIZWlnaHQgaXMgaG93IGxhcmdlciB0aGUgd29ybGQgY2FuIHNjYWxlIChhcyBpdCB3b3VsZCBhcHBlYXIgb25cclxuICAgICAqIHRoZSBzY3JlZW4pIGJlZm9yZSBjbGFtcGluZy5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgeW91IGhhdmUgYSB3b3JsZCBzaXplIG9mIDEwMDAgeCAxMDAwIGFuZCBhIHNjcmVlbiBzaXplIG9mIDEwMCB4IDEwMCwgaWYgeW91IHNldFxyXG4gICAgICogbWluV2lkdGgvSGVpZ2h0ID0gMTAwIHRoZW4gdGhlIHdvcmxkIHdpbGwgbm90IGJlIGFibGUgdG8gem9vbSBzbWFsbGVyIHRoYW4gdGhlIHNjcmVlbiBzaXplIChpZSxcclxuICAgICAqIHpvb21pbmcgb3V0IHNvIGl0IGFwcGVhcnMgc21hbGxlciB0aGFuIHRoZSBzY3JlZW4pLiBTaW1pbGFybHksIGlmIHlvdSBzZXQgbWF4V2lkdGgvSGVpZ2h0ID0gMTAwXHJcbiAgICAgKiB0aGUgd29ybGQgd2lsbCBub3QgYmUgYWJsZSB0byB6b29tIGxhcmdlciB0aGFuIHRoZSBzY3JlZW4gc2l6ZSAoaWUsIHpvb21pbmcgaW4gc28gaXQgYXBwZWFyc1xyXG4gICAgICogbGFyZ2VyIHRoYW4gdGhlIHNjcmVlbikuXHJcbiAgICAgKiBAcGFyYW0ge0NsYW1wWm9vbU9wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICogQHJldHVybiB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgY2xhbXBab29tKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuYWRkKCdjbGFtcC16b29tJywgbmV3IENsYW1wWm9vbSh0aGlzLCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNjcm9sbCB2aWV3cG9ydCB3aGVuIG1vdXNlIGhvdmVycyBuZWFyIG9uZSBvZiB0aGUgZWRnZXMgb3IgcmFkaXVzLWRpc3RhbmNlIGZyb20gY2VudGVyIG9mIHNjcmVlbi5cclxuICAgICAqIE5PVEU6IGZpcmVzICdtb3ZlZCcgZXZlbnRcclxuICAgICAqIEBwYXJhbSB7TW91c2VFZGdlc09wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICovXHJcbiAgICBtb3VzZUVkZ2VzKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuYWRkKCdtb3VzZS1lZGdlcycsIG5ldyBNb3VzZUVkZ2VzKHRoaXMsIG9wdGlvbnMpKTtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcGF1c2Ugdmlld3BvcnQgKGluY2x1ZGluZyBhbmltYXRpb24gdXBkYXRlcyBzdWNoIGFzIGRlY2VsZXJhdGUpXHJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHBhdXNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXVzZVxyXG4gICAgfVxyXG4gICAgc2V0IHBhdXNlKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fcGF1c2UgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmxhc3RWaWV3cG9ydCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5tb3ZpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnpvb21pbmcgPSBmYWxzZTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5pbnB1dC5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG1vdmUgdGhlIHZpZXdwb3J0IHNvIHRoZSBib3VuZGluZyBib3ggaXMgdmlzaWJsZVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBsZWZ0XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRvcFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXNpemVUb0ZpdF0gcmVzaXplIHRoZSB2aWV3cG9ydCBzbyB0aGUgYm94IGZpdHMgd2l0aGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICovXHJcbiAgICBlbnN1cmVWaXNpYmxlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJlc2l6ZVRvRml0KSB7XHJcbiAgICAgICAgaWYgKHJlc2l6ZVRvRml0ICYmICh3aWR0aCA+IHRoaXMud29ybGRTY3JlZW5XaWR0aCB8fCBoZWlnaHQgPiB0aGlzLndvcmxkU2NyZWVuSGVpZ2h0KSkge1xyXG4gICAgICAgICAgICB0aGlzLmZpdCh0cnVlLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5lbWl0KCd6b29tZWQnLCB7IHZpZXdwb3J0OiB0aGlzLCB0eXBlOiAnZW5zdXJlVmlzaWJsZScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh4IDwgdGhpcy5sZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IHg7XHJcbiAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoeCArIHdpZHRoID4gdGhpcy5yaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0geCArIHdpZHRoO1xyXG4gICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh5IDwgdGhpcy50b3ApIHtcclxuICAgICAgICAgICAgdGhpcy50b3AgPSB5O1xyXG4gICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHkgKyBoZWlnaHQgPiB0aGlzLmJvdHRvbSkge1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbSA9IHkgKyBoZWlnaHQ7XHJcbiAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1vdmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLCB0eXBlOiAnZW5zdXJlVmlzaWJsZScgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogZmlyZXMgYWZ0ZXIgYSBtb3VzZSBvciB0b3VjaCBjbGlja1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjY2xpY2tlZFxyXG4gKiBAdHlwZSB7b2JqZWN0fVxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IHNjcmVlblxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IHdvcmxkXHJcbiAqIEBwcm9wZXJ0eSB7Vmlld3BvcnR9IHZpZXdwb3J0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gYSBkcmFnIHN0YXJ0c1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjZHJhZy1zdGFydFxyXG4gKiBAdHlwZSB7b2JqZWN0fVxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IHNjcmVlblxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IHdvcmxkXHJcbiAqIEBwcm9wZXJ0eSB7Vmlld3BvcnR9IHZpZXdwb3J0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gYSBkcmFnIGVuZHNcclxuICogQGV2ZW50IFZpZXdwb3J0I2RyYWctZW5kXHJcbiAqIEB0eXBlIHtvYmplY3R9XHJcbiAqIEBwcm9wZXJ0eSB7UElYSS5Qb2ludH0gc2NyZWVuXHJcbiAqIEBwcm9wZXJ0eSB7UElYSS5Qb2ludH0gd29ybGRcclxuICogQHByb3BlcnR5IHtWaWV3cG9ydH0gdmlld3BvcnRcclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIHBpbmNoIHN0YXJ0c1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjcGluY2gtc3RhcnRcclxuICogQHR5cGUge1ZpZXdwb3J0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgcGluY2ggZW5kXHJcbiAqIEBldmVudCBWaWV3cG9ydCNwaW5jaC1lbmRcclxuICogQHR5cGUge1ZpZXdwb3J0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgc25hcCBzdGFydHNcclxuICogQGV2ZW50IFZpZXdwb3J0I3NuYXAtc3RhcnRcclxuICogQHR5cGUge1ZpZXdwb3J0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgc25hcCBlbmRzXHJcbiAqIEBldmVudCBWaWV3cG9ydCNzbmFwLWVuZFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gYSBzbmFwLXpvb20gc3RhcnRzXHJcbiAqIEBldmVudCBWaWV3cG9ydCNzbmFwLXpvb20tc3RhcnRcclxuICogQHR5cGUge1ZpZXdwb3J0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgc25hcC16b29tIGVuZHNcclxuICogQGV2ZW50IFZpZXdwb3J0I3NuYXAtem9vbS1lbmRcclxuICogQHR5cGUge1ZpZXdwb3J0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgYm91bmNlIHN0YXJ0cyBpbiB0aGUgeCBkaXJlY3Rpb25cclxuICogQGV2ZW50IFZpZXdwb3J0I2JvdW5jZS14LXN0YXJ0XHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIGJvdW5jZSBlbmRzIGluIHRoZSB4IGRpcmVjdGlvblxyXG4gKiBAZXZlbnQgVmlld3BvcnQjYm91bmNlLXgtZW5kXHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIGJvdW5jZSBzdGFydHMgaW4gdGhlIHkgZGlyZWN0aW9uXHJcbiAqIEBldmVudCBWaWV3cG9ydCNib3VuY2UteS1zdGFydFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gYSBib3VuY2UgZW5kcyBpbiB0aGUgeSBkaXJlY3Rpb25cclxuICogQGV2ZW50IFZpZXdwb3J0I2JvdW5jZS15LWVuZFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gZm9yIGEgbW91c2Ugd2hlZWwgZXZlbnRcclxuICogQGV2ZW50IFZpZXdwb3J0I3doZWVsXHJcbiAqIEB0eXBlIHtvYmplY3R9XHJcbiAqIEBwcm9wZXJ0eSB7b2JqZWN0fSB3aGVlbFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2hlZWwuZHhcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdoZWVsLmR5XHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aGVlbC5kelxyXG4gKiBAcHJvcGVydHkge1ZpZXdwb3J0fSB2aWV3cG9ydFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgd2hlZWwtc2Nyb2xsIG9jY3Vyc1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjd2hlZWwtc2Nyb2xsXHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIG1vdXNlLWVkZ2Ugc3RhcnRzIHRvIHNjcm9sbFxyXG4gKiBAZXZlbnQgVmlld3BvcnQjbW91c2UtZWRnZS1zdGFydFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gdGhlIG1vdXNlLWVkZ2Ugc2Nyb2xsaW5nIGVuZHNcclxuICogQGV2ZW50IFZpZXdwb3J0I21vdXNlLWVkZ2UtZW5kXHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiB2aWV3cG9ydCBtb3ZlcyB0aHJvdWdoIFVJIGludGVyYWN0aW9uLCBkZWNlbGVyYXRpb24sIGVuc3VyZVZpc2libGUsIG9yIGZvbGxvd1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjbW92ZWRcclxuICogQHR5cGUge29iamVjdH1cclxuICogQHByb3BlcnR5IHtWaWV3cG9ydH0gdmlld3BvcnRcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgKGRyYWcsIHNuYXAsIHBpbmNoLCBmb2xsb3csIGJvdW5jZS14LCBib3VuY2UteSwgY2xhbXAteCwgY2xhbXAteSwgZGVjZWxlcmF0ZSwgbW91c2UtZWRnZXMsIHdoZWVsLCBlbnN1cmVWaXNpYmxlKVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIHZpZXdwb3J0IG1vdmVzIHRocm91Z2ggVUkgaW50ZXJhY3Rpb24sIGRlY2VsZXJhdGlvbiwgZW5zdXJlVmlzaWJsZSwgb3IgZm9sbG93XHJcbiAqIEBldmVudCBWaWV3cG9ydCN6b29tZWRcclxuICogQHR5cGUge29iamVjdH1cclxuICogQHByb3BlcnR5IHtWaWV3cG9ydH0gdmlld3BvcnRcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IHR5cGUgKGRyYWctem9vbSwgcGluY2gsIHdoZWVsLCBjbGFtcC16b29tLCBlbnN1cmVWaXNpYmxlKVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIHZpZXdwb3J0IHN0b3BzIG1vdmluZ1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjbW92ZWQtZW5kXHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiB2aWV3cG9ydCBzdG9wcyB6b29taW5nXHJcbiAqIEBldmVudCBWaWV3cG9ydCN6b29tZWQtZW5kXHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuKiBmaXJlcyBhdCB0aGUgZW5kIG9mIGFuIHVwZGF0ZSBmcmFtZVxyXG4qIEBldmVudCBWaWV3cG9ydCNmcmFtZS1lbmRcclxuKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiovXHJcblxyXG4vKiogQHR5cGVkZWYgSGl0QXJlYSB7KFBJWEkuUmVjdGFuZ2xlIHwgUElYSS5DaXJjbGUgfCBQSVhJLkVsbGlwc2UgfCBQSVhJLlBvbHlnb24gfCBQSVhJLlJvdW5kZWRSZWN0YW5nbGUpfSAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IE91dE9mQm91bmRzXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbGVmdFxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHJpZ2h0XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdG9wXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYm90dG9tXHJcbiAqIEBwcm9wZXJ0eSB7UElYSS5Qb2ludH0gY29ybmVyUG9pbnRcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTGFzdFZpZXdwb3J0XHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5XHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzY2FsZVhcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNjYWxlWVxyXG4gKi9cblxuZXhwb3J0IHsgUGx1Z2luLCBWaWV3cG9ydCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlld3BvcnQuZXMuanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9