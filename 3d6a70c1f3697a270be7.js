(global.webpackChunkvht11=global.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\@pixi\\text\\lib\\text.es"],{"./node_modules/@pixi/text/lib/text.es.js":(t,e,i)=>{"use strict";i.r(e),i.d(e,{TEXT_GRADIENT:()=>n,Text:()=>S,TextMetrics:()=>y,TextStyle:()=>f});var n,r=i("./node_modules/@pixi/sprite/lib/sprite.es.js"),o=i("./node_modules/@pixi/core/lib/core.es.js"),s=i("./node_modules/@pixi/settings/lib/settings.es.js"),a=i("./node_modules/@pixi/math/lib/math.es.js"),h=i("./node_modules/@pixi/utils/lib/utils.es.js"),l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(n||(n={}));var c={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:n.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},u=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],f=function(){function t(t){this.styleID=0,this.reset(),g(this,t,t)}return t.prototype.clone=function(){var e={};return g(e,this,c),new t(e)},t.prototype.reset=function(){g(this,c,c)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=p(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=p(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=p(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var n=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&u.indexOf(n)<0&&(n='"'+n+'"'),e[i]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function d(t){return"number"==typeof t?(0,h.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function p(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=d(t[e]);return t}return d(t)}function g(t,e,i){for(var n in i)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var y=function(){function t(t,e,i,n,r,o,s,a,h){this.text=t,this.style=e,this.width=i,this.height=n,this.lines=r,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return t.measureText=function(e,i,n,r){void 0===r&&(r=t._canvas),n=null==n?i.wordWrap:n;var o=i.toFontString(),s=t.measureFont(o);0===s.fontSize&&(s.fontSize=i.fontSize,s.ascent=i.fontSize);var a=r.getContext("2d");a.font=o;for(var h=(n?t.wordWrap(e,i,r):e).split(/(?:\r\n|\r|\n)/),l=new Array(h.length),c=0,u=0;u<h.length;u++){var f=a.measureText(h[u]).width+(h[u].length-1)*i.letterSpacing;l[u]=f,c=Math.max(c,f)}var d=c+i.strokeThickness;i.dropShadow&&(d+=i.dropShadowDistance);var p=i.lineHeight||s.fontSize+i.strokeThickness,g=Math.max(p,s.fontSize+i.strokeThickness)+(h.length-1)*(p+i.leading);return i.dropShadow&&(g+=i.dropShadowDistance),new t(e,i,d,g,h,l,p+i.leading,c,s)},t.wordWrap=function(e,i,n){void 0===n&&(n=t._canvas);for(var r=n.getContext("2d"),o=0,s="",a="",h=Object.create(null),l=i.letterSpacing,c=i.whiteSpace,u=t.collapseSpaces(c),f=t.collapseNewlines(c),d=!u,p=i.wordWrapWidth+l,g=t.tokenize(e),y=0;y<g.length;y++){var _=g[y];if(t.isNewline(_)){if(!f){a+=t.addLine(s),d=!u,s="",o=0;continue}_=" "}if(u){var b=t.isBreakingSpace(_),S=t.isBreakingSpace(s[s.length-1]);if(b&&S)continue}var m=t.getFromCache(_,l,h,r);if(m>p)if(""!==s&&(a+=t.addLine(s),s="",o=0),t.canBreakWords(_,i.breakWords))for(var w=t.wordWrapSplit(_),x=0;x<w.length;x++){for(var v=w[x],k=1;w[x+k];){var I=w[x+k],T=v[v.length-1];if(t.canBreakChars(T,I,_,x,i.breakWords))break;v+=I,k++}x+=v.length-1;var O=t.getFromCache(v,l,h,r);O+o>p&&(a+=t.addLine(s),d=!1,s="",o=0),s+=v,o+=O}else{s.length>0&&(a+=t.addLine(s),s="",o=0);var A=y===g.length-1;a+=t.addLine(_,!A),d=!1,s="",o=0}else m+o>p&&(d=!1,a+=t.addLine(s),s="",o=0),(s.length>0||!t.isBreakingSpace(_)||d)&&(s+=_,o+=m)}return a+=t.addLine(s,!1)},t.addLine=function(e,i){return void 0===i&&(i=!0),e=t.trimRight(e),e=i?e+"\n":e},t.getFromCache=function(t,e,i,n){var r=i[t];if("number"!=typeof r){var o=t.length*e;r=n.measureText(t).width+o,i[t]=r}return r},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var i=e.length-1;i>=0;i--){var n=e[i];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var i=[],n="";if("string"!=typeof e)return i;for(var r=0;r<e.length;r++){var o=e[r];t.isBreakingSpace(o)||t.isNewline(o)?(""!==n&&(i.push(n),n=""),i.push(o)):n+=o}return""!==n&&i.push(n),i},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,i,n,r){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var i={ascent:0,descent:0,fontSize:0},n=t._canvas,r=t._context;r.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(r.measureText(o).width),a=Math.ceil(r.measureText(t.BASELINE_SYMBOL).width),h=2*a;a=a*t.BASELINE_MULTIPLIER|0,n.width=s,n.height=h,r.fillStyle="#f00",r.fillRect(0,0,s,h),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o,0,a);var l=r.getImageData(0,0,s,h).data,c=l.length,u=4*s,f=0,d=0,p=!1;for(f=0;f<a;++f){for(var g=0;g<u;g+=4)if(255!==l[d+g]){p=!0;break}if(p)break;d+=u}for(i.ascent=a-f,d=c-u,p=!1,f=h;f>a;--f){for(g=0;g<u;g+=4)if(255!==l[d+g]){p=!0;break}if(p)break;d-=u}return i.descent=f-a,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),_=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();_.width=_.height=10,y._canvas=_,y._context=_.getContext("2d"),y._fonts={},y.METRICS_STRING="|ÉqÅ",y.BASELINE_SYMBOL="M",y.BASELINE_MULTIPLIER=1.4,y._newlines=[10,13],y._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var b={texture:!0,children:!1,baseTexture:!0},S=function(t){function e(e,i,n){var r=this,h=!1;n||(n=document.createElement("canvas"),h=!0),n.width=3,n.height=3;var l=o.Texture.from(n);return l.orig=new a.Rectangle,l.trim=new a.Rectangle,(r=t.call(this,l)||this)._ownCanvas=h,r.canvas=n,r.context=r.canvas.getContext("2d"),r._resolution=s.settings.RESOLUTION,r._autoResolution=!0,r._text=null,r._style=null,r._styleListener=null,r._font="",r.text=e,r.style=i,r.localStyleID=-1,r}return function(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,n,r=this.context,o=y.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,l=o.lines,c=o.lineHeight,u=o.lineWidths,f=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,g=0;g<p;++g){var _=e.dropShadow&&0===g,b=_?Math.ceil(Math.max(1,a)+2*e.padding):0,S=b*this._resolution;if(_){r.fillStyle="black",r.strokeStyle="black";var m=e.dropShadowColor,w=(0,h.hex2rgb)("number"==typeof m?m:(0,h.string2hex)(m));r.shadowColor="rgba("+255*w[0]+","+255*w[1]+","+255*w[2]+","+e.dropShadowAlpha+")",r.shadowBlur=e.dropShadowBlur,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+S}else r.fillStyle=this._generateFillStyle(e,l,o),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;for(var x=0;x<l.length;x++)i=e.strokeThickness/2,n=e.strokeThickness/2+x*c+d.ascent,"right"===e.align?i+=f-u[x]:"center"===e.align&&(i+=(f-u[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(l[x],i+e.padding,n+e.padding-b,!0),e.fill&&this.drawLetterSpacing(l[x],i+e.padding,n+e.padding-b)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,n){void 0===n&&(n=!1);var r=this._style.letterSpacing;if(0!==r)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,l=0;l<s.length;++l){var c=s[l];n?this.context.strokeText(c,o,i):this.context.fillText(c,o,i),o+=a-(h=this.context.measureText(t.substring(l+1)).width)+r,a=h}else n?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,h.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,n=this._style,r=n.trim?0:n.padding,o=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-r,i.trim.y=-r,i.orig.width=i._frame.width-2*r,i.orig.height=i._frame.height-2*r,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,i){var r,o=t.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,h=Math.ceil(this.canvas.width/this._resolution)-s-2*a,l=Math.ceil(this.canvas.height/this._resolution)-s-2*a,c=o.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var f=c.length+1,d=1;d<f;++d)u.push(d/f);if(c.unshift(o[0]),u.unshift(0),c.push(o[o.length-1]),u.push(1),t.fillGradientType===n.LINEAR_VERTICAL){r=this.context.createLinearGradient(h/2,a,h/2,l+a);var p=0,g=(i.fontProperties.fontSize+t.strokeThickness)/l;for(d=0;d<e.length;d++)for(var y=i.lineHeight*d,_=0;_<c.length;_++){var b=y/l+("number"==typeof u[_]?u[_]:_/c.length)*g,S=Math.max(p,b);S=Math.min(S,1),r.addColorStop(S,c[_]),p=S}}else{r=this.context.createLinearGradient(a,l/2,h+a,l/2);var m=c.length+1,w=1;for(d=0;d<c.length;d++){var x=void 0;x="number"==typeof u[d]?u[d]:w/m,r.addColorStop(x,c[d]),w++}}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},b,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,h.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,h.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof f?t:new f(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(r.Sprite)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi90ZXh0LmVzLmpzIl0sIm5hbWVzIjpbIlRFWFRfR1JBRElFTlQiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsImhhc093blByb3BlcnR5IiwiZGVmYXVsdFN0eWxlIiwiYWxpZ24iLCJicmVha1dvcmRzIiwiZHJvcFNoYWRvdyIsImRyb3BTaGFkb3dBbHBoYSIsImRyb3BTaGFkb3dBbmdsZSIsIk1hdGgiLCJQSSIsImRyb3BTaGFkb3dCbHVyIiwiZHJvcFNoYWRvd0NvbG9yIiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwiZmlsbCIsImZpbGxHcmFkaWVudFR5cGUiLCJMSU5FQVJfVkVSVElDQUwiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwibGluZUpvaW4iLCJtaXRlckxpbWl0IiwicGFkZGluZyIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInRleHRCYXNlbGluZSIsInRyaW0iLCJ3aGl0ZVNwYWNlIiwid29yZFdyYXAiLCJ3b3JkV3JhcFdpZHRoIiwibGVhZGluZyIsImdlbmVyaWNGb250RmFtaWxpZXMiLCJUZXh0U3R5bGUiLCJzdHlsZSIsInRoaXMiLCJzdHlsZUlEIiwicmVzZXQiLCJkZWVwQ29weVByb3BlcnRpZXMiLCJwcm90b3R5cGUiLCJjbG9uZSIsImNsb25lZFByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsIl9hbGlnbiIsInNldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJnZXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiaXNBcnJheSIsImxlbmd0aCIsImkiLCJhcmVBcnJheXNFcXVhbCIsIl9mb250RmFtaWx5IiwiX2ZvbnRTaXplIiwiX2ZvbnRTdHlsZSIsIl9mb250VmFyaWFudCIsIl9mb250V2VpZ2h0IiwiX2xldHRlclNwYWNpbmciLCJfbGluZUhlaWdodCIsIl9sZWFkaW5nIiwiX2xpbmVKb2luIiwiX21pdGVyTGltaXQiLCJfcGFkZGluZyIsIl9zdHJva2UiLCJfc3Ryb2tlVGhpY2tuZXNzIiwiX3RleHRCYXNlbGluZSIsIl90cmltIiwiX3doaXRlU3BhY2UiLCJfd29yZFdyYXAiLCJfd29yZFdyYXBXaWR0aCIsInRvRm9udFN0cmluZyIsImZvbnRTaXplU3RyaW5nIiwiZm9udEZhbWlsaWVzIiwic3BsaXQiLCJ0ZXN0IiwiaW5kZXhPZiIsImpvaW4iLCJnZXRTaW5nbGVDb2xvciIsImNvbG9yIiwiaGV4MnN0cmluZyIsInJlcGxhY2UiLCJ0YXJnZXQiLCJzb3VyY2UiLCJwcm9wZXJ0eU9iaiIsInByb3AiLCJzbGljZSIsIlRleHRNZXRyaWNzIiwidGV4dCIsIndpZHRoIiwiaGVpZ2h0IiwibGluZXMiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsImNhbnZhcyIsIl9jYW52YXMiLCJmb250IiwibWVhc3VyZUZvbnQiLCJhc2NlbnQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImxpbmVXaWR0aCIsIm1heCIsImxpbmUiLCJjYWNoZSIsImNyZWF0ZSIsImNvbGxhcHNlU3BhY2VzIiwiY29sbGFwc2VOZXdsaW5lcyIsImNhblByZXBlbmRTcGFjZXMiLCJ0b2tlbnMiLCJ0b2tlbml6ZSIsInRva2VuIiwiaXNOZXdsaW5lIiwiYWRkTGluZSIsImN1cnJJc0JyZWFraW5nU3BhY2UiLCJpc0JyZWFraW5nU3BhY2UiLCJsYXN0SXNCcmVha2luZ1NwYWNlIiwidG9rZW5XaWR0aCIsImdldEZyb21DYWNoZSIsImNhbkJyZWFrV29yZHMiLCJjaGFyYWN0ZXJzIiwid29yZFdyYXBTcGxpdCIsImoiLCJjaGFyIiwiayIsIm5leHRDaGFyIiwibGFzdENoYXIiLCJjYW5CcmVha0NoYXJzIiwiY2hhcmFjdGVyV2lkdGgiLCJpc0xhc3RUb2tlbiIsIm5ld0xpbmUiLCJ0cmltUmlnaHQiLCJrZXkiLCJzcGFjaW5nIiwiX25ld2xpbmVzIiwiY2hhckNvZGVBdCIsIl9icmVha2luZ1NwYWNlcyIsInB1c2giLCJfdG9rZW4iLCJfY2hhciIsIl9uZXh0Q2hhciIsIl9pbmRleCIsIl9mb250cyIsInByb3BlcnRpZXMiLCJkZXNjZW50IiwiX2NvbnRleHQiLCJtZXRyaWNzU3RyaW5nIiwiTUVUUklDU19TVFJJTkciLCJCQVNFTElORV9TWU1CT0wiLCJjZWlsIiwiYmFzZWxpbmUiLCJCQVNFTElORV9NVUxUSVBMSUVSIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJmaWxsVGV4dCIsImltYWdlZGF0YSIsImdldEltYWdlRGF0YSIsImRhdGEiLCJwaXhlbHMiLCJpZHgiLCJzdG9wIiwiY2xlYXJNZXRyaWNzIiwiYyIsIk9mZnNjcmVlbkNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImV4IiwiZGVmYXVsdERlc3Ryb3lPcHRpb25zIiwidGV4dHVyZSIsImNoaWxkcmVuIiwiYmFzZVRleHR1cmUiLCJUZXh0IiwiX3N1cGVyIiwiX3RoaXMiLCJvd25DYW52YXMiLCJUZXh0dXJlIiwib3JpZyIsIlJlY3RhbmdsZSIsImNhbGwiLCJfb3duQ2FudmFzIiwiX3Jlc29sdXRpb24iLCJzZXR0aW5ncyIsIl9hdXRvUmVzb2x1dGlvbiIsIl90ZXh0IiwiX3N0eWxlIiwiX3N0eWxlTGlzdGVuZXIiLCJfZm9udCIsImxvY2FsU3R5bGVJRCIsIl9fIiwiY29uc3RydWN0b3IiLCJfX2V4dGVuZHMiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwiZGlydHkiLCJsaW5lUG9zaXRpb25YIiwibGluZVBvc2l0aW9uWSIsIm1lYXN1cmVkIiwic2NhbGUiLCJjbGVhclJlY3QiLCJwYXNzZXNDb3VudCIsImlzU2hhZG93UGFzcyIsImRzT2Zmc2V0VGV4dCIsImRzT2Zmc2V0U2hhZG93Iiwic3Ryb2tlU3R5bGUiLCJyZ2IiLCJoZXgycmdiIiwic3RyaW5nMmhleCIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJjb3MiLCJzaGFkb3dPZmZzZXRZIiwic2luIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiaV8xIiwiZHJhd0xldHRlclNwYWNpbmciLCJ1cGRhdGVUZXh0dXJlIiwieCIsInkiLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwiZnJvbSIsInByZXZpb3VzV2lkdGgiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50Q2hhciIsInN0cm9rZVRleHQiLCJzdWJzdHJpbmciLCJ0cmltbWVkIiwidHJpbUNhbnZhcyIsInB1dEltYWdlRGF0YSIsIl90ZXh0dXJlIiwiX2ZyYW1lIiwiX29uVGV4dHVyZVVwZGF0ZSIsInNldFJlYWxTaXplIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJfcmVuZGVyIiwicmVuZGVyZXIiLCJyZXNvbHV0aW9uIiwiZ2V0TG9jYWxCb3VuZHMiLCJyZWN0IiwiX2NhbGN1bGF0ZUJvdW5kcyIsImNhbGN1bGF0ZVZlcnRpY2VzIiwiX2JvdW5kcyIsImFkZFF1YWQiLCJ2ZXJ0ZXhEYXRhIiwibWV0cmljcyIsImdyYWRpZW50IiwiZHJvcFNoYWRvd0NvcnJlY3Rpb24iLCJsZW5ndGhQbHVzMSIsInVuc2hpZnQiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImxhc3RJdGVyYXRpb25TdG9wIiwiZ3JhZFN0b3BMaW5lSGVpZ2h0IiwidGhpc0xpbmVUb3AiLCJnbG9iYWxTdG9wIiwiY2xhbXBlZFN0b3AiLCJtaW4iLCJhZGRDb2xvclN0b3AiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwiZGVzdHJveSIsIm9wdGlvbnMiLCJhc3NpZ24iLCJhYnMiLCJ2YWx1ZSIsInMiLCJzaWduIiwiX3dpZHRoIiwiX2hlaWdodCIsIlN0cmluZyIsIlNwcml0ZSJdLCJtYXBwaW5ncyI6InlTQXFESUEsRSw4UEF4QkFDLEVBQWdCLFNBQVNDLEVBQUdDLEdBSTVCLE9BSEFGLEVBQWdCRyxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBU0EsRUFBRU0sZUFBZUQsS0FBTU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDeEROLEVBQUdDLEtBcUI1QixTQUFXSCxHQUNQQSxFQUFjQSxFQUErQixnQkFBSSxHQUFLLGtCQUN0REEsRUFBY0EsRUFBaUMsa0JBQUksR0FBSyxvQkFGNUQsQ0FHR0EsSUFBa0JBLEVBQWdCLEtBR3JDLElBQUlVLEVBQWUsQ0FDZkMsTUFBTyxPQUNQQyxZQUFZLEVBQ1pDLFlBQVksRUFDWkMsZ0JBQWlCLEVBQ2pCQyxnQkFBaUJDLEtBQUtDLEdBQUssRUFDM0JDLGVBQWdCLEVBQ2hCQyxnQkFBaUIsUUFDakJDLG1CQUFvQixFQUNwQkMsS0FBTSxRQUNOQyxpQkFBa0J0QixFQUFjdUIsZ0JBQ2hDQyxrQkFBbUIsR0FDbkJDLFdBQVksUUFDWkMsU0FBVSxHQUNWQyxVQUFXLFNBQ1hDLFlBQWEsU0FDYkMsV0FBWSxTQUNaQyxjQUFlLEVBQ2ZDLFdBQVksRUFDWkMsU0FBVSxRQUNWQyxXQUFZLEdBQ1pDLFFBQVMsRUFDVEMsT0FBUSxRQUNSQyxnQkFBaUIsRUFDakJDLGFBQWMsYUFDZEMsTUFBTSxFQUNOQyxXQUFZLE1BQ1pDLFVBQVUsRUFDVkMsY0FBZSxJQUNmQyxRQUFTLEdBRVRD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VXdELEdBQ1hBLEVBQU93TCxPQUFPeEwsUUFBc0MsR0FBS0EsR0FDckRsRSxLQUFLbUssUUFBVWpHLElBR25CbEUsS0FBS21LLE1BQVFqRyxFQUNibEUsS0FBSzZLLE9BQVEsSUFFakJsSyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0RCxPQUFPaUQsZUFBZWdKLEVBQUtuSixVQUFXLGFBQWMsQ0FPaERJLElBQUssV0FDRCxPQUFPUixLQUFLZ0ssYUFFaEJ0SixJQUFLLFNBQVUyTyxHQUNYclAsS0FBS2tLLGlCQUFrQixFQUNuQmxLLEtBQUtnSyxjQUFnQnFGLElBR3pCclAsS0FBS2dLLFlBQWNxRixFQUNuQnJQLEtBQUs2SyxPQUFRLElBRWpCbEssWUFBWSxFQUNaQyxjQUFjLElBRVgySSxFQWxoQmMsQ0FtaEJ2QixFQUFBb0ciLCJmaWxlIjoiM2Q2YTcwYzFmMzY5N2EyNzBiZTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBwaXhpL3RleHQgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvdGV4dCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgaGV4MnN0cmluZywgaGV4MnJnYiwgc3RyaW5nMmhleCwgdHJpbUNhbnZhcywgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfSB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgZGVmaW5lIHRoZSB0eXBlIG9mIGdyYWRpZW50IG9uIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBURVhUX0dSQURJRU5UXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfVkVSVElDQUwgVmVydGljYWwgZ3JhZGllbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfSE9SSVpPTlRBTCBMaW5lYXIgZ3JhZGllbnRcbiAqL1xudmFyIFRFWFRfR1JBRElFTlQ7XG4oZnVuY3Rpb24gKFRFWFRfR1JBRElFTlQpIHtcbiAgICBURVhUX0dSQURJRU5UW1RFWFRfR1JBRElFTlRbXCJMSU5FQVJfVkVSVElDQUxcIl0gPSAwXSA9IFwiTElORUFSX1ZFUlRJQ0FMXCI7XG4gICAgVEVYVF9HUkFESUVOVFtURVhUX0dSQURJRU5UW1wiTElORUFSX0hPUklaT05UQUxcIl0gPSAxXSA9IFwiTElORUFSX0hPUklaT05UQUxcIjtcbn0pKFRFWFRfR1JBRElFTlQgfHwgKFRFWFRfR1JBRElFTlQgPSB7fSkpO1xuXG4vLyBkaXNhYmxpbmcgZXNsaW50IGZvciBub3csIGdvaW5nIHRvIHJld3JpdGUgdGhpcyBpbiB2NVxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxcbiAgICBmaWxsR3JhZGllbnRTdG9wczogW10sXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICBmb250U2l6ZTogMjYsXG4gICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICBmb250VmFyaWFudDogJ25vcm1hbCcsXG4gICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICB0ZXh0QmFzZWxpbmU6ICdhbHBoYWJldGljJyxcbiAgICB0cmltOiBmYWxzZSxcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogZmFsc2UsXG4gICAgd29yZFdyYXBXaWR0aDogMTAwLFxuICAgIGxlYWRpbmc6IDAsXG59O1xudmFyIGdlbmVyaWNGb250RmFtaWxpZXMgPSBbXG4gICAgJ3NlcmlmJyxcbiAgICAnc2Fucy1zZXJpZicsXG4gICAgJ21vbm9zcGFjZScsXG4gICAgJ2N1cnNpdmUnLFxuICAgICdmYW50YXN5JyxcbiAgICAnc3lzdGVtLXVpJyBdO1xuLyoqXG4gKiBBIFRleHRTdHlsZSBPYmplY3QgY29udGFpbnMgaW5mb3JtYXRpb24gdG8gZGVjb3JhdGUgYSBUZXh0IG9iamVjdHMuXG4gKlxuICogQW4gaW5zdGFuY2UgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIFRleHQgb2JqZWN0czsgdGhlbiBjaGFuZ2luZyB0aGUgc3R5bGUgd2lsbCB1cGRhdGUgYWxsIHRleHQgb2JqZWN0cyB1c2luZyBpdC5cbiAqXG4gKiBBIHRvb2wgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgYSB0ZXh0IHN0eWxlIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHRTdHlsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSxcbiAgICAgKiAgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5icmVha1dvcmRzPWZhbHNlXSAtIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0XG4gICAgICogIG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuZHJvcFNoYWRvdz1mYWxzZV0gLSBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbHBoYT0xXSAtIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QW5nbGU9TWF0aC5QSS82XSAtIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0JsdXI9MF0gLSBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Q29sb3I9J2JsYWNrJ10gLSBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlPTVdIC0gU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59IFtzdHlsZS5maWxsPSdibGFjayddIC0gQSBjYW52YXNcbiAgICAgKiAgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnRcbiAgICAgKiAgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZpbGxHcmFkaWVudFR5cGU9UElYSS5URVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTF0gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnNcbiAgICAgKiAgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbc3R5bGUuZmlsbEdyYWRpZW50U3RvcHNdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXRcbiAgICAgKiB0aGUgc3RvcCBwb2ludHMgKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbc3R5bGUuZm9udEZhbWlseT0nQXJpYWwnXSAtIFRoZSBmb250IGZhbWlseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW3N0eWxlLmZvbnRTaXplPTI2XSAtIFRoZSBmb250IHNpemUgKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsXG4gICAgICogIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFN0eWxlPSdub3JtYWwnXSAtIFRoZSBmb250IHN0eWxlICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFZhcmlhbnQ9J25vcm1hbCddIC0gVGhlIGZvbnQgdmFyaWFudCAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFdlaWdodD0nbm9ybWFsJ10gLSBUaGUgZm9udCB3ZWlnaHQgKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLFxuICAgICAqICAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCAnODAwJyBvciAnOTAwJylcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmxlYWRpbmc9MF0gLSBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGV0dGVyU3BhY2luZz0wXSAtIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGluZUhlaWdodF0gLSBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5saW5lSm9pbj0nbWl0ZXInXSAtIFRoZSBsaW5lSm9pbiBwcm9wZXJ0eSBzZXRzIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCBpdCBjYW4gcmVzb2x2ZVxuICAgICAqICAgICAgc3Bpa2VkIHRleHQgaXNzdWVzLiBQb3NzaWJsZSB2YWx1ZXMgXCJtaXRlclwiIChjcmVhdGVzIGEgc2hhcnAgY29ybmVyKSwgXCJyb3VuZFwiIChjcmVhdGVzIGEgcm91bmQgY29ybmVyKSBvciBcImJldmVsXCJcbiAgICAgKiAgICAgIChjcmVhdGVzIGEgc3F1YXJlZCBjb3JuZXIpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubWl0ZXJMaW1pdD0xMF0gLSBUaGUgbWl0ZXIgbGltaXQgdG8gdXNlIHdoZW4gdXNpbmcgdGhlICdtaXRlcicgbGluZUpvaW4gbW9kZS4gVGhpcyBjYW4gcmVkdWNlXG4gICAgICogICAgICBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5wYWRkaW5nPTBdIC0gT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbVxuICAgICAqICAgICBoYXBwZW5pbmcgYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gW3N0eWxlLnN0cm9rZT0nYmxhY2snXSAtIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAgICAgKiAgZS5nICdibHVlJywgJyNGQ0ZGMDAnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5zdHJva2VUaGlja25lc3M9MF0gLSBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAqICBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS50cmltPWZhbHNlXSAtIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUudGV4dEJhc2VsaW5lPSdhbHBoYWJldGljJ10gLSBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLndoaXRlU3BhY2U9J3ByZSddIC0gRGV0ZXJtaW5lcyB3aGV0aGVyIG5ld2xpbmVzICYgc3BhY2VzIGFyZSBjb2xsYXBzZWQgb3IgcHJlc2VydmVkIFwibm9ybWFsXCJcbiAgICAgKiAgICAgIChjb2xsYXBzZSwgY29sbGFwc2UpLCBcInByZVwiIChwcmVzZXJ2ZSwgcHJlc2VydmUpIHwgXCJwcmUtbGluZVwiIChwcmVzZXJ2ZSwgY29sbGFwc2UpLiBJdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndvcmRXcmFwPWZhbHNlXSAtIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLndvcmRXcmFwV2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0U3R5bGUoc3R5bGUpIHtcbiAgICAgICAgdGhpcy5zdHlsZUlEID0gMDtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgc3R5bGUsIHN0eWxlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHRTdHlsZX0gTmV3IGNsb25lZCBUZXh0U3R5bGUgb2JqZWN0XG4gICAgICovXG4gICAgVGV4dFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsb25lZFByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKGNsb25lZFByb3BlcnRpZXMsIHRoaXMsIGRlZmF1bHRTdHlsZSk7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dFN0eWxlKGNsb25lZFByb3BlcnRpZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCBwcm9wZXJ0aWVzIHRvIHRoZSBkZWZhdWx0cyBzcGVjaWZpZWQgaW4gVGV4dFN0eWxlLnByb3RvdHlwZS5fZGVmYXVsdFxuICAgICAqL1xuICAgIFRleHRTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBkZWZhdWx0U3R5bGUsIGRlZmF1bHRTdHlsZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJhbGlnblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLCBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoYWxpZ24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiAhPT0gYWxpZ24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiYnJlYWtXb3Jkc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3JkcztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoYnJlYWtXb3Jkcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JyZWFrV29yZHMgIT09IGJyZWFrV29yZHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9icmVha1dvcmRzID0gYnJlYWtXb3JkcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvdyAhPT0gZHJvcFNoYWRvdykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3cgPSBkcm9wU2hhZG93O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0FscGhhXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0FscGhhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FscGhhICE9PSBkcm9wU2hhZG93QWxwaGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93QW5nbGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZHJvcFNoYWRvd0FuZ2xlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FuZ2xlICE9PSBkcm9wU2hhZG93QW5nbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dFN0eWxlLnByb3RvdHlwZSwgXCJkcm9wU2hhZG93Qmx1clwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dCbHVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImRyb3BTaGFkb3dDb2xvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkcm9wU2hhZG93Q29sb3IpIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGRyb3BTaGFkb3dDb2xvcik7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dDb2xvciA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZHJvcFNoYWRvd0Rpc3RhbmNlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRyb3BTaGFkb3dEaXN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlID0gZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZmlsbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgZS5nICdyZWQnLCAnIzAwRkYwMCcuXG4gICAgICAgICAqIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudCBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsbCkge1xuICAgICAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICAvLyBUT0RPOiBOb3Qgc3VyZSBpZiBnZXRDb2xvciB3b3JrcyBwcm9wZXJseSB3aXRoIENhbnZhc0dyYWRpZW50IGFuZC9vciBDYW52YXNQYXR0ZXJuLCBjYW4ndCBwYXNzIGluXG4gICAgICAgICAgICAvLyAgICAgICB3aXRob3V0IGNhc3RpbmcgaGVyZS5cbiAgICAgICAgICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGwgIT09IG91dHB1dENvbG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbCA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZmlsbEdyYWRpZW50VHlwZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LlxuICAgICAgICAgKiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsbEdyYWRpZW50VHlwZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgIT09IGZpbGxHcmFkaWVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRUeXBlID0gZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImZpbGxHcmFkaWVudFN0b3BzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICAgICAgICAgKiAobnVtYmVycyBiZXR3ZWVuIDAgYW5kIDEpIGZvciB0aGUgY29sb3IsIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHQgYmVoYXZpb3VyIG9mIGV2ZW5seSBzcGFjaW5nIHRoZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGxHcmFkaWVudFN0b3BzKSB7XG4gICAgICAgICAgICBpZiAoIWFyZUFycmF5c0VxdWFsKHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzLCBmaWxsR3JhZGllbnRTdG9wcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRTdG9wcyA9IGZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udEZhbWlseVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCBmYW1pbHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udEZhbWlseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udFNpemVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgc2l6ZVxuICAgICAgICAgKiAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZywgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcnxzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFNpemUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gZm9udFNpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udFN0eWxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHN0eWxlXG4gICAgICAgICAqICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGZvbnRTdHlsZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTdHlsZSAhPT0gZm9udFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udFZhcmlhbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgdmFyaWFudFxuICAgICAgICAgKiAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250VmFyaWFudDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm9udFZhcmlhbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250VmFyaWFudCAhPT0gZm9udFZhcmlhbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwiZm9udFdlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZm9udCB3ZWlnaHRcbiAgICAgICAgICogKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLCAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250V2VpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmb250V2VpZ2h0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udFdlaWdodCAhPT0gZm9udFdlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBmb250V2VpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGV0dGVyU3BhY2luZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobGV0dGVyU3BhY2luZykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IGxldHRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcImxpbmVIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmUgaGVpZ2h0LCBhIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgYSBsZXR0ZXIgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsaW5lSGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGVhZGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BhY2UgYmV0d2VlbiBsaW5lc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsZWFkaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGVhZGluZyAhPT0gbGVhZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwibGluZUpvaW5cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlIHNwaWtlZCB0ZXh0IGlzc3Vlcy5cbiAgICAgICAgICogRGVmYXVsdCBpcyAnbWl0ZXInIChjcmVhdGVzIGEgc2hhcnAgY29ybmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGluZUpvaW47XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGxpbmVKb2luKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGluZUpvaW4gIT09IGxpbmVKb2luKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZUpvaW4gPSBsaW5lSm9pbjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcIm1pdGVyTGltaXRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGVcbiAgICAgICAgICogVGhpcyBjYW4gcmVkdWNlIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobWl0ZXJMaW1pdCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInBhZGRpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogT2NjYXNpb25hbGx5IHNvbWUgZm9udHMgYXJlIGNyb3BwZWQuIEFkZGluZyBzb21lIHBhZGRpbmcgd2lsbCBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmdcbiAgICAgICAgICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwYWRkaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGFkZGluZyAhPT0gcGFkZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhZGRpbmcgPSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwic3Ryb2tlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAgICAgICAgICogZS5nICdibHVlJywgJyNGQ0ZGMDAnXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdHJva2U7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0cm9rZSkge1xuICAgICAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAgICAgLy8gICAgICAgdGhlIHNldHRlciBjb252ZXJ0cyB0byBzdHJpbmcuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihzdHJva2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cm9rZSAhPT0gb3V0cHV0Q29sb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInN0cm9rZVRoaWNrbmVzc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAgKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHJva2VUaGlja25lc3MgIT09IHN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0cm9rZVRoaWNrbmVzcyA9IHN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInRleHRCYXNlbGluZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEJhc2VsaW5lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0QmFzZWxpbmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0QmFzZWxpbmUgIT09IHRleHRCYXNlbGluZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RleHRCYXNlbGluZSA9IHRleHRCYXNlbGluZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcInRyaW1cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmltO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0cmltKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyaW0gPSB0cmltO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid2hpdGVTcGFjZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAgICAgICAgICogRGVmYXVsdCBpcyAncHJlJyAocHJlc2VydmUsIHByZXNlcnZlKS5cbiAgICAgICAgICpcbiAgICAgICAgICogIHZhbHVlICAgICAgIHwgTmV3IGxpbmVzICAgICB8ICAgU3BhY2VzXG4gICAgICAgICAqICAtLS0gICAgICAgICB8IC0tLSAgICAgICAgICAgfCAgIC0tLVxuICAgICAgICAgKiAnbm9ybWFsJyAgICAgfCBDb2xsYXBzZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAgICAgKiAncHJlJyAgICAgICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBQcmVzZXJ2ZVxuICAgICAgICAgKiAncHJlLWxpbmUnICAgfCBQcmVzZXJ2ZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aGl0ZVNwYWNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3doaXRlU3BhY2UgPSB3aGl0ZVNwYWNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHRTdHlsZS5wcm90b3R5cGUsIFwid29yZFdyYXBcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHdvcmRXcmFwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29yZFdyYXAgPSB3b3JkV3JhcDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0U3R5bGUucHJvdG90eXBlLCBcIndvcmRXcmFwV2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZm9udCBzdHlsZSBzdHJpbmcgdG8gdXNlIGZvciBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3R5bGUgc3RyaW5nLCBmb3IgcGFzc2luZyB0byBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWBcbiAgICAgKi9cbiAgICBUZXh0U3R5bGUucHJvdG90eXBlLnRvRm9udFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYnVpbGQgY2FudmFzIGFwaSBmb250IHNldHRpbmcgZnJvbSBpbmRpdmlkdWFsIGNvbXBvbmVudHMuIENvbnZlcnQgYSBudW1lcmljIHRoaXMuZm9udFNpemUgdG8gcHhcbiAgICAgICAgdmFyIGZvbnRTaXplU3RyaW5nID0gKHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJykgPyB0aGlzLmZvbnRTaXplICsgXCJweFwiIDogdGhpcy5mb250U2l6ZTtcbiAgICAgICAgLy8gQ2xlYW4tdXAgZm9udEZhbWlseSBwcm9wZXJ0eSBieSBxdW90aW5nIGVhY2ggZm9udCBuYW1lXG4gICAgICAgIC8vIHRoaXMgd2lsbCBzdXBwb3J0IGZvbnQgbmFtZXMgd2l0aCBzcGFjZXNcbiAgICAgICAgdmFyIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuZm9udEZhbWlseSkpIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseS5zcGxpdCgnLCcpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBmb250RmFtaWxpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIC8vIFRyaW0gYW55IGV4dHJhIHdoaXRlLXNwYWNlXG4gICAgICAgICAgICB2YXIgZm9udEZhbWlseSA9IGZvbnRGYW1pbGllc1tpXS50cmltKCk7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBmb250IGFscmVhZHkgY29udGFpbnMgc3RyaW5nc1xuICAgICAgICAgICAgaWYgKCEoLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvKS50ZXN0KGZvbnRGYW1pbHkpICYmIGdlbmVyaWNGb250RmFtaWxpZXMuaW5kZXhPZihmb250RmFtaWx5KSA8IDApIHtcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5ID0gXCJcXFwiXCIgKyBmb250RmFtaWx5ICsgXCJcXFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RmFtaWxpZXNbaV0gPSBmb250RmFtaWx5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZvbnRTdHlsZSArIFwiIFwiICsgdGhpcy5mb250VmFyaWFudCArIFwiIFwiICsgdGhpcy5mb250V2VpZ2h0ICsgXCIgXCIgKyBmb250U2l6ZVN0cmluZyArIFwiIFwiICsgZm9udEZhbWlsaWVzLmpvaW4oJywnKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0U3R5bGU7XG59KCkpO1xuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcn0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcikge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBoZXgyc3RyaW5nKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoY29sb3IuaW5kZXhPZignMHgnKSA9PT0gMCkge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xufVxuZnVuY3Rpb24gZ2V0Q29sb3IoY29sb3IpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgICAgIHJldHVybiBnZXRTaW5nbGVDb2xvcihjb2xvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb2xvcltpXSA9IGdldFNpbmdsZUNvbG9yKGNvbG9yW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxufVxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkxIC0gRmlyc3QgYXJyYXkgdG8gY29tcGFyZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkyIC0gU2Vjb25kIGFycmF5IHRvIGNvbXBhcmVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IERvIHRoZSBhcnJheXMgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgaW4gdGhlIHNhbWUgb3JkZXJcbiAqL1xuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYXJyYXkxLCBhcnJheTIpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkxKSB8fCAhQXJyYXkuaXNBcnJheShhcnJheTIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFycmF5MS5sZW5ndGggIT09IGFycmF5Mi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgY29waWVkIGJ5IHZhbHVlLCBhbmQgbm90IGJ5IHJlZmVyZW5jZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgLSBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIC0gU291cmNlIG9iamVjdCBmb3IgdGhlIHByb3BlcnRpZXMgdG8gY29weVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5T2JqIC0gT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBuYW1lcyB3ZSB3YW50IHRvIGxvb3Agb3ZlclxuICovXG5mdW5jdGlvbiBkZWVwQ29weVByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UsIHByb3BlcnR5T2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wZXJ0eU9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VbcHJvcF0pKSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF0uc2xpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHRNZXRyaWNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBhbiBhcnJheSBvZiB0aGUgbGluZXMgb2YgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpZiBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBsaW5lV2lkdGhzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxpbmVIZWlnaHQgLSB0aGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWF4TGluZVdpZHRoIC0gdGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZvbnRQcm9wZXJ0aWVzIC0gdGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRleHRNZXRyaWNzKHRleHQsIHN0eWxlLCB3aWR0aCwgaGVpZ2h0LCBsaW5lcywgbGluZVdpZHRocywgbGluZUhlaWdodCwgbWF4TGluZVdpZHRoLCBmb250UHJvcGVydGllcykge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHRTdHlsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCB3aWR0aCBvZiB0aGUgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgbGluZXMgb2YgdGhlIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaXMgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdGhlIGxpbmUgd2lkdGhzIGZvciBlYWNoIGxpbmUgbWF0Y2hlZCB0byBgbGluZXNgXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lV2lkdGhzID0gbGluZVdpZHRocztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGZvbnQgcHJvcGVydGllcyBvYmplY3QgZnJvbSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklGb250TWV0cmljc31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm9udFByb3BlcnRpZXMgPSBmb250UHJvcGVydGllcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0byBtZWFzdXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3JkV3JhcF0gLSBvcHRpb25hbCBvdmVycmlkZSBmb3IgaWYgd29yZC13cmFwIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MubWVhc3VyZVRleHQgPSBmdW5jdGlvbiAodGV4dCwgc3R5bGUsIHdvcmRXcmFwLCBjYW52YXMpIHtcbiAgICAgICAgaWYgKGNhbnZhcyA9PT0gdm9pZCAwKSB7IGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7IH1cbiAgICAgICAgd29yZFdyYXAgPSAod29yZFdyYXAgPT09IHVuZGVmaW5lZCB8fCB3b3JkV3JhcCA9PT0gbnVsbCkgPyBzdHlsZS53b3JkV3JhcCA6IHdvcmRXcmFwO1xuICAgICAgICB2YXIgZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcbiAgICAgICAgLy8gZmFsbGJhY2sgaW4gY2FzZSBVQSBkaXNhbGxvdyBjYW52YXMgZGF0YSBleHRyYWN0aW9uXG4gICAgICAgIC8vICh0b0RhdGFVUkksIGdldEltYWdlRGF0YSBmdW5jdGlvbnMpXG4gICAgICAgIGlmIChmb250UHJvcGVydGllcy5mb250U2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgZm9udFByb3BlcnRpZXMuZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzLmFzY2VudCA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHZhciBvdXRwdXRUZXh0ID0gd29yZFdyYXAgPyBUZXh0TWV0cmljcy53b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG91dHB1dFRleHQuc3BsaXQoLyg/OlxcclxcbnxcXHJ8XFxuKS8pO1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoICsgKChsaW5lc1tpXS5sZW5ndGggLSAxKSAqIHN0eWxlLmxldHRlclNwYWNpbmcpO1xuICAgICAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KSB7XG4gICAgICAgICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3MpXG4gICAgICAgICAgICArICgobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpKTtcbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgbmV3bGluZXMgdG8gYSBzdHJpbmcgdG8gaGF2ZSBpdCBvcHRpbWFsbHkgZml0IGludG8gdGhlIGhvcml6b250YWxcbiAgICAgKiBib3VuZHMgc2V0IGJ5IHRoZSBUZXh0IG9iamVjdCdzIHdvcmRXcmFwV2lkdGggcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gU3RyaW5nIHRvIGFwcGx5IHdvcmQgd3JhcHBpbmcgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0byB1c2Ugd2hlbiB3cmFwcGluZ1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTmV3IHN0cmluZyB3aXRoIG5ldyBsaW5lcyBhcHBsaWVkIHdoZXJlIHJlcXVpcmVkXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3Mud29yZFdyYXAgPSBmdW5jdGlvbiAodGV4dCwgc3R5bGUsIGNhbnZhcykge1xuICAgICAgICBpZiAoY2FudmFzID09PSB2b2lkIDApIHsgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhczsgfVxuICAgICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICB2YXIgd2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgICB2YXIgbGluZXMgPSAnJztcbiAgICAgICAgdmFyIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdmFyIGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nLCB3aGl0ZVNwYWNlID0gc3R5bGUud2hpdGVTcGFjZTtcbiAgICAgICAgLy8gSG93IHRvIGhhbmRsZSB3aGl0ZXNwYWNlc1xuICAgICAgICB2YXIgY29sbGFwc2VTcGFjZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKTtcbiAgICAgICAgdmFyIGNvbGxhcHNlTmV3bGluZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2UpO1xuICAgICAgICAvLyB3aGV0aGVyIG9yIG5vdCBzcGFjZXMgbWF5IGJlIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICAgICAgdmFyIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgIC8vIFRoZXJlIGlzIGxldHRlclNwYWNpbmcgYWZ0ZXIgZXZlcnkgY2hhciBleGNlcHQgdGhlIGxhc3Qgb25lXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hXG4gICAgICAgIC8vIHNvIGZvciBjb252ZW5pZW5jZSB0aGUgYWJvdmUgbmVlZHMgdG8gYmUgY29tcGFyZWQgdG8gd2lkdGggKyAxIGV4dHJhIGxldHRlclNwYWNlXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hX1xuICAgICAgICAvLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiAgICAgICAgLy8gQW5kIHRoZW4gdGhlIGZpbmFsIHNwYWNlIGlzIHNpbXBseSBubyBhcHBlbmRlZCB0byBlYWNoIGxpbmVcbiAgICAgICAgdmFyIHdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgLy8gYnJlYWsgdGV4dCBpbnRvIHdvcmRzLCBzcGFjZXMgYW5kIG5ld2xpbmUgY2hhcnNcbiAgICAgICAgdmFyIHRva2VucyA9IFRleHRNZXRyaWNzLnRva2VuaXplKHRleHQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSB3b3JkLCBzcGFjZSBvciBuZXdsaW5lQ2hhclxuICAgICAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgLy8gaWYgd29yZCBpcyBhIG5ldyBsaW5lXG4gICAgICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNOZXdsaW5lKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgdGhlIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ldyBsaW5lc1xuICAgICAgICAgICAgICAgIC8vIHdlIHNpbXBseSBjb252ZXJ0IGl0IGludG8gYSBzcGFjZVxuICAgICAgICAgICAgICAgIHRva2VuID0gJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIHJlcGVhdGVkIHdoaXRlc3BhY2VzXG4gICAgICAgICAgICBpZiAoY29sbGFwc2VTcGFjZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBib3RoIHRoaXMgYW5kIHRoZSBsYXN0IHRva2VucyBmb3Igc3BhY2VzXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pO1xuICAgICAgICAgICAgICAgIHZhciBsYXN0SXNCcmVha2luZ1NwYWNlID0gVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGxpbmVbbGluZS5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJJc0JyZWFraW5nU3BhY2UgJiYgbGFzdElzQnJlYWtpbmdTcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBnZXQgd29yZCB3aWR0aCBmcm9tIGNhY2hlIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICB2YXIgdG9rZW5XaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuICAgICAgICAgICAgLy8gd29yZCBpcyBsb25nZXIgdGhhbiBkZXNpcmVkIGJvdW5kc1xuICAgICAgICAgICAgaWYgKHRva2VuV2lkdGggPiB3b3JkV3JhcFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBhbHJlYWR5IGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IG5ld2xpbmVzIGZvciBvdmVyZmxvdyB3b3Jkc1xuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgbGFyZ2Ugd29yZCBvdmVyIG11bHRpcGxlIGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJyZWFrIHdvcmQgaW50byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJzID0gVGV4dE1ldHJpY3Mud29yZFdyYXBTcGxpdCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb3AgdGhlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhciA9IGNoYXJhY3RlcnNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgayA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgbm90IGF0IHRoZSBlbmQgb2YgdGhlIHRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY2hhcmFjdGVyc1tqICsga10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dENoYXIgPSBjaGFyYWN0ZXJzW2ogKyBrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdENoYXIgPSBjaGFyW2NoYXIubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIG5vdCBzcGxpdCBjaGFyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lIGNoYXJzICYgbW92ZSBmb3J3YXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICs9IG5leHRDaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gY2hhci5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcldpZHRoID0gVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlKGNoYXIsIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJXaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBydW4gd29yZCBvdXQgb2YgdGhlIGJvdW5kc1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgd29yZHMgaW4gdGhpcyBsaW5lIGFscmVhZHlcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoYXQgbGluZSBhbmQgc3RhcnQgYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzTGFzdFRva2VuID0gaSA9PT0gdG9rZW5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIGdpdmUgaXQgaXRzIG93biBsaW5lIGlmIGl0J3Mgbm90IHRoZSBlbmRcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZSh0b2tlbiwgIWlzTGFzdFRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3b3JkIGNvdWxkIGZpdFxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gd29yZCB3b24ndCBmaXQgYmVjYXVzZSBvZiBleGlzdGluZyB3b3Jkc1xuICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5XaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdHMgYSBzcGFjZSB3ZSBkb24ndCB3YW50IGl0XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIHNwYWNlcyB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCB8fCAhVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKSB8fCBjYW5QcmVwZW5kU3BhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgd29yZCB0byB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB3aWR0aCBjb3VudGVyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IHRva2VuV2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252aWVuaWVuY2UgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZWFjaCBsaW5lIGFkZGVkIGR1cmluZyB0aGUgd29yZFdyYXBcbiAgICAgKiBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGxpbmUgICAgICAgIC0gVGhlIGxpbmUgb2YgdGV4dCB0byBhZGRcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgbmV3TGluZSAgICAgLSBBZGQgbmV3IGxpbmUgY2hhcmFjdGVyIHRvIGVuZFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gIEEgZm9ybWF0dGVkIGxpbmVcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5hZGRMaW5lID0gZnVuY3Rpb24gKGxpbmUsIG5ld0xpbmUpIHtcbiAgICAgICAgaWYgKG5ld0xpbmUgPT09IHZvaWQgMCkgeyBuZXdMaW5lID0gdHJ1ZTsgfVxuICAgICAgICBsaW5lID0gVGV4dE1ldHJpY3MudHJpbVJpZ2h0KGxpbmUpO1xuICAgICAgICBsaW5lID0gKG5ld0xpbmUpID8gbGluZSArIFwiXFxuXCIgOiBsaW5lO1xuICAgICAgICByZXR1cm4gbGluZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgJiBzZXRzIHRoZSB3aWR0aHMgb2YgY2FsY3VsYXRlZCBjaGFyYWN0ZXJzIGluIGEgY2FjaGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgIGtleSAgICAgICAgICAgIC0gVGhlIGtleVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICAgICAgICAgICAgICAgICAgIGxldHRlclNwYWNpbmcgIC0gVGhlIGxldHRlciBzcGFjaW5nXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSAgICAgICAgICAgICAgICAgICAgY2FjaGUgICAgICAgICAgLSBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgICAgICAtIFRoZSBjYW52YXMgY29udGV4dFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gICAgICAgICAgICAgICAgICAgIFRoZSBmcm9tIGNhY2hlLlxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSA9IGZ1bmN0aW9uIChrZXksIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGNhY2hlW2tleV07XG4gICAgICAgIGlmICh0eXBlb2Ygd2lkdGggIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB2YXIgc3BhY2luZyA9ICgoa2V5Lmxlbmd0aCkgKiBsZXR0ZXJTcGFjaW5nKTtcbiAgICAgICAgICAgIHdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChrZXkpLndpZHRoICsgc3BhY2luZztcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIGJyZWFraW5nIHNwYWNlc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAtIFRoZSBUZXh0U3R5bGUgcHJvcGVydHkgd2hpdGVTcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyA9IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcgfHwgd2hpdGVTcGFjZSA9PT0gJ3ByZS1saW5lJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ld0xpbmUgY2hhcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgLSBUaGUgd2hpdGUgc3BhY2VcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyA9IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogdHJpbXMgYnJlYWtpbmcgd2hpdGVzcGFjZXMgZnJvbSBzdHJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAtIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgdHJpbW1lZCBzdHJpbmdcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy50cmltUmlnaHQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHRleHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcbiAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBuZXdsaW5lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyIC0gVGhlIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5pc05ld2xpbmUgPSBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChUZXh0TWV0cmljcy5fbmV3bGluZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgYnJlYWtpbmcgd2hpdGVzcGFjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAtIFRoZSBjaGFyYWN0ZXJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiB3aGl0ZXNwYWNlLCBGYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNwbGl0cyBhIHN0cmluZyBpbnRvIHdvcmRzLCBicmVha2luZy1zcGFjZXMgYW5kIG5ld0xpbmUgY2hhcmFjdGVyc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0IC0gVGhlIHRleHRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmdbXX0gIEEgdG9rZW5pemVkIGFycmF5XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MudG9rZW5pemUgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgIHZhciB0b2tlbiA9ICcnO1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0W2ldO1xuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSB8fCBUZXh0TWV0cmljcy5pc05ld2xpbmUoY2hhcikpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbiArPSBjaGFyO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbiAhPT0gJycpIHtcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgaGVscGVyIG1ldGhvZCB1c2VkIGludGVybmFsbHkgYnkgVGV4dE1ldHJpY3MsIGV4cG9zZWQgdG8gYWxsb3cgY3VzdG9taXppbmcgdGhlIGNsYXNzJ3MgYmVoYXZpb3IuXG4gICAgICpcbiAgICAgKiBJdCBhbGxvd3Mgb25lIHRvIGN1c3RvbWlzZSB3aGljaCB3b3JkcyBzaG91bGQgYnJlYWtcbiAgICAgKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuICAgICAgIC0gVGhlIHRva2VuXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgLSBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jYW5CcmVha1dvcmRzID0gZnVuY3Rpb24gKF90b2tlbiwgYnJlYWtXb3Jkcykge1xuICAgICAgICByZXR1cm4gYnJlYWtXb3JkcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBhIHBhaXIgb2YgY2hhcmFjdGVyc1xuICAgICAqIHNob3VsZCBiZSBicm9rZW4gYnkgbmV3bGluZXNcbiAgICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgICAgICAgLSBUaGUgY2hhcmFjdGVyXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgbmV4dENoYXIgICAgLSBUaGUgbmV4dCBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgICAtIFRoZSB0b2tlbi93b3JkIHRoZSBjaGFyYWN0ZXJzIGFyZSBmcm9tXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgaW5kZXggICAgICAgLSBUaGUgaW5kZXggaW4gdGhlIHRva2VuIG9mIHRoZSBjaGFyXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgLSBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jYW5CcmVha0NoYXJzID0gZnVuY3Rpb24gKF9jaGFyLCBfbmV4dENoYXIsIF90b2tlbiwgX2luZGV4LCBfYnJlYWtXb3Jkcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIGhlbHBlciBtZXRob2QgdXNlZCBpbnRlcm5hbGx5IGJ5IFRleHRNZXRyaWNzLCBleHBvc2VkIHRvIGFsbG93IGN1c3RvbWl6aW5nIHRoZSBjbGFzcydzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogSXQgaXMgY2FsbGVkIHdoZW4gYSB0b2tlbiAodXN1YWxseSBhIHdvcmQpIGhhcyB0byBiZSBzcGxpdCBpbnRvIHNlcGFyYXRlIHBpZWNlc1xuICAgICAqIGluIG9yZGVyIHRvIGRldGVybWluZSB0aGUgcG9pbnQgdG8gYnJlYWsgYSB3b3JkLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIENvcnJlY3RseSBzcGxpdHMgZW1vamlzLCBlZyBcIvCfpKrwn6SqXCIgd2lsbCByZXN1bHQgaW4gdHdvIGVsZW1lbnQgYXJyYXksIGVhY2ggd2l0aCBvbmUgZW1vamkuXG4gICAgICogVGV4dE1ldHJpY3Mud29yZFdyYXBTcGxpdCA9ICh0b2tlbikgPT4gWy4uLnRva2VuXTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuIC0gVGhlIHRva2VuIHRvIHNwbGl0XG4gICAgICogQHJldHVybiB7c3RyaW5nW119IFRoZSBjaGFyYWN0ZXJzIG9mIHRoZSB0b2tlblxuICAgICAqL1xuICAgIFRleHRNZXRyaWNzLndvcmRXcmFwU3BsaXQgPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLnNwbGl0KCcnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGFzY2VudCwgZGVzY2VudCBhbmQgZm9udFNpemUgb2YgYSBnaXZlbiBmb250LXN0eWxlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICAgICAqIEByZXR1cm4ge1BJWEkuSUZvbnRNZXRyaWNzfSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gICAgICovXG4gICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgPSBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICAvLyBhcyB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBwcmVwYXJpbmcgYXNzZXRzLCBkb24ndCByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKSB7XG4gICAgICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgYXNjZW50OiAwLFxuICAgICAgICAgICAgZGVzY2VudDogMCxcbiAgICAgICAgICAgIGZvbnRTaXplOiAwLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcbiAgICAgICAgdmFyIG1ldHJpY3NTdHJpbmcgPSBUZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyArIFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTDtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQobWV0cmljc1N0cmluZykud2lkdGgpO1xuICAgICAgICB2YXIgYmFzZWxpbmUgPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpLndpZHRoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IDIgKiBiYXNlbGluZTtcbiAgICAgICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIFRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgfCAwO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2YwMCc7XG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG4gICAgICAgIHZhciBpbWFnZWRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgICAgICB2YXIgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGxpbmUgPSB3aWR0aCAqIDQ7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGlkeCA9IDA7XG4gICAgICAgIHZhciBzdG9wID0gZmFsc2U7XG4gICAgICAgIC8vIGFzY2VudC4gc2NhbiBmcm9tIHRvcCB0byBib3R0b20gdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJhc2VsaW5lOyArK2kpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZTsgaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggKz0gbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3BlcnRpZXMuYXNjZW50ID0gYmFzZWxpbmUgLSBpO1xuICAgICAgICBpZHggPSBwaXhlbHMgLSBsaW5lO1xuICAgICAgICBzdG9wID0gZmFsc2U7XG4gICAgICAgIC8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgICAgIGZvciAoaSA9IGhlaWdodDsgaSA+IGJhc2VsaW5lOyAtLWkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZTsgaiArPSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApIHtcbiAgICAgICAgICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3BlcnRpZXMuZGVzY2VudCA9IGkgLSBiYXNlbGluZTtcbiAgICAgICAgcHJvcGVydGllcy5mb250U2l6ZSA9IHByb3BlcnRpZXMuYXNjZW50ICsgcHJvcGVydGllcy5kZXNjZW50O1xuICAgICAgICBUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsZWFyIGZvbnQgbWV0cmljcyBpbiBtZXRyaWNzIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZm9udF0gLSBmb250IG5hbWUuIElmIGZvbnQgbmFtZSBub3Qgc2V0IHRoZW4gY2xlYXIgY2FjaGUgZm9yIGFsbCBmb250cy5cbiAgICAgKi9cbiAgICBUZXh0TWV0cmljcy5jbGVhck1ldHJpY3MgPSBmdW5jdGlvbiAoZm9udCkge1xuICAgICAgICBpZiAoZm9udCA9PT0gdm9pZCAwKSB7IGZvbnQgPSAnJzsgfVxuICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgZGVsZXRlIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gVGV4dE1ldHJpY3M7XG59KCkpO1xuLyoqXG4gKiBJbnRlcm5hbCByZXR1cm4gb2JqZWN0IGZvciB7QGxpbmsgUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRgfS5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHByaXZhdGVcbiAqL1xudmFyIGNhbnZhcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gT2Zmc2NyZWVuQ2FudmFzMkQgbWVhc3VyZVRleHQgY2FuIGJlIHVwIHRvIDQwJSBmYXN0ZXIuXG4gICAgICAgIHZhciBjID0gbmV3IE9mZnNjcmVlbkNhbnZhcygwLCAwKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQubWVhc3VyZVRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG59KSgpO1xuY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDEwO1xuLyoqXG4gKiBDYWNoZWQgY2FudmFzIGVsZW1lbnQgZm9yIG1lYXN1cmluZyB0ZXh0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jYW52YXMgPSBjYW52YXM7XG4vKipcbiAqIENhY2hlIGZvciBjb250ZXh0IHRvIHVzZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4vKipcbiAqIENhY2hlIG9mIHtAc2VlIFBJWEkuVGV4dE1ldHJpY3MuRm9udE1ldHJpY3N9IG9iamVjdHMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbi8qKlxuICogU3RyaW5nIHVzZWQgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBUaGVzZSBjaGFyYWN0ZXJzIGFyZSBhbGwgdGFsbCB0byBoZWxwIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IHJlcXVpcmVkIGZvciB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBNRVRSSUNTX1NUUklOR1xuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IHzDiXHDhVxuICovXG5UZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyA9ICd8w4lxw4UnO1xuLyoqXG4gKiBCYXNlbGluZSBzeW1ib2wgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX1NZTUJPTFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IE1cbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MID0gJ00nO1xuLyoqXG4gKiBCYXNlbGluZSBtdWx0aXBsaWVyIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMS40XG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG4vKipcbiAqIENhY2hlIG9mIG5ldyBsaW5lIGNoYXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fbmV3bGluZXMgPSBbXG4gICAgMHgwMDBBLFxuICAgIDB4MDAwRCBdO1xuLyoqXG4gKiBDYWNoZSBvZiBicmVha2luZyBzcGFjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcyA9IFtcbiAgICAweDAwMDksXG4gICAgMHgwMDIwLFxuICAgIDB4MjAwMCxcbiAgICAweDIwMDEsXG4gICAgMHgyMDAyLFxuICAgIDB4MjAwMyxcbiAgICAweDIwMDQsXG4gICAgMHgyMDA1LFxuICAgIDB4MjAwNixcbiAgICAweDIwMDgsXG4gICAgMHgyMDA5LFxuICAgIDB4MjAwQSxcbiAgICAweDIwNUYsXG4gICAgMHgzMDAwIF07XG4vKipcbiAqIEEgbnVtYmVyLCBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiBJRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBGb250IGFzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBGb250IGRlc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZVxuICovXG5cbnZhciBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuLyoqXG4gKiBBIFRleHQgT2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0LlxuICpcbiAqIFRoZSB0ZXh0IGlzIGNyZWF0ZWQgdXNpbmcgdGhlIFtDYW52YXMgQVBJXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzX0FQSSkuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBCaXRtYXBUZXh0IGlzIHRoYXQgeW91IGhhdmUgZ3JlYXQgY29udHJvbCBvdmVyIHRoZSBzdHlsZSBvZiB0aGUgbmV4dCxcbiAqIHdoaWNoIHlvdSBjYW4gY2hhbmdlIGF0IHJ1bnRpbWUuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlcyBpcyB0aGF0IGVhY2ggcGllY2Ugb2YgdGV4dCBoYXMgaXQncyBvd24gdGV4dHVyZSwgd2hpY2ggY2FuIHVzZSBtb3JlIG1lbW9yeS5cbiAqIFdoZW4gdGV4dCBjaGFuZ2VzLCB0aGlzIHRleHR1cmUgaGFzIHRvIGJlIHJlLWdlbmVyYXRlZCBhbmQgcmUtdXBsb2FkZWQgdG8gdGhlIEdQVSwgdGFraW5nIHVwIHRpbWUuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nIGluIHlvdXIgdGV4dCBzdHJpbmcsIG9yLCBvbiB0aGUgYHN0eWxlYCBvYmplY3QsXG4gKiBjaGFuZ2UgaXRzIGB3b3JkV3JhcGAgcHJvcGVydHkgdG8gdHJ1ZSBhbmQgYW5kIGdpdmUgdGhlIGB3b3JkV3JhcFdpZHRoYCBwcm9wZXJ0eSBhIHZhbHVlLlxuICpcbiAqIEEgVGV4dCBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGEgc3RyaW5nIGFuZCBhIHN0eWxlIG9iamVjdCxcbiAqIHdoaWNoIGNhbiBiZSBnZW5lcmF0ZWQgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGV4dCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5XG4gICAgICogQHBhcmFtIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9IFtzdHlsZV0gLSBUaGUgc3R5bGUgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gVGhlIGNhbnZhcyBlbGVtZW50IGZvciBkcmF3aW5nIHRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZXh0KHRleHQsIHN0eWxlLCBjYW52YXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG93bkNhbnZhcyA9IGZhbHNlO1xuICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBvd25DYW52YXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRleHR1cmUudHJpbSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0ZXh0dXJlKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcCB0cmFjayBpZiB0aGlzIFRleHQgb2JqZWN0IGNyZWF0ZWQgaXQncyBvd24gY2FudmFzXG4gICAgICAgICAqIGVsZW1lbnQgKGB0cnVlYCkgb3IgdXNlcyB0aGUgY29uc3RydWN0b3IgYXJndW1lbnQgKGBmYWxzZWApLlxuICAgICAgICAgKiBVc2VkIHRvIHdvcmthcm91bmQgYSBHQyBpc3N1ZXMgd2l0aCBTYWZhcmkgPCAxMyB3aGVuXG4gICAgICAgICAqIGRlc3Ryb3lpbmcgVGV4dC4gU2VlIGBkZXN0cm95YCBmb3IgbW9yZSBpbmZvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX293bkNhbnZhcyA9IG93bkNhbnZhcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG9cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGhcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY29udGV4dCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIF90aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIGxpc3RlbmVyIHRvIHRyYWNrIHN0eWxlIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3N0eWxlTGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udCA9ICcnO1xuICAgICAgICBfdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgX3RoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgX3RoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IHRvIGl0cyBjYW52YXMsIGFuZCB1cGRhdGVzIGl0cyB0ZXh0dXJlLlxuICAgICAqIEJ5IGRlZmF1bHQgdGhpcyBpcyB1c2VkIGludGVybmFsbHkgdG8gZW5zdXJlIHRoZSB0ZXh0dXJlIGlzIGNvcnJlY3QgYmVmb3JlIHJlbmRlcmluZyxcbiAgICAgKiBidXQgaXQgY2FuIGJlIHVzZWQgY2FsbGVkIGV4dGVybmFsbHksIGZvciBleGFtcGxlIGZyb20gdGhpcyBjbGFzcyB0byAncHJlLWdlbmVyYXRlJyB0aGUgdGV4dHVyZSBmcm9tIGEgcGllY2Ugb2YgdGV4dCxcbiAgICAgKiBhbmQgdGhlbiBzaGFyZWQgYWNyb3NzIG11bHRpcGxlIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIChyZXNwZWN0RGlydHkpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZm9udCA9IHRoaXMuX3N0eWxlLnRvRm9udFN0cmluZygpO1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIG1lYXN1cmVkID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQodGhpcy5fdGV4dCB8fCAnICcsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIHdpZHRoKSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnRleHQuc2NhbGUodGhpcy5fcmVzb2x1dGlvbiwgdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblg7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZO1xuICAgICAgICAvLyByZXF1aXJlIDIgcGFzc2VzIGlmIGEgc2hhZG93OyB0aGUgZmlyc3QgdG8gZHJhdyB0aGUgZHJvcCBzaGFkb3csIHRoZSBzZWNvbmQgdG8gZHJhdyB0aGUgdGV4dFxuICAgICAgICB2YXIgcGFzc2VzQ291bnQgPSBzdHlsZS5kcm9wU2hhZG93ID8gMiA6IDE7XG4gICAgICAgIC8vIEZvciB2NCwgd2UgZHJldyB0ZXh0IGF0IHRoZSBjb2xvdXJzIG9mIHRoZSBkcm9wIHNoYWRvdyB1bmRlcm5lYXRoIHRoZSBub3JtYWwgdGV4dC4gVGhpcyBnYXZlIHRoZSBjb3JyZWN0IHpJbmRleCxcbiAgICAgICAgLy8gYnV0IGZlYXR1cmVzIHN1Y2ggYXMgYWxwaGEgYW5kIHNoYWRvd2JsdXIgZGlkIG5vdCBsb29rIHJpZ2h0IGF0IGFsbCwgc2luY2Ugd2Ugd2VyZSB1c2luZyBhY3R1YWwgdGV4dCBhcyBhIHNoYWRvdy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjAuMCwgd2UgbW92ZWQgb3ZlciB0byBqdXN0IHVzZSB0aGUgY2FudmFzIEFQSSBmb3IgZHJvcCBzaGFkb3dzLCB3aGljaCBtYWRlIHRoZW0gbG9vayBtdWNoIG5pY2VyIGFuZCBtb3JlXG4gICAgICAgIC8vIHZpc3VhbGx5IHBsZWFzZSwgYnV0IG5vdyBiZWNhdXNlIHRoZSBzdHJva2UgaXMgZHJhd24gYW5kIHRoZW4gdGhlIGZpbGwsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb24gYm90aCB0aGUgZmlsbFxuICAgICAgICAvLyBhbmQgdGhlIHN0cm9rZTsgYW5kIGZpbGwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvdmVyIHRoZSB0b3Agb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjEuMSwgdGhlIG5ldyByb3V0ZSBpcyB0byByZXZlcnQgdG8gdjQgc3R5bGUgb2YgZHJhd2luZyB0ZXh0IGZpcnN0IHRvIGdldCB0aGUgZHJvcCBzaGFkb3dzIHVuZGVybmVhdGggbm9ybWFsXG4gICAgICAgIC8vIHRleHQsIGJ1dCBpbnN0ZWFkIGRyYXdpbmcgdGV4dCBpbiB0aGUgY29ycmVjdCBsb2NhdGlvbiwgd2UnbGwgZHJhdyBpdCBvZmYgc2NyZWVuICgtcGFkZGluZ1kpLCBhbmQgdGhlbiBhZGp1c3QgdGhlXG4gICAgICAgIC8vIGRyb3Agc2hhZG93IHNvIG9ubHkgdGhhdCBhcHBlYXJzIG9uIHNjcmVlbiAoK3BhZGRpbmdZKS4gTm93IHdlJ2xsIGhhdmUgdGhlIGNvcnJlY3QgZHJhdyBvcmRlciBvZiB0aGUgc2hhZG93XG4gICAgICAgIC8vIGJlbmVhdGggdGhlIHRleHQsIHdoaWxzdCBhbHNvIGhhdmluZyB0aGUgcHJvcGVyIHRleHQgc2hhZG93IHN0eWxpbmcuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFzc2VzQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIGlzU2hhZG93UGFzcyA9IHN0eWxlLmRyb3BTaGFkb3cgJiYgaSA9PT0gMDtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgd2FudCB0aGUgZHJvcCBzaGFkb3csIHNvIHB1dCB0ZXh0IHdheSBvZmYtc2NyZWVuXG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRUZXh0ID0gaXNTaGFkb3dQYXNzID8gTWF0aC5jZWlsKE1hdGgubWF4KDEsIGhlaWdodCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSA6IDA7XG4gICAgICAgICAgICB2YXIgZHNPZmZzZXRTaGFkb3cgPSBkc09mZnNldFRleHQgKiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaWYgKGlzU2hhZG93UGFzcykge1xuICAgICAgICAgICAgICAgIC8vIE9uIFNhZmFyaSwgdGV4dCB3aXRoIGdyYWRpZW50IGFuZCBkcm9wIHNoYWRvd3MgdG9nZXRoZXIgZG8gbm90IHBvc2l0aW9uIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzY2FsZSBvZiB0aGUgY2FudmFzIGlzIG5vdCAxOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk3Njg5XG4gICAgICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlJ2xsIHNldCB0aGUgc3R5bGVzIHRvIGJlIGEgcGxhaW4gYmxhY2sgd2hpbHN0IGdlbmVyYXRpbmcgdGhpcyBkcm9wIHNoYWRvd1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICB2YXIgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgICAgIHZhciByZ2IgPSBoZXgycmdiKHR5cGVvZiBkcm9wU2hhZG93Q29sb3IgPT09ICdudW1iZXInID8gZHJvcFNoYWRvd0NvbG9yIDogc3RyaW5nMmhleChkcm9wU2hhZG93Q29sb3IpKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gXCJyZ2JhKFwiICsgcmdiWzBdICogMjU1ICsgXCIsXCIgKyByZ2JbMV0gKiAyNTUgKyBcIixcIiArIHJnYlsyXSAqIDI1NSArIFwiLFwiICsgc3R5bGUuZHJvcFNoYWRvd0FscGhhICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAoTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSkgKyBkc09mZnNldFNoYWRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcywgbWVhc3VyZWQpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAgICAgICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgPSAwOyBpXzEgPCBsaW5lcy5sZW5ndGg7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9ICgoc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMikgKyAoaV8xICogbGluZUhlaWdodCkpICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV8xXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV8xXSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKGxpbmVzW2lfMV0sIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLCBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcobGluZXNbaV8xXSwgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIHRleHQgd2l0aCBsZXR0ZXItc3BhY2luZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIEhvcml6b250YWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVmVydGljYWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3Ryb2tlPWZhbHNlXSAtIElzIHRoaXMgZHJhd2luZyBmb3IgdGhlIG91dHNpZGUgc3Ryb2tlIG9mIHRoZVxuICAgICAqICB0ZXh0PyBJZiBub3QsIGl0J3MgZm9yIHRoZSBpbnNpZGUgZmlsbFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmcgPSBmdW5jdGlvbiAodGV4dCwgeCwgeSwgaXNTdHJva2UpIHtcbiAgICAgICAgaWYgKGlzU3Ryb2tlID09PSB2b2lkIDApIHsgaXNTdHJva2UgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG4gICAgICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICAgICAgLy8gVXNpbmcgQXJyYXkuZnJvbSBjb3JyZWN0bHkgc3BsaXRzIGNoYXJhY3RlcnMgd2hpbHN0IGtlZXBpbmcgZW1vamkgdG9nZXRoZXIuXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBvbiBJRSBhcyBpdCByZXF1aXJlcyBFUzYsIHNvIHJlZ3VsYXIgdGV4dCBzcGxpdHRpbmcgb2NjdXJzLlxuICAgICAgICAvLyBUaGlzIGFsc28gZG9lc24ndCBhY2NvdW50IGZvciBlbW9qaSB0aGF0IGFyZSBtdWx0aXBsZSBlbW9qaSBwdXQgdG9nZXRoZXIgdG8gbWFrZSBzb21ldGhpbmcgZWxzZS5cbiAgICAgICAgLy8gSGFuZGxpbmcgYWxsIG9mIHRoaXMgd291bGQgcmVxdWlyZSBhIGJpZyBsaWJyYXJ5IGl0c2VsZi5cbiAgICAgICAgLy8gaHR0cHM6Ly9tZWRpdW0uY29tL0BnaWx0YXlhci9pdGVyYXRpbmctb3Zlci1lbW9qaS1jaGFyYWN0ZXJzLXRoZS1lczYtd2F5LWYwNmU0NTg5NTE2XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9vcmxpbmcvZ3JhcGhlbWUtc3BsaXR0ZXJcbiAgICAgICAgdmFyIHN0cmluZ0FycmF5ID0gQXJyYXkuZnJvbSA/IEFycmF5LmZyb20odGV4dCkgOiB0ZXh0LnNwbGl0KCcnKTtcbiAgICAgICAgdmFyIHByZXZpb3VzV2lkdGggPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQodGV4dCkud2lkdGg7XG4gICAgICAgIHZhciBjdXJyZW50V2lkdGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENoYXIgPSBzdHJpbmdBcnJheVtpXTtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFdpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQuc3Vic3RyaW5nKGkgKyAxKSkud2lkdGg7XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gcHJldmlvdXNXaWR0aCAtIGN1cnJlbnRXaWR0aCArIGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBwcmV2aW91c1dpZHRoID0gY3VycmVudFdpZHRoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHR1cmUgc2l6ZSBiYXNlZCBvbiBjYW52YXMgc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS50cmltKSB7XG4gICAgICAgICAgICB2YXIgdHJpbW1lZCA9IHRyaW1DYW52YXMoY2FudmFzKTtcbiAgICAgICAgICAgIGlmICh0cmltbWVkLmRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBzdHlsZS50cmltID8gMCA6IHN0eWxlLnBhZGRpbmc7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS5vcmlnLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggLSAocGFkZGluZyAqIDIpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgLy8gY2FsbCBzcHJpdGUgb25UZXh0dXJlVXBkYXRlIHRvIHVwZGF0ZSBzY2FsZSBpZiBfd2lkdGggb3IgX2hlaWdodCB3ZXJlIHNldFxuICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVhbFNpemUoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBkb25lIHRoaXMgb24gVEhJUyBmcmFtZS5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBUaGUgbGluZXMgb2YgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9nZW5lcmF0ZUZpbGxTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSwgbGluZXMsIG1ldHJpY3MpIHtcbiAgICAgICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgICAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgICAgIC8vICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMjUyMVxuICAgICAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxsU3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbGxTdHlsZVswXTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIHZhciBncmFkaWVudDtcbiAgICAgICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgICAgIC8vIGdlbmVyYXRlZCB3aXRoIHRoZSBpbmNvcnJlY3QgZGltZW5zaW9uc1xuICAgICAgICB2YXIgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSAoc3R5bGUuZHJvcFNoYWRvdykgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwO1xuICAgICAgICAvLyBzaG91bGQgYWxzbyB0YWtlIHBhZGRpbmcgaW50byBhY2NvdW50LCBwYWRkaW5nIGNhbiBvZmZzZXQgdGhlIGdyYWRpZW50XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUucGFkZGluZyB8fCAwO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5jYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKSAtIGRyb3BTaGFkb3dDb3JyZWN0aW9uIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIHZhciBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gICAgICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgICAgICBmaWxsLnVuc2hpZnQoZmlsbFN0eWxlWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcbiAgICAgICAgZmlsbC5wdXNoKGZpbGxTdHlsZVtmaWxsU3R5bGUubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgICAgICAvLyBUaGUgbG9vcCBiZWxvdyBnZW5lcmF0ZXMgdGhlIHN0b3BzIGluIG9yZGVyLCBzbyB0cmFjayB0aGUgbGFzdCBnZW5lcmF0ZWQgb25lIHRvIHByZXZlbnRcbiAgICAgICAgICAgIC8vIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBmcm9tIG1ha2luZyB1cyBnbyB0aGUgdGVlbmllc3QgYml0IGJhY2t3YXJkcywgcmVzdWx0aW5nIGluXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgYW5kIGxhc3QgY29sb3JzIGdldHRpbmcgc3dhcHBlZC5cbiAgICAgICAgICAgIHZhciBsYXN0SXRlcmF0aW9uU3RvcCA9IDA7XG4gICAgICAgICAgICAvLyBBY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IGNvdW50aW5nIHNwYWNpbmcgZm9yIGxpbmVIZWlnaHQvbGVhZGluZy9kcm9wU2hhZG93IGV0Y1xuICAgICAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAgICAgLy8gdGV4dEhlaWdodCwgYnV0IGFzIGEgMC0xIHNpemUgaW4gZ2xvYmFsIGdyYWRpZW50IHN0b3Agc3BhY2VcbiAgICAgICAgICAgIHZhciBncmFkU3RvcExpbmVIZWlnaHQgPSB0ZXh0SGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciB0aGlzTGluZVRvcCA9IG1ldHJpY3MubGluZUhlaWdodCAqIGk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDAtMSBzdG9wIHBvaW50IGZvciB0aGUgY3VycmVudCBsaW5lLCBtdWx0aXBsaWVkIHRvIGdsb2JhbCBzcGFjZSBhZnRlcndhcmRzXG4gICAgICAgICAgICAgICAgICAgIHZhciBsaW5lU3RvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsb2JhbFN0b3AgPSAodGhpc0xpbmVUb3AgLyBoZWlnaHQpICsgKGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBjb2xvciBzdG9wIGdlbmVyYXRpb24gZ29pbmcgYmFja3dhcmRzIGZyb20gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb25cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYW1wZWRTdG9wID0gTWF0aC5tYXgobGFzdEl0ZXJhdGlvblN0b3AsIGdsb2JhbFN0b3ApO1xuICAgICAgICAgICAgICAgICAgICBjbGFtcGVkU3RvcCA9IE1hdGgubWluKGNsYW1wZWRTdG9wLCAxKTsgLy8gQ2FwIGF0IDEgYXMgd2VsbCBmb3Igc2FmZXR5J3Mgc2FrZSB0byBhdm9pZCBhIHBvc3NpYmxlIHRocm93LlxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgICAgICBsYXN0SXRlcmF0aW9uU3RvcCA9IGNsYW1wZWRTdG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAvLyBjYW4ganVzdCBldmVubHkgc3BhY2Ugb3V0IHRoZSBncmFkaWVudHMgaW4gdGhpcyBjYXNlLCBhcyBtdWx0aXBsZSBsaW5lcyBtYWtlcyBubyBkaWZmZXJlbmNlXG4gICAgICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHQgb2JqZWN0LlxuICAgICAqIE5vdGUqIFVubGlrZSBhIFNwcml0ZSwgYSBUZXh0IG9iamVjdCB3aWxsIGF1dG9tYXRpY2FsbHkgZGVzdHJveSBpdHMgYmFzZVRleHR1cmUgYW5kIHRleHR1cmUgYXNcbiAgICAgKiB0aGUgbWFqb3JpdHkgb2YgdGhlIHRpbWUgdGhlIHRleHR1cmUgd2lsbCBub3QgYmUgc2hhcmVkIHdpdGggYW55IG90aGVyIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHREZXN0cm95T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAvLyBzZXQgY2FudmFzIHdpZHRoIGFuZCBoZWlnaHQgdG8gMCB0byB3b3JrYXJvdW5kIG1lbW9yeSBsZWFrIGluIFNhZmFyaSA8IDEzXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUyNTMyNjE0L3RvdGFsLWNhbnZhcy1tZW1vcnktdXNlLWV4Y2VlZHMtdGhlLW1heGltdW0tbGltaXQtc2FmYXJpLTEyXG4gICAgICAgIGlmICh0aGlzLl9vd25DYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLndpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCBcImhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwic3R5bGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC4gU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGVcbiAgICAgICAgICogb2JqZWN0IGFuZCBtYXJrIHRoZSB0ZXh0IGFzIGRpcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgSVRleHRTdHlsZVxuICAgICAgICAgICAgLy8gICAgICAgc2luY2UgdGhlIHNldHRlciBjcmVhdGVzIHRoZSBUZXh0U3R5bGUuIFNlZSB0aGlzIHRocmVhZCBmb3IgbW9yZSBkZXRhaWxzOlxuICAgICAgICAgICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuICAgICAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gbmV3IFRleHRTdHlsZShzdHlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGV4dC5wcm90b3R5cGUsIFwidGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUZXh0LnByb3RvdHlwZSwgXCJyZXNvbHV0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICAgICAqIFRoaXMgaXMgc2V0IHRvIGF1dG9tYXRpY2FsbHkgbWF0Y2ggdGhlIHJlbmRlcmVyIHJlc29sdXRpb24gYnkgZGVmYXVsdCwgYnV0IGNhbiBiZSBvdmVycmlkZGVuIGJ5IHNldHRpbmcgbWFudWFsbHkuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBUZXh0O1xufShTcHJpdGUpKTtcblxuZXhwb3J0IHsgVEVYVF9HUkFESUVOVCwgVGV4dCwgVGV4dE1ldHJpY3MsIFRleHRTdHlsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dC5lcy5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=