(self.webpackChunkvht11=self.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\mathjax-full\\js\\core\\MathDocument"],{"./node_modules/mathjax-full/js/core/MathDocument.js":function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var o,n,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMathDocument=e.RenderList=void 0;var u=r("./node_modules/mathjax-full/js/util/Options.js"),l=r("./node_modules/mathjax-full/js/core/InputJax.js"),c=r("./node_modules/mathjax-full/js/core/OutputJax.js"),h=r("./node_modules/mathjax-full/js/core/MathList.js"),p=r("./node_modules/mathjax-full/js/core/MathItem.js"),d=r("./node_modules/mathjax-full/js/core/MmlTree/MmlFactory.js"),f=r("./node_modules/mathjax-full/js/util/BitField.js"),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.create=function(t){var e,r,o=new this;try{for(var n=i(Object.keys(t)),s=n.next();!s.done;s=n.next()){var u=s.value,l=a(this.action(u,t[u]),2),c=l[0],h=l[1];h&&o.add(c,h)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return o},e.action=function(t,e){var r,o,n,i,s,u,l=!0,c=e[0];if(1===e.length||"boolean"==typeof e[1])2===e.length&&(l=e[1]),s=(r=a(this.methodActions(t),2))[0],u=r[1];else if("string"==typeof e[1])if("string"==typeof e[2]){4===e.length&&(l=e[3]);var h=a(e.slice(1),2),p=h[0],d=h[1];s=(o=a(this.methodActions(p,d),2))[0],u=o[1]}else 3===e.length&&(l=e[2]),s=(n=a(this.methodActions(e[1]),2))[0],u=n[1];else 4===e.length&&(l=e[3]),s=(i=a(e.slice(1),2))[0],u=i[1];return[{id:t,renderDoc:s,renderMath:u,convert:l},c]},e.methodActions=function(t,e){return void 0===e&&(e=t),[function(e){return t&&e[t](),!1},function(t,r){return e&&t[e](r),!1}]},e.prototype.renderDoc=function(t,e){var r,o;void 0===e&&(e=p.STATE.UNPROCESSED);try{for(var n=i(this.items),a=n.next();!a.done;a=n.next()){var s=a.value;if(s.priority>=e&&s.item.renderDoc(t))return}}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}},e.prototype.renderMath=function(t,e,r){var o,n;void 0===r&&(r=p.STATE.UNPROCESSED);try{for(var a=i(this.items),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.priority>=r&&u.item.renderMath(t,e))return}}catch(t){o={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}},e.prototype.renderConvert=function(t,e,r){var o,n;void 0===r&&(r=p.STATE.LAST);try{for(var a=i(this.items),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.priority>r)return;if(u.item.convert&&u.item.renderMath(t,e))return}}catch(t){o={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}},e.prototype.findID=function(t){var e,r;try{for(var o=i(this.items),n=o.next();!n.done;n=o.next()){var a=n.value;if(a.item.id===t)return a.item}}catch(t){e={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return null},e}(r("./node_modules/mathjax-full/js/util/PrioritizedList.js").PrioritizedList);e.RenderList=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.compile=function(t){return null},e}(l.AbstractInputJax),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.typeset=function(t,e){return void 0===e&&(e=null),null},e.prototype.escaped=function(t,e){return null},e}(c.AbstractOutputJax),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(h.AbstractMathList),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(p.AbstractMathItem),A=function(){function t(e,r,o){var n=this,i=this.constructor;this.document=e,this.options=u.userOptions(u.defaultOptions({},i.OPTIONS),o),this.math=new(this.options.MathList||x),this.renderActions=y.create(this.options.renderActions),this.processed=new t.ProcessBits,this.outputJax=this.options.OutputJax||new v;var a=this.options.InputJax||[new m];Array.isArray(a)||(a=[a]),this.inputJax=a,this.adaptor=r,this.outputJax.setAdaptor(r),this.inputJax.map((function(t){return t.setAdaptor(r)})),this.mmlFactory=this.options.MmlFactory||new d.MmlFactory,this.inputJax.map((function(t){return t.setMmlFactory(n.mmlFactory)})),this.outputJax.initialize(),this.inputJax.map((function(t){return t.initialize()}))}return Object.defineProperty(t.prototype,"kind",{get:function(){return this.constructor.KIND},enumerable:!1,configurable:!0}),t.prototype.addRenderAction=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=a(y.action(t,e),2),n=o[0],i=o[1];this.renderActions.add(n,i)},t.prototype.removeRenderAction=function(t){var e=this.renderActions.findID(t);e&&this.renderActions.remove(e)},t.prototype.render=function(){return this.renderActions.renderDoc(this),this},t.prototype.rerender=function(t){return void 0===t&&(t=p.STATE.RERENDER),this.state(t-1),this.render(),this},t.prototype.convert=function(t,e){void 0===e&&(e={});var r=u.userOptions({format:this.inputJax[0].name,display:!0,end:p.STATE.LAST,em:16,ex:8,containerWidth:null,lineWidth:1e6,scale:1,family:""},e),o=r.format,n=r.display,i=r.end,a=r.ex,s=r.em,l=r.containerWidth,c=r.lineWidth,h=r.scale,d=r.family;null===l&&(l=80*a);var f=this.inputJax.reduce((function(t,e){return e.name===o?e:t}),null),y=new this.options.MathItem(t,f,n);return y.start.node=this.adaptor.body(this.document),y.setMetrics(s,a,l,c,h),this.outputJax.options.mtextInheritFont&&(y.outputData.mtextFamily=d),this.outputJax.options.merrorInheritFont&&(y.outputData.merrorFamily=d),y.convert(this,i),y.typesetRoot||y.root},t.prototype.findMath=function(t){return void 0===t&&(t=null),this.processed.set("findMath"),this},t.prototype.compile=function(){var t,e,r,o;if(!this.processed.isSet("compile")){var n=[];try{for(var a=i(this.math),s=a.next();!s.done;s=a.next()){var u=s.value;this.compileMath(u),void 0!==u.inputData.recompile&&n.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}try{for(var l=i(n),c=l.next();!c.done;c=l.next()){var h=(u=c.value).inputData.recompile;u.state(h.state),u.inputData.recompile=h,this.compileMath(u)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}this.processed.set("compile")}return this},t.prototype.compileMath=function(t){try{t.compile(this)}catch(e){if(e.retry||e.restart)throw e;this.options.compileError(this,t,e),t.inputData.error=e}},t.prototype.compileError=function(t,e){t.root=this.mmlFactory.create("math",null,[this.mmlFactory.create("merror",{"data-mjx-error":e.message,title:e.message},[this.mmlFactory.create("mtext",null,[this.mmlFactory.create("text").setText("Math input error")])])]),t.display&&t.root.attributes.set("display","block"),t.inputData.error=e.message},t.prototype.typeset=function(){var t,e;if(!this.processed.isSet("typeset")){try{for(var r=i(this.math),o=r.next();!o.done;o=r.next()){var n=o.value;try{n.typeset(this)}catch(t){if(t.retry||t.restart)throw t;this.options.typesetError(this,n,t),n.outputData.error=t}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.processed.set("typeset")}return this},t.prototype.typesetError=function(t,e){t.typesetRoot=this.adaptor.node("mjx-container",{class:"MathJax mjx-output-error",jax:this.outputJax.name},[this.adaptor.node("span",{"data-mjx-error":e.message,title:e.message,style:{color:"red","background-color":"yellow","line-height":"normal"}},[this.adaptor.text("Math output error")])]),t.display&&this.adaptor.setAttributes(t.typesetRoot,{style:{display:"block",margin:"1em 0","text-align":"center"}}),t.outputData.error=e.message},t.prototype.getMetrics=function(){return this.processed.isSet("getMetrics")||(this.outputJax.getMetrics(this),this.processed.set("getMetrics")),this},t.prototype.updateDocument=function(){var t,e;if(!this.processed.isSet("updateDocument")){try{for(var r=i(this.math.reversed()),o=r.next();!o.done;o=r.next()){o.value.updateDocument(this)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.processed.set("updateDocument")}return this},t.prototype.removeFromDocument=function(t){return void 0===t&&(t=!1),this},t.prototype.state=function(t,e){var r,o;void 0===e&&(e=!1);try{for(var n=i(this.math),a=n.next();!a.done;a=n.next()){a.value.state(t,e)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=n.return)&&o.call(n)}finally{if(r)throw r.error}}return t<p.STATE.INSERTED&&this.processed.clear("updateDocument"),t<p.STATE.TYPESET&&(this.processed.clear("typeset"),this.processed.clear("getMetrics")),t<p.STATE.COMPILED&&this.processed.clear("compile"),this},t.prototype.reset=function(){return this.processed.reset(),this},t.prototype.clear=function(){return this.reset(),this.math.clear(),this},t.prototype.concat=function(t){return this.math.merge(t),this},t.prototype.clearMathItemsWithin=function(t){var e;(e=this.math).remove.apply(e,s(this.getMathItemsWithin(t)))},t.prototype.getMathItemsWithin=function(t){var e,r,o,n;Array.isArray(t)||(t=[t]);var a=this.adaptor,s=[],u=a.getElements(t,this.document);try{t:for(var l=i(this.math),c=l.next();!c.done;c=l.next()){var h=c.value;try{for(var p=(o=void 0,i(u)),d=p.next();!d.done;d=p.next()){var f=d.value;if(h.start.node&&a.contains(f,h.start.node)){s.push(h);continue t}}}catch(t){o={error:t}}finally{try{d&&!d.done&&(n=p.return)&&n.call(p)}finally{if(o)throw o.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}return s},t.KIND="MathDocument",t.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:x,MathItem:M,compileError:function(t,e,r){t.compileError(e,r)},typesetError:function(t,e,r){t.typesetError(e,r)},renderActions:u.expandable({find:[p.STATE.FINDMATH,"findMath","",!1],compile:[p.STATE.COMPILED],metrics:[p.STATE.METRICS,"getMetrics","",!1],typeset:[p.STATE.TYPESET],update:[p.STATE.INSERTED,"updateDocument",!1]})},t.ProcessBits=f.BitFieldClass("findMath","compile","getMetrics","typeset","updateDocument"),t}();e.AbstractMathDocument=A}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9tYXRoamF4LWZ1bGwvanMvY29yZS9NYXRoRG9jdW1lbnQuanMiXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiX192YWx1ZXMiLCJvIiwicyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibSIsImkiLCJjYWxsIiwibGVuZ3RoIiwibmV4dCIsInZhbHVlIiwiZG9uZSIsIlR5cGVFcnJvciIsIl9fcmVhZCIsIm4iLCJyIiwiZSIsImFyIiwicHVzaCIsImVycm9yIiwiX19zcHJlYWQiLCJhcmd1bWVudHMiLCJjb25jYXQiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJBYnN0cmFjdE1hdGhEb2N1bWVudCIsIlJlbmRlckxpc3QiLCJPcHRpb25zX2pzXzEiLCJJbnB1dEpheF9qc18xIiwiT3V0cHV0SmF4X2pzXzEiLCJNYXRoTGlzdF9qc18xIiwiTWF0aEl0ZW1fanNfMSIsIk1tbEZhY3RvcnlfanNfMSIsIkJpdEZpZWxkX2pzXzEiLCJfc3VwZXIiLCJhcHBseSIsImFjdGlvbnMiLCJlXzEiLCJfYSIsImxpc3QiLCJfYiIsImtleXMiLCJfYyIsImlkIiwiX2QiLCJhY3Rpb24iLCJwcmlvcml0eSIsImFkZCIsImVfMV8xIiwicmV0dXJuIiwicmVuZGVyRG9jIiwicmVuZGVyTWF0aCIsImNvbnZlcnQiLCJtZXRob2RBY3Rpb25zIiwiX2UiLCJzbGljZSIsIm1ldGhvZDEiLCJtZXRob2QyIiwiZG9jdW1lbnQiLCJtYXRoIiwic3RhcnQiLCJlXzIiLCJTVEFURSIsIlVOUFJPQ0VTU0VEIiwiaXRlbXMiLCJpdGVtIiwiZV8yXzEiLCJlXzMiLCJlXzNfMSIsInJlbmRlckNvbnZlcnQiLCJlbmQiLCJlXzQiLCJMQVNUIiwiZV80XzEiLCJmaW5kSUQiLCJlXzUiLCJlXzVfMSIsIlByaW9yaXRpemVkTGlzdCIsIkRlZmF1bHRJbnB1dEpheCIsImNvbXBpbGUiLCJfbWF0aCIsIkFic3RyYWN0SW5wdXRKYXgiLCJEZWZhdWx0T3V0cHV0SmF4IiwidHlwZXNldCIsIl9kb2N1bWVudCIsImVzY2FwZWQiLCJBYnN0cmFjdE91dHB1dEpheCIsIkRlZmF1bHRNYXRoTGlzdCIsIkFic3RyYWN0TWF0aExpc3QiLCJEZWZhdWx0TWF0aEl0ZW0iLCJBYnN0cmFjdE1hdGhJdGVtIiwiYWRhcHRvciIsIm9wdGlvbnMiLCJfdGhpcyIsIkNMQVNTIiwidXNlck9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIk9QVElPTlMiLCJyZW5kZXJBY3Rpb25zIiwicHJvY2Vzc2VkIiwiUHJvY2Vzc0JpdHMiLCJvdXRwdXRKYXgiLCJpbnB1dEpheCIsImlzQXJyYXkiLCJzZXRBZGFwdG9yIiwibWFwIiwiamF4IiwibW1sRmFjdG9yeSIsIk1tbEZhY3RvcnkiLCJzZXRNbWxGYWN0b3J5IiwiaW5pdGlhbGl6ZSIsImdldCIsIktJTkQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiYWRkUmVuZGVyQWN0aW9uIiwiX2kiLCJmbiIsInJlbW92ZVJlbmRlckFjdGlvbiIsInJlbW92ZSIsInJlbmRlciIsInJlcmVuZGVyIiwiUkVSRU5ERVIiLCJzdGF0ZSIsImZvcm1hdCIsIm5hbWUiLCJkaXNwbGF5IiwiZW0iLCJleCIsImNvbnRhaW5lcldpZHRoIiwibGluZVdpZHRoIiwic2NhbGUiLCJmYW1pbHkiLCJyZWR1Y2UiLCJpamF4IiwibWl0ZW0iLCJNYXRoSXRlbSIsIm5vZGUiLCJib2R5Iiwic2V0TWV0cmljcyIsIm10ZXh0SW5oZXJpdEZvbnQiLCJvdXRwdXREYXRhIiwibXRleHRGYW1pbHkiLCJtZXJyb3JJbmhlcml0Rm9udCIsIm1lcnJvckZhbWlseSIsInR5cGVzZXRSb290Iiwicm9vdCIsImZpbmRNYXRoIiwiX29wdGlvbnMiLCJzZXQiLCJlXzYiLCJlXzciLCJpc1NldCIsInJlY29tcGlsZSIsImNvbXBpbGVNYXRoIiwidW5kZWZpbmVkIiwiaW5wdXREYXRhIiwiZV82XzEiLCJyZWNvbXBpbGVfMSIsInJlY29tcGlsZV8xXzEiLCJkYXRhIiwiZV83XzEiLCJlcnIiLCJyZXRyeSIsInJlc3RhcnQiLCJjb21waWxlRXJyb3IiLCJtZXNzYWdlIiwidGl0bGUiLCJzZXRUZXh0IiwiYXR0cmlidXRlcyIsImVfOCIsImVfOF8xIiwidHlwZXNldEVycm9yIiwiY2xhc3MiLCJzdHlsZSIsImNvbG9yIiwidGV4dCIsInNldEF0dHJpYnV0ZXMiLCJtYXJnaW4iLCJnZXRNZXRyaWNzIiwidXBkYXRlRG9jdW1lbnQiLCJlXzkiLCJyZXZlcnNlZCIsImVfOV8xIiwicmVtb3ZlRnJvbURvY3VtZW50IiwiX3Jlc3RvcmUiLCJyZXN0b3JlIiwiZV8xMCIsImVfMTBfMSIsIklOU0VSVEVEIiwiY2xlYXIiLCJUWVBFU0VUIiwiQ09NUElMRUQiLCJyZXNldCIsIm1lcmdlIiwiY2xlYXJNYXRoSXRlbXNXaXRoaW4iLCJjb250YWluZXJzIiwiZ2V0TWF0aEl0ZW1zV2l0aGluIiwiZWxlbWVudHMiLCJlXzExIiwiZV8xMiIsImdldEVsZW1lbnRzIiwiSVRFTVMiLCJjb250YWluZXJzXzEiLCJjb250YWluZXJzXzFfMSIsImNvbnRhaW5lciIsImNvbnRhaW5zIiwiZV8xMl8xIiwiZV8xMV8xIiwiT3V0cHV0SmF4IiwiSW5wdXRKYXgiLCJNYXRoTGlzdCIsImRvYyIsImV4cGFuZGFibGUiLCJmaW5kIiwiRklORE1BVEgiLCJtZXRyaWNzIiwiTUVUUklDUyIsInVwZGF0ZSIsIkJpdEZpZWxkQ2xhc3MiXSwibWFwcGluZ3MiOiI0T0FDQSxJQUNRQSxFQURKQyxFQUFhQyxNQUFRQSxLQUFLRCxZQUN0QkQsRUFBZ0IsU0FBVUcsRUFBR0MsR0FJN0IsT0FIQUosRUFBZ0JLLE9BQU9DLGdCQUNsQixDQUFFQyxVQUFXLGNBQWdCQyxPQUFTLFNB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QU11RyxJQUUzQlUsYUFBYyxTQUFVd0MsRUFBS3pKLEVBQU11RyxHQUMvQmtELEVBQUl4QyxhQUFhakgsRUFBTXVHLElBRTNCaEUsY0FBZXZFLEVBQWEwTCxXQUFXLENBQ25DQyxLQUFNLENBQUN2TCxFQUFjK0IsTUFBTXlKLFNBQVUsV0FBWSxJQUFJLEdBQ3JEeEksUUFBUyxDQUFDaEQsRUFBYytCLE1BQU1rSSxVQUM5QndCLFFBQVMsQ0FBQ3pMLEVBQWMrQixNQUFNMkosUUFBUyxhQUFjLElBQUksR0FDekR0SSxRQUFTLENBQUNwRCxFQUFjK0IsTUFBTWlJLFNBQzlCMkIsT0FBUSxDQUFDM0wsRUFBYytCLE1BQU0rSCxTQUFVLGtCQUFrQixNQUdqRXBLLEVBQXFCMkUsWUFBY25FLEVBQWMwTCxjQUFjLFdBQVksVUFBVyxhQUFjLFVBQVcsa0JBQ3hHbE0sRUFuVmdCLEdBcVYzQkQsRUFBUUMscUJBQXVCQSIsImZpbGUiOiI3ZDBlZTg2NWIxMDhhZmYzOWVkYi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWQgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgICByZXR1cm4gYXI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BYnN0cmFjdE1hdGhEb2N1bWVudCA9IGV4cG9ydHMuUmVuZGVyTGlzdCA9IHZvaWQgMDtcbnZhciBPcHRpb25zX2pzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9PcHRpb25zLmpzXCIpO1xudmFyIElucHV0SmF4X2pzXzEgPSByZXF1aXJlKFwiLi9JbnB1dEpheC5qc1wiKTtcbnZhciBPdXRwdXRKYXhfanNfMSA9IHJlcXVpcmUoXCIuL091dHB1dEpheC5qc1wiKTtcbnZhciBNYXRoTGlzdF9qc18xID0gcmVxdWlyZShcIi4vTWF0aExpc3QuanNcIik7XG52YXIgTWF0aEl0ZW1fanNfMSA9IHJlcXVpcmUoXCIuL01hdGhJdGVtLmpzXCIpO1xudmFyIE1tbEZhY3RvcnlfanNfMSA9IHJlcXVpcmUoXCIuLi9jb3JlL01tbFRyZWUvTW1sRmFjdG9yeS5qc1wiKTtcbnZhciBCaXRGaWVsZF9qc18xID0gcmVxdWlyZShcIi4uL3V0aWwvQml0RmllbGQuanNcIik7XG52YXIgUHJpb3JpdGl6ZWRMaXN0X2pzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9Qcmlvcml0aXplZExpc3QuanNcIik7XG52YXIgUmVuZGVyTGlzdCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlbmRlckxpc3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVuZGVyTGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBSZW5kZXJMaXN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChhY3Rpb25zKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgbGlzdCA9IG5ldyB0aGlzKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKE9iamVjdC5rZXlzKGFjdGlvbnMpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBfZCA9IF9fcmVhZCh0aGlzLmFjdGlvbihpZCwgYWN0aW9uc1tpZF0pLCAyKSwgYWN0aW9uID0gX2RbMF0sIHByaW9yaXR5ID0gX2RbMV07XG4gICAgICAgICAgICAgICAgaWYgKHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3QuYWRkKGFjdGlvbiwgcHJpb3JpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH07XG4gICAgUmVuZGVyTGlzdC5hY3Rpb24gPSBmdW5jdGlvbiAoaWQsIGFjdGlvbikge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHZhciByZW5kZXJEb2MsIHJlbmRlck1hdGg7XG4gICAgICAgIHZhciBjb252ZXJ0ID0gdHJ1ZTtcbiAgICAgICAgdmFyIHByaW9yaXR5ID0gYWN0aW9uWzBdO1xuICAgICAgICBpZiAoYWN0aW9uLmxlbmd0aCA9PT0gMSB8fCB0eXBlb2YgYWN0aW9uWzFdID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGFjdGlvbi5sZW5ndGggPT09IDIgJiYgKGNvbnZlcnQgPSBhY3Rpb25bMV0pO1xuICAgICAgICAgICAgX2EgPSBfX3JlYWQodGhpcy5tZXRob2RBY3Rpb25zKGlkKSwgMiksIHJlbmRlckRvYyA9IF9hWzBdLCByZW5kZXJNYXRoID0gX2FbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFjdGlvblsxXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0aW9uWzJdID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGFjdGlvbi5sZW5ndGggPT09IDQgJiYgKGNvbnZlcnQgPSBhY3Rpb25bM10pO1xuICAgICAgICAgICAgICAgIHZhciBfZSA9IF9fcmVhZChhY3Rpb24uc2xpY2UoMSksIDIpLCBtZXRob2QxID0gX2VbMF0sIG1ldGhvZDIgPSBfZVsxXTtcbiAgICAgICAgICAgICAgICBfYiA9IF9fcmVhZCh0aGlzLm1ldGhvZEFjdGlvbnMobWV0aG9kMSwgbWV0aG9kMiksIDIpLCByZW5kZXJEb2MgPSBfYlswXSwgcmVuZGVyTWF0aCA9IF9iWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLmxlbmd0aCA9PT0gMyAmJiAoY29udmVydCA9IGFjdGlvblsyXSk7XG4gICAgICAgICAgICAgICAgX2MgPSBfX3JlYWQodGhpcy5tZXRob2RBY3Rpb25zKGFjdGlvblsxXSksIDIpLCByZW5kZXJEb2MgPSBfY1swXSwgcmVuZGVyTWF0aCA9IF9jWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWN0aW9uLmxlbmd0aCA9PT0gNCAmJiAoY29udmVydCA9IGFjdGlvblszXSk7XG4gICAgICAgICAgICBfZCA9IF9fcmVhZChhY3Rpb24uc2xpY2UoMSksIDIpLCByZW5kZXJEb2MgPSBfZFswXSwgcmVuZGVyTWF0aCA9IF9kWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbeyBpZDogaWQsIHJlbmRlckRvYzogcmVuZGVyRG9jLCByZW5kZXJNYXRoOiByZW5kZXJNYXRoLCBjb252ZXJ0OiBjb252ZXJ0IH0sIHByaW9yaXR5XTtcbiAgICB9O1xuICAgIFJlbmRlckxpc3QubWV0aG9kQWN0aW9ucyA9IGZ1bmN0aW9uIChtZXRob2QxLCBtZXRob2QyKSB7XG4gICAgICAgIGlmIChtZXRob2QyID09PSB2b2lkIDApIHsgbWV0aG9kMiA9IG1ldGhvZDE7IH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkb2N1bWVudCkgeyBtZXRob2QxICYmIGRvY3VtZW50W21ldGhvZDFdKCk7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChtYXRoLCBkb2N1bWVudCkgeyBtZXRob2QyICYmIG1hdGhbbWV0aG9kMl0oZG9jdW1lbnQpOyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgXTtcbiAgICB9O1xuICAgIFJlbmRlckxpc3QucHJvdG90eXBlLnJlbmRlckRvYyA9IGZ1bmN0aW9uIChkb2N1bWVudCwgc3RhcnQpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIGlmIChzdGFydCA9PT0gdm9pZCAwKSB7IHN0YXJ0ID0gTWF0aEl0ZW1fanNfMS5TVEFURS5VTlBST0NFU1NFRDsgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLml0ZW1zKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ucHJpb3JpdHkgPj0gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXRlbS5yZW5kZXJEb2MoZG9jdW1lbnQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBSZW5kZXJMaXN0LnByb3RvdHlwZS5yZW5kZXJNYXRoID0gZnVuY3Rpb24gKG1hdGgsIGRvY3VtZW50LCBzdGFydCkge1xuICAgICAgICB2YXIgZV8zLCBfYTtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSB2b2lkIDApIHsgc3RhcnQgPSBNYXRoSXRlbV9qc18xLlNUQVRFLlVOUFJPQ0VTU0VEOyB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuaXRlbXMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5wcmlvcml0eSA+PSBzdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pdGVtLnJlbmRlck1hdGgobWF0aCwgZG9jdW1lbnQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBSZW5kZXJMaXN0LnByb3RvdHlwZS5yZW5kZXJDb252ZXJ0ID0gZnVuY3Rpb24gKG1hdGgsIGRvY3VtZW50LCBlbmQpIHtcbiAgICAgICAgdmFyIGVfNCwgX2E7XG4gICAgICAgIGlmIChlbmQgPT09IHZvaWQgMCkgeyBlbmQgPSBNYXRoSXRlbV9qc18xLlNUQVRFLkxBU1Q7IH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5pdGVtcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnByaW9yaXR5ID4gZW5kKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uaXRlbS5jb252ZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLml0ZW0ucmVuZGVyTWF0aChtYXRoLCBkb2N1bWVudCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzRfMSkgeyBlXzQgPSB7IGVycm9yOiBlXzRfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNCkgdGhyb3cgZV80LmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlbmRlckxpc3QucHJvdG90eXBlLmZpbmRJRCA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgZV81LCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5pdGVtcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLml0ZW0uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLml0ZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gUmVuZGVyTGlzdDtcbn0oUHJpb3JpdGl6ZWRMaXN0X2pzXzEuUHJpb3JpdGl6ZWRMaXN0KSk7XG5leHBvcnRzLlJlbmRlckxpc3QgPSBSZW5kZXJMaXN0O1xudmFyIERlZmF1bHRJbnB1dEpheCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlZmF1bHRJbnB1dEpheCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWZhdWx0SW5wdXRKYXgoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgRGVmYXVsdElucHV0SmF4LnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24gKF9tYXRoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIERlZmF1bHRJbnB1dEpheDtcbn0oSW5wdXRKYXhfanNfMS5BYnN0cmFjdElucHV0SmF4KSk7XG52YXIgRGVmYXVsdE91dHB1dEpheCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlZmF1bHRPdXRwdXRKYXgsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVmYXVsdE91dHB1dEpheCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBEZWZhdWx0T3V0cHV0SmF4LnByb3RvdHlwZS50eXBlc2V0ID0gZnVuY3Rpb24gKF9tYXRoLCBfZG9jdW1lbnQpIHtcbiAgICAgICAgaWYgKF9kb2N1bWVudCA9PT0gdm9pZCAwKSB7IF9kb2N1bWVudCA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBEZWZhdWx0T3V0cHV0SmF4LnByb3RvdHlwZS5lc2NhcGVkID0gZnVuY3Rpb24gKF9tYXRoLCBfZG9jdW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gRGVmYXVsdE91dHB1dEpheDtcbn0oT3V0cHV0SmF4X2pzXzEuQWJzdHJhY3RPdXRwdXRKYXgpKTtcbnZhciBEZWZhdWx0TWF0aExpc3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEZWZhdWx0TWF0aExpc3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVmYXVsdE1hdGhMaXN0KCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBEZWZhdWx0TWF0aExpc3Q7XG59KE1hdGhMaXN0X2pzXzEuQWJzdHJhY3RNYXRoTGlzdCkpO1xudmFyIERlZmF1bHRNYXRoSXRlbSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlZmF1bHRNYXRoSXRlbSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWZhdWx0TWF0aEl0ZW0oKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIERlZmF1bHRNYXRoSXRlbTtcbn0oTWF0aEl0ZW1fanNfMS5BYnN0cmFjdE1hdGhJdGVtKSk7XG52YXIgQWJzdHJhY3RNYXRoRG9jdW1lbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0TWF0aERvY3VtZW50KGRvY3VtZW50LCBhZGFwdG9yLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBDTEFTUyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT3B0aW9uc19qc18xLnVzZXJPcHRpb25zKE9wdGlvbnNfanNfMS5kZWZhdWx0T3B0aW9ucyh7fSwgQ0xBU1MuT1BUSU9OUyksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm1hdGggPSBuZXcgKHRoaXMub3B0aW9uc1snTWF0aExpc3QnXSB8fCBEZWZhdWx0TWF0aExpc3QpKCk7XG4gICAgICAgIHRoaXMucmVuZGVyQWN0aW9ucyA9IFJlbmRlckxpc3QuY3JlYXRlKHRoaXMub3B0aW9uc1sncmVuZGVyQWN0aW9ucyddKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzZWQgPSBuZXcgQWJzdHJhY3RNYXRoRG9jdW1lbnQuUHJvY2Vzc0JpdHMoKTtcbiAgICAgICAgdGhpcy5vdXRwdXRKYXggPSB0aGlzLm9wdGlvbnNbJ091dHB1dEpheCddIHx8IG5ldyBEZWZhdWx0T3V0cHV0SmF4KCk7XG4gICAgICAgIHZhciBpbnB1dEpheCA9IHRoaXMub3B0aW9uc1snSW5wdXRKYXgnXSB8fCBbbmV3IERlZmF1bHRJbnB1dEpheCgpXTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0SmF4KSkge1xuICAgICAgICAgICAgaW5wdXRKYXggPSBbaW5wdXRKYXhdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5wdXRKYXggPSBpbnB1dEpheDtcbiAgICAgICAgdGhpcy5hZGFwdG9yID0gYWRhcHRvcjtcbiAgICAgICAgdGhpcy5vdXRwdXRKYXguc2V0QWRhcHRvcihhZGFwdG9yKTtcbiAgICAgICAgdGhpcy5pbnB1dEpheC5tYXAoZnVuY3Rpb24gKGpheCkgeyByZXR1cm4gamF4LnNldEFkYXB0b3IoYWRhcHRvcik7IH0pO1xuICAgICAgICB0aGlzLm1tbEZhY3RvcnkgPSB0aGlzLm9wdGlvbnNbJ01tbEZhY3RvcnknXSB8fCBuZXcgTW1sRmFjdG9yeV9qc18xLk1tbEZhY3RvcnkoKTtcbiAgICAgICAgdGhpcy5pbnB1dEpheC5tYXAoZnVuY3Rpb24gKGpheCkgeyByZXR1cm4gamF4LnNldE1tbEZhY3RvcnkoX3RoaXMubW1sRmFjdG9yeSk7IH0pO1xuICAgICAgICB0aGlzLm91dHB1dEpheC5pbml0aWFsaXplKCk7XG4gICAgICAgIHRoaXMuaW5wdXRKYXgubWFwKGZ1bmN0aW9uIChqYXgpIHsgcmV0dXJuIGpheC5pbml0aWFsaXplKCk7IH0pO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQWJzdHJhY3RNYXRoRG9jdW1lbnQucHJvdG90eXBlLCBcImtpbmRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLktJTkQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBBYnN0cmFjdE1hdGhEb2N1bWVudC5wcm90b3R5cGUuYWRkUmVuZGVyQWN0aW9uID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHZhciBhY3Rpb24gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFjdGlvbltfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBfX3JlYWQoUmVuZGVyTGlzdC5hY3Rpb24oaWQsIGFjdGlvbiksIDIpLCBmbiA9IF9hWzBdLCBwID0gX2FbMV07XG4gICAgICAgIHRoaXMucmVuZGVyQWN0aW9ucy5hZGQoZm4sIHApO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXRoRG9jdW1lbnQucHJvdG90eXBlLnJlbW92ZVJlbmRlckFjdGlvbiA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICB2YXIgYWN0aW9uID0gdGhpcy5yZW5kZXJBY3Rpb25zLmZpbmRJRChpZCk7XG4gICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWN0aW9ucy5yZW1vdmUoYWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RNYXRoRG9jdW1lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJBY3Rpb25zLnJlbmRlckRvYyh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hdGhEb2N1bWVudC5wcm90b3R5cGUucmVyZW5kZXIgPSBmdW5jdGlvbiAoc3RhcnQpIHtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSB2b2lkIDApIHsgc3RhcnQgPSBNYXRoSXRlbV9qc18xLlNUQVRFLlJFUkVOREVSOyB9XG4gICAgICAgIHRoaXMuc3RhdGUoc3RhcnQgLSAxKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hdGhEb2N1bWVudC5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uIChtYXRoLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBfYSA9IE9wdGlvbnNfanNfMS51c2VyT3B0aW9ucyh7XG4gICAgICAgICAgICBmb3JtYXQ6IHRoaXMuaW5wdXRKYXhbMF0ubmFtZSwgZGlzcGxheTogdHJ1ZSwgZW5kOiBNYXRoSXRlbV9qc18xLlNUQVRFLkxBU1QsXG4gICAgICAgICAgICBlbTogMTYsIGV4OiA4LCBjb250YWluZXJXaWR0aDogbnVsbCwgbGluZVdpZHRoOiAxMDAwMDAwLCBzY2FsZTogMSwgZmFtaWx5OiAnJ1xuICAgICAgICB9LCBvcHRpb25zKSwgZm9ybWF0ID0gX2EuZm9ybWF0LCBkaXNwbGF5ID0gX2EuZGlzcGxheSwgZW5kID0gX2EuZW5kLCBleCA9IF9hLmV4LCBlbSA9IF9hLmVtLCBjb250YWluZXJXaWR0aCA9IF9hLmNvbnRhaW5lcldpZHRoLCBsaW5lV2lkdGggPSBfYS5saW5lV2lkdGgsIHNjYWxlID0gX2Euc2NhbGUsIGZhbWlseSA9IF9hLmZhbWlseTtcbiAgICAgICAgaWYgKGNvbnRhaW5lcldpZHRoID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250YWluZXJXaWR0aCA9IDgwICogZXg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGpheCA9IHRoaXMuaW5wdXRKYXgucmVkdWNlKGZ1bmN0aW9uIChqYXgsIGlqYXgpIHsgcmV0dXJuIChpamF4Lm5hbWUgPT09IGZvcm1hdCA/IGlqYXggOiBqYXgpOyB9LCBudWxsKTtcbiAgICAgICAgdmFyIG1pdGVtID0gbmV3IHRoaXMub3B0aW9ucy5NYXRoSXRlbShtYXRoLCBqYXgsIGRpc3BsYXkpO1xuICAgICAgICBtaXRlbS5zdGFydC5ub2RlID0gdGhpcy5hZGFwdG9yLmJvZHkodGhpcy5kb2N1bWVudCk7XG4gICAgICAgIG1pdGVtLnNldE1ldHJpY3MoZW0sIGV4LCBjb250YWluZXJXaWR0aCwgbGluZVdpZHRoLCBzY2FsZSk7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dEpheC5vcHRpb25zLm10ZXh0SW5oZXJpdEZvbnQpIHtcbiAgICAgICAgICAgIG1pdGVtLm91dHB1dERhdGEubXRleHRGYW1pbHkgPSBmYW1pbHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3V0cHV0SmF4Lm9wdGlvbnMubWVycm9ySW5oZXJpdEZvbnQpIHtcbiAgICAgICAgICAgIG1pdGVtLm91dHB1dERhdGEubWVycm9yRmFtaWx5ID0gZmFtaWx5O1xuICAgICAgICB9XG4gICAgICAgIG1pdGVtLmNvbnZlcnQodGhpcywgZW5kKTtcbiAgICAgICAgcmV0dXJuIChtaXRlbS50eXBlc2V0Um9vdCB8fCBtaXRlbS5yb290KTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWF0aERvY3VtZW50LnByb3RvdHlwZS5maW5kTWF0aCA9IGZ1bmN0aW9uIChfb3B0aW9ucykge1xuICAgICAgICBpZiAoX29wdGlvbnMgPT09IHZvaWQgMCkgeyBfb3B0aW9ucyA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5wcm9jZXNzZWQuc2V0KCdmaW5kTWF0aCcpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFic3RyYWN0TWF0aERvY3VtZW50LnByb3RvdHlwZS5jb21waWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV82LCBfYSwgZV83LCBfYjtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NlZC5pc1NldCgnY29tcGlsZScpKSB7XG4gICAgICAgICAgICB2YXIgcmVjb21waWxlID0gW107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5tYXRoKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0aCA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBpbGVNYXRoKG1hdGgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0aC5pbnB1dERhdGEucmVjb21waWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29tcGlsZS5wdXNoKG1hdGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfNl8xKSB7IGVfNiA9IHsgZXJyb3I6IGVfNl8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzYpIHRocm93IGVfNi5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciByZWNvbXBpbGVfMSA9IF9fdmFsdWVzKHJlY29tcGlsZSksIHJlY29tcGlsZV8xXzEgPSByZWNvbXBpbGVfMS5uZXh0KCk7ICFyZWNvbXBpbGVfMV8xLmRvbmU7IHJlY29tcGlsZV8xXzEgPSByZWNvbXBpbGVfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGggPSByZWNvbXBpbGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IG1hdGguaW5wdXREYXRhLnJlY29tcGlsZTtcbiAgICAgICAgICAgICAgICAgICAgbWF0aC5zdGF0ZShkYXRhLnN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgbWF0aC5pbnB1dERhdGEucmVjb21waWxlID0gZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21waWxlTWF0aChtYXRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV83XzEpIHsgZV83ID0geyBlcnJvcjogZV83XzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY29tcGlsZV8xXzEgJiYgIXJlY29tcGlsZV8xXzEuZG9uZSAmJiAoX2IgPSByZWNvbXBpbGVfMS5yZXR1cm4pKSBfYi5jYWxsKHJlY29tcGlsZV8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzcpIHRocm93IGVfNy5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzZWQuc2V0KCdjb21waWxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hdGhEb2N1bWVudC5wcm90b3R5cGUuY29tcGlsZU1hdGggPSBmdW5jdGlvbiAobWF0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbWF0aC5jb21waWxlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIucmV0cnkgfHwgZXJyLnJlc3RhcnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNbJ2NvbXBpbGVFcnJvciddKHRoaXMsIG1hdGgsIGVycik7XG4gICAgICAgICAgICBtYXRoLmlucHV0RGF0YVsnZXJyb3InXSA9IGVycjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQWJzdHJhY3RNYXRoRG9jdW1lbnQucHJvdG90eXBlLmNvbXBpbGVFcnJvciA9IGZ1bmN0aW9uIChtYXRoLCBlcnIpIHtcbiAgICAgICAgbWF0aC5yb290ID0gdGhpcy5tbWxGYWN0b3J5LmNyZWF0ZSgnbWF0aCcsIG51bGwsIFtcbiAgICAgICAgICAgIHRoaXMubW1sRmFjdG9yeS5jcmVhdGUoJ21lcnJvcicsIHsgJ2RhdGEtbWp4LWVycm9yJzogZXJyLm1lc3NhZ2UsIHRpdGxlOiBlcnIubWVzc2FnZSB9LCBbXG4gICAgICAgICAgICAgICAgdGhpcy5tbWxGYWN0b3J5LmNyZWF0ZSgnbXRleHQnLCBudWxsLCBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW1sRmFjdG9yeS5jcmVhdGUoJ3RleHQnKS5zZXRUZXh0KCdNYXRoIGlucHV0IGVycm9yJylcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgXSk7XG4gICAgICAgIGlmIChtYXRoLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIG1hdGgucm9vdC5hdHRyaWJ1dGVzLnNldCgnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICB9XG4gICAgICAgIG1hdGguaW5wdXREYXRhLmVycm9yID0gZXJyLm1lc3NhZ2U7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hdGhEb2N1bWVudC5wcm90b3R5cGUudHlwZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfOCwgX2E7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzZWQuaXNTZXQoJ3R5cGVzZXQnKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMubWF0aCksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGggPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGgudHlwZXNldCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLnJldHJ5IHx8IGVyci5yZXN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zWyd0eXBlc2V0RXJyb3InXSh0aGlzLCBtYXRoLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0aC5vdXRwdXREYXRhWydlcnJvciddID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfOF8xKSB7IGVfOCA9IHsgZXJyb3I6IGVfOF8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzgpIHRocm93IGVfOC5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzZWQuc2V0KCd0eXBlc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hdGhEb2N1bWVudC5wcm90b3R5cGUudHlwZXNldEVycm9yID0gZnVuY3Rpb24gKG1hdGgsIGVycikge1xuICAgICAgICBtYXRoLnR5cGVzZXRSb290ID0gdGhpcy5hZGFwdG9yLm5vZGUoJ21qeC1jb250YWluZXInLCB7XG4gICAgICAgICAgICBjbGFzczogJ01hdGhKYXggbWp4LW91dHB1dC1lcnJvcicsXG4gICAgICAgICAgICBqYXg6IHRoaXMub3V0cHV0SmF4Lm5hbWUsXG4gICAgICAgIH0sIFtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRvci5ub2RlKCdzcGFuJywge1xuICAgICAgICAgICAgICAgICdkYXRhLW1qeC1lcnJvcic6IGVyci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBlcnIubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3JlZCcsXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJ3llbGxvdycsXG4gICAgICAgICAgICAgICAgICAgICdsaW5lLWhlaWdodCc6ICdub3JtYWwnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW1xuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRvci50ZXh0KCdNYXRoIG91dHB1dCBlcnJvcicpXG4gICAgICAgICAgICBdKVxuICAgICAgICBdKTtcbiAgICAgICAgaWYgKG1hdGguZGlzcGxheSkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdG9yLnNldEF0dHJpYnV0ZXMobWF0aC50eXBlc2V0Um9vdCwge1xuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzFlbSAwJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtYWxpZ24nOiAnY2VudGVyJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIG1hdGgub3V0cHV0RGF0YS5lcnJvciA9IGVyci5tZXNzYWdlO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXRoRG9jdW1lbnQucHJvdG90eXBlLmdldE1ldHJpY3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9jZXNzZWQuaXNTZXQoJ2dldE1ldHJpY3MnKSkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRKYXguZ2V0TWV0cmljcyh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2VkLnNldCgnZ2V0TWV0cmljcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXRoRG9jdW1lbnQucHJvdG90eXBlLnVwZGF0ZURvY3VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV85LCBfYTtcbiAgICAgICAgaWYgKCF0aGlzLnByb2Nlc3NlZC5pc1NldCgndXBkYXRlRG9jdW1lbnQnKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMubWF0aC5yZXZlcnNlZCgpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0aCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBtYXRoLnVwZGF0ZURvY3VtZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzlfMSkgeyBlXzkgPSB7IGVycm9yOiBlXzlfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV85KSB0aHJvdyBlXzkuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2VkLnNldCgndXBkYXRlRG9jdW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFic3RyYWN0TWF0aERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVGcm9tRG9jdW1lbnQgPSBmdW5jdGlvbiAoX3Jlc3RvcmUpIHtcbiAgICAgICAgaWYgKF9yZXN0b3JlID09PSB2b2lkIDApIHsgX3Jlc3RvcmUgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFic3RyYWN0TWF0aERvY3VtZW50LnByb3RvdHlwZS5zdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgcmVzdG9yZSkge1xuICAgICAgICB2YXIgZV8xMCwgX2E7XG4gICAgICAgIGlmIChyZXN0b3JlID09PSB2b2lkIDApIHsgcmVzdG9yZSA9IGZhbHNlOyB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMubWF0aCksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0aCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIG1hdGguc3RhdGUoc3RhdGUsIHJlc3RvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzEwXzEpIHsgZV8xMCA9IHsgZXJyb3I6IGVfMTBfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMTApIHRocm93IGVfMTAuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUgPCBNYXRoSXRlbV9qc18xLlNUQVRFLklOU0VSVEVEKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NlZC5jbGVhcigndXBkYXRlRG9jdW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUgPCBNYXRoSXRlbV9qc18xLlNUQVRFLlRZUEVTRVQpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2VkLmNsZWFyKCd0eXBlc2V0Jyk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NlZC5jbGVhcignZ2V0TWV0cmljcycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZSA8IE1hdGhJdGVtX2pzXzEuU1RBVEUuQ09NUElMRUQpIHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2VkLmNsZWFyKCdjb21waWxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBYnN0cmFjdE1hdGhEb2N1bWVudC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJvY2Vzc2VkLnJlc2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXRoRG9jdW1lbnQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMubWF0aC5jbGVhcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFic3RyYWN0TWF0aERvY3VtZW50LnByb3RvdHlwZS5jb25jYXQgPSBmdW5jdGlvbiAobGlzdCkge1xuICAgICAgICB0aGlzLm1hdGgubWVyZ2UobGlzdCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXRoRG9jdW1lbnQucHJvdG90eXBlLmNsZWFyTWF0aEl0ZW1zV2l0aGluID0gZnVuY3Rpb24gKGNvbnRhaW5lcnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLm1hdGgpLnJlbW92ZS5hcHBseShfYSwgX19zcHJlYWQodGhpcy5nZXRNYXRoSXRlbXNXaXRoaW4oY29udGFpbmVycykpKTtcbiAgICB9O1xuICAgIEFic3RyYWN0TWF0aERvY3VtZW50LnByb3RvdHlwZS5nZXRNYXRoSXRlbXNXaXRoaW4gPSBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIGVfMTEsIF9hLCBlXzEyLCBfYjtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVsZW1lbnRzKSkge1xuICAgICAgICAgICAgZWxlbWVudHMgPSBbZWxlbWVudHNdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhZGFwdG9yID0gdGhpcy5hZGFwdG9yO1xuICAgICAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICAgICAgdmFyIGNvbnRhaW5lcnMgPSBhZGFwdG9yLmdldEVsZW1lbnRzKGVsZW1lbnRzLCB0aGlzLmRvY3VtZW50KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIElURU1TOiBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHRoaXMubWF0aCksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGNvbnRhaW5lcnNfMSA9IChlXzEyID0gdm9pZCAwLCBfX3ZhbHVlcyhjb250YWluZXJzKSksIGNvbnRhaW5lcnNfMV8xID0gY29udGFpbmVyc18xLm5leHQoKTsgIWNvbnRhaW5lcnNfMV8xLmRvbmU7IGNvbnRhaW5lcnNfMV8xID0gY29udGFpbmVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNvbnRhaW5lcnNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3RhcnQubm9kZSAmJiBhZGFwdG9yLmNvbnRhaW5zKGNvbnRhaW5lciwgaXRlbS5zdGFydC5ub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUgSVRFTVM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfMTJfMSkgeyBlXzEyID0geyBlcnJvcjogZV8xMl8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJzXzFfMSAmJiAhY29udGFpbmVyc18xXzEuZG9uZSAmJiAoX2IgPSBjb250YWluZXJzXzEucmV0dXJuKSkgX2IuY2FsbChjb250YWluZXJzXzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xMikgdGhyb3cgZV8xMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xMV8xKSB7IGVfMTEgPSB7IGVycm9yOiBlXzExXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzExKSB0aHJvdyBlXzExLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH07XG4gICAgQWJzdHJhY3RNYXRoRG9jdW1lbnQuS0lORCA9ICdNYXRoRG9jdW1lbnQnO1xuICAgIEFic3RyYWN0TWF0aERvY3VtZW50Lk9QVElPTlMgPSB7XG4gICAgICAgIE91dHB1dEpheDogbnVsbCxcbiAgICAgICAgSW5wdXRKYXg6IG51bGwsXG4gICAgICAgIE1tbEZhY3Rvcnk6IG51bGwsXG4gICAgICAgIE1hdGhMaXN0OiBEZWZhdWx0TWF0aExpc3QsXG4gICAgICAgIE1hdGhJdGVtOiBEZWZhdWx0TWF0aEl0ZW0sXG4gICAgICAgIGNvbXBpbGVFcnJvcjogZnVuY3Rpb24gKGRvYywgbWF0aCwgZXJyKSB7XG4gICAgICAgICAgICBkb2MuY29tcGlsZUVycm9yKG1hdGgsIGVycik7XG4gICAgICAgIH0sXG4gICAgICAgIHR5cGVzZXRFcnJvcjogZnVuY3Rpb24gKGRvYywgbWF0aCwgZXJyKSB7XG4gICAgICAgICAgICBkb2MudHlwZXNldEVycm9yKG1hdGgsIGVycik7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlckFjdGlvbnM6IE9wdGlvbnNfanNfMS5leHBhbmRhYmxlKHtcbiAgICAgICAgICAgIGZpbmQ6IFtNYXRoSXRlbV9qc18xLlNUQVRFLkZJTkRNQVRILCAnZmluZE1hdGgnLCAnJywgZmFsc2VdLFxuICAgICAgICAgICAgY29tcGlsZTogW01hdGhJdGVtX2pzXzEuU1RBVEUuQ09NUElMRURdLFxuICAgICAgICAgICAgbWV0cmljczogW01hdGhJdGVtX2pzXzEuU1RBVEUuTUVUUklDUywgJ2dldE1ldHJpY3MnLCAnJywgZmFsc2VdLFxuICAgICAgICAgICAgdHlwZXNldDogW01hdGhJdGVtX2pzXzEuU1RBVEUuVFlQRVNFVF0sXG4gICAgICAgICAgICB1cGRhdGU6IFtNYXRoSXRlbV9qc18xLlNUQVRFLklOU0VSVEVELCAndXBkYXRlRG9jdW1lbnQnLCBmYWxzZV1cbiAgICAgICAgfSlcbiAgICB9O1xuICAgIEFic3RyYWN0TWF0aERvY3VtZW50LlByb2Nlc3NCaXRzID0gQml0RmllbGRfanNfMS5CaXRGaWVsZENsYXNzKCdmaW5kTWF0aCcsICdjb21waWxlJywgJ2dldE1ldHJpY3MnLCAndHlwZXNldCcsICd1cGRhdGVEb2N1bWVudCcpO1xuICAgIHJldHVybiBBYnN0cmFjdE1hdGhEb2N1bWVudDtcbn0oKSk7XG5leHBvcnRzLkFic3RyYWN0TWF0aERvY3VtZW50ID0gQWJzdHJhY3RNYXRoRG9jdW1lbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRoRG9jdW1lbnQuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==