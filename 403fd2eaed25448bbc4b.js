(self.webpackChunkvht11=self.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\mathjax-full\\js\\adaptors\\liteAdaptor"],{"./node_modules/mathjax-full/js/adaptors/liteAdaptor.js":function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.liteAdaptor=e.LiteAdaptor=void 0;var a=n("./node_modules/mathjax-full/js/core/DOMAdaptor.js"),p=n("./node_modules/mathjax-full/js/adaptors/lite/Document.js"),c=n("./node_modules/mathjax-full/js/adaptors/lite/Element.js"),d=n("./node_modules/mathjax-full/js/adaptors/lite/Text.js"),f=n("./node_modules/mathjax-full/js/adaptors/lite/Window.js"),h=n("./node_modules/mathjax-full/js/adaptors/lite/Parser.js"),y=n("./node_modules/mathjax-full/js/util/Styles.js"),v=n("./node_modules/mathjax-full/js/util/Options.js"),m=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this,r=n.constructor;return n.options=v.userOptions(v.defaultOptions({},r.OPTIONS),e),n.parser=new h.LiteParser,n.window=new f.LiteWindow,n}return o(e,t),e.prototype.parse=function(t,e){return this.parser.parseFromString(t,e,this)},e.prototype.create=function(t,e){return void 0===e&&(e=null),new c.LiteElement(t)},e.prototype.text=function(t){return new d.LiteText(t)},e.prototype.comment=function(t){return new d.LiteComment(t)},e.prototype.createDocument=function(){return new p.LiteDocument},e.prototype.head=function(t){return t.head},e.prototype.body=function(t){return t.body},e.prototype.root=function(t){return t.root},e.prototype.doctype=function(t){return t.type},e.prototype.tags=function(t,e,n){void 0===n&&(n=null);var r=[],o=[];if(n)return o;for(var i=t;i;){var u=i.kind;"#text"!==u&&"#comment"!==u&&(i=i,u===e&&o.push(i),i.children.length&&(r=i.children.concat(r))),i=r.shift()}return o},e.prototype.elementById=function(t,e){for(var n=[],r=t;r;){if("#text"!==r.kind&&"#comment"!==r.kind){if((r=r).attributes.id===e)return r;r.children.length&&(n=r.children.concat(n))}r=n.shift()}return null},e.prototype.elementsByClass=function(t,e){for(var n=[],r=[],o=t;o;){if("#text"!==o.kind&&"#comment"!==o.kind)((o=o).attributes.class||"").trim().split(/ +/).includes(e)&&r.push(o),o.children.length&&(n=o.children.concat(n));o=n.shift()}return r},e.prototype.getElements=function(t,e){var n,r,o=[],i=this.body(e);try{for(var l=u(t),s=l.next();!s.done;s=l.next()){var a=s.value;if("string"==typeof a)if("#"===a.charAt(0)){var p=this.elementById(i,a.slice(1));p&&o.push(p)}else"."===a.charAt(0)?o=o.concat(this.elementsByClass(i,a.slice(1))):a.match(/^[-a-z][-a-z0-9]*$/i)&&(o=o.concat(this.tags(i,a)));else Array.isArray(a)?o=o.concat(a):a instanceof this.window.NodeList||a instanceof this.window.HTMLCollection?o=o.concat(a.nodes):o.push(a)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return o},e.prototype.contains=function(t,e){for(;e&&e!==t;)e=this.parent(e);return!!e},e.prototype.parent=function(t){return t.parent},e.prototype.childIndex=function(t){return t.parent?t.parent.children.findIndex((function(e){return e===t})):-1},e.prototype.append=function(t,e){return e.parent&&this.remove(e),t.children.push(e),e.parent=t,e},e.prototype.insert=function(t,e){if(t.parent&&this.remove(t),e&&e.parent){var n=this.childIndex(e);e.parent.children.splice(n,0,t),t.parent=e.parent}},e.prototype.remove=function(t){var e=this.childIndex(t);return e>=0&&t.parent.children.splice(e,1),t.parent=null,t},e.prototype.replace=function(t,e){var n=this.childIndex(e);return n>=0&&(e.parent.children[n]=t,t.parent=e.parent,e.parent=null),e},e.prototype.clone=function(t){var e=this,n=new c.LiteElement(t.kind);return n.attributes=i({},t.attributes),n.children=t.children.map((function(t){if("#text"===t.kind)return new d.LiteText(t.value);if("#comment"===t.kind)return new d.LiteComment(t.value);var r=e.clone(t);return r.parent=n,r})),n},e.prototype.split=function(t,e){var n=new d.LiteText(t.value.slice(e));return t.value=t.value.slice(0,e),t.parent.children.splice(this.childIndex(t)+1,0,n),n.parent=t.parent,n},e.prototype.next=function(t){var e=t.parent;if(!e)return null;var n=this.childIndex(t)+1;return n>=0&&n<e.children.length?e.children[n]:null},e.prototype.previous=function(t){var e=t.parent;if(!e)return null;var n=this.childIndex(t)-1;return n>=0?e.children[n]:null},e.prototype.firstChild=function(t){return t.children[0]},e.prototype.lastChild=function(t){return t.children[t.children.length-1]},e.prototype.childNodes=function(t){return s(t.children)},e.prototype.childNode=function(t,e){return t.children[e]},e.prototype.kind=function(t){return t.kind},e.prototype.value=function(t){return"#text"===t.kind?t.value:"#comment"===t.kind?t.value.replace(/^<!(--)?((?:.|\n)*)\1>$/,"$2"):""},e.prototype.textContent=function(t){var e=this;return t.children.reduce((function(t,n){return t+("#text"===n.kind?n.value:"#comment"===n.kind?"":e.textContent(n))}),"")},e.prototype.innerHTML=function(t){return this.parser.serializeInner(this,t)},e.prototype.outerHTML=function(t){return this.parser.serialize(this,t)},e.prototype.setAttribute=function(t,e,n,r){void 0===r&&(r=null),"string"!=typeof n&&(n=String(n)),r&&(e=r.replace(/.*\//,"")+":"+e.replace(/^.*:/,"")),t.attributes[e]=n,"style"===e&&(t.styles=null)},e.prototype.getAttribute=function(t,e){return t.attributes[e]},e.prototype.removeAttribute=function(t,e){delete t.attributes[e]},e.prototype.hasAttribute=function(t,e){return t.attributes.hasOwnProperty(e)},e.prototype.allAttributes=function(t){var e,n,r=t.attributes,o=[];try{for(var i=u(Object.keys(r)),l=i.next();!l.done;l=i.next()){var s=l.value;o.push({name:s,value:r[s]})}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o},e.prototype.addClass=function(t,e){var n=(t.attributes.class||"").split(/ /);n.find((function(t){return t===e}))||(n.push(e),t.attributes.class=n.join(" "))},e.prototype.removeClass=function(t,e){var n=(t.attributes.class||"").split(/ /),r=n.findIndex((function(t){return t===e}));r>=0&&(n.splice(r,1),t.attributes.class=n.join(" "))},e.prototype.hasClass=function(t,e){return!!(t.attributes.class||"").split(/ /).find((function(t){return t===e}))},e.prototype.setStyle=function(t,e,n){t.styles||(t.styles=new y.Styles(this.getAttribute(t,"style"))),t.styles.set(e,n),t.attributes.style=t.styles.cssText},e.prototype.getStyle=function(t,e){if(!t.styles){var n=this.getAttribute(t,"style");if(!n)return"";t.styles=new y.Styles(n)}return t.styles.get(e)},e.prototype.allStyles=function(t){return this.getAttribute(t,"style")},e.prototype.fontSize=function(t){return this.options.fontSize},e.prototype.fontFamily=function(t){return this.options.fontFamily},e.prototype.nodeSize=function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=null),[.6*this.textContent(t).length,0]},e.prototype.nodeBBox=function(t){return{left:0,right:0,top:0,bottom:0}},e.OPTIONS={fontSize:16,fontFamily:"Times"},e}(a.AbstractDOMAdaptor);e.LiteAdaptor=m,e.liteAdaptor=function(t){return void 0===t&&(t=null),new m(t)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9tYXRoamF4LWZ1bGwvanMvYWRhcHRvcnMvbGl0ZUFkYXB0b3IuanMiXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2FsbCIsImFwcGx5IiwiX192YWx1ZXMiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJtIiwibmV4dCIsInZhbHVlIiwiZG9uZSIsIlR5cGVFcnJvciIsIl9fcmVhZCIsInIiLCJlIiwiYXIiLCJwdXNoIiwiZXJyb3IiLCJfX3NwcmVhZCIsImNvbmNhdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsImxpdGVBZGFwdG9yIiwiTGl0ZUFkYXB0b3IiLCJET01BZGFwdG9yX2pzXzEiLCJEb2N1bWVudF9qc18xIiwiRWxlbWVudF9qc18xIiwiVGV4dF9qc18xIiwiV2luZG93X2pzXzEiLCJQYXJzZXJfanNfMSIsIlN0eWxlc19qc18xIiwiT3B0aW9uc19qc18xIiwiX3N1cGVyIiwib3B0aW9ucyIsIl90aGlzIiwiQ0xBU1MiLCJ1c2VyT3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiT1BUSU9OUyIsInBhcnNlciIsIkxpdGVQYXJzZXIiLCJ3aW5kb3ciLCJMaXRlV2luZG93IiwicGFyc2UiLCJ0ZXh0IiwiZm9ybWF0IiwicGFyc2VGcm9tU3RyaW5nIiwia2luZCIsIl9ucyIsIkxpdGVFbGVtZW50IiwiTGl0ZVRleHQiLCJjb21tZW50IiwiTGl0ZUNvbW1lbnQiLCJjcmVhdGVEb2N1bWVudCIsIkxpdGVEb2N1bWVudCIsImhlYWQiLCJkb2MiLCJib2R5Iiwicm9vdCIsImRvY3R5cGUiLCJ0eXBlIiwidGFncyIsIm5vZGUiLCJuYW1lIiwibnMiLCJzdGFjayIsImNoaWxkcmVuIiwic2hpZnQiLCJlbGVtZW50QnlJZCIsImlkIiwiYXR0cmlidXRlcyIsImVsZW1lbnRzQnlDbGFzcyIsInRyaW0iLCJzcGxpdCIsImluY2x1ZGVzIiwiZ2V0RWxlbWVudHMiLCJub2RlcyIsImRvY3VtZW50IiwiZV8xIiwiX2EiLCJjb250YWluZXJzIiwibm9kZXNfMSIsIm5vZGVzXzFfMSIsImNoYXJBdCIsInNsaWNlIiwibWF0Y2giLCJpc0FycmF5IiwiTm9kZUxpc3QiLCJIVE1MQ29sbGVjdGlvbiIsImVfMV8xIiwicmV0dXJuIiwiY29udGFpbnMiLCJjb250YWluZXIiLCJwYXJlbnQiLCJjaGlsZEluZGV4IiwiZmluZEluZGV4IiwiYXBwZW5kIiwiY2hpbGQiLCJyZW1vdmUiLCJpbnNlcnQiLCJuY2hpbGQiLCJvY2hpbGQiLCJzcGxpY2UiLCJyZXBsYWNlIiwibm5vZGUiLCJvbm9kZSIsImNsb25lIiwibWFwIiwicHJldmlvdXMiLCJmaXJzdENoaWxkIiwibGFzdENoaWxkIiwiY2hpbGROb2RlcyIsImNoaWxkTm9kZSIsInRleHRDb250ZW50IiwicmVkdWNlIiwiaW5uZXJIVE1MIiwic2VyaWFsaXplSW5uZXIiLCJvdXRlckhUTUwiLCJzZXJpYWxpemUiLCJzZXRBdHRyaWJ1dGUiLCJTdHJpbmciLCJzdHlsZXMiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJhbGxBdHRyaWJ1dGVzIiwiZV8yIiwibGlzdCIsIl9iIiwia2V5cyIsIl9jIiwibmFtZV8xIiwiZV8yXzEiLCJhZGRDbGFzcyIsImNsYXNzZXMiLCJmaW5kIiwiam9pbiIsInJlbW92ZUNsYXNzIiwiaGFzQ2xhc3MiLCJzZXRTdHlsZSIsIlN0eWxlcyIsInNldCIsImNzc1RleHQiLCJnZXRTdHlsZSIsInN0eWxlIiwiZ2V0IiwiYWxsU3R5bGVzIiwiZm9udFNpemUiLCJfbm9kZSIsImZvbnRGYW1pbHkiLCJub2RlU2l6ZSIsIl9lbSIsIl9sb2NhbCIsIm5vZGVCQm94IiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiQWJzdHJhY3RET01BZGFwdG9yIl0sIm1hcHBpbmdzIjoia1BBQ0EsSUFDUUEsRUFESkMsRUFBYUMsTUFBUUEsS0FBS0QsWUFDdEJELEVBQWdCLFNBQVVHLEVBQUdDLEdBSTdCLE9BSEFKLEVBQWdCSyxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0EsRUFBRU0sZUFBZUQsS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDcEROLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNPLElBQU9ULEtBQUtVLFlBQWNULEVBRG5DSCxFQUFjRyxFQUFHQyxHQUVqQkQsRUFBRVUsVUFBa0IsT0FBTlQsRUFBYUMsT0FBT1MsT0FBT1YsSUFBTU8sRUFBR0UsVUFBWVQsRUFBRVMsVUFBVyxJQUFJRixLQUduRkksRUFBWWIsTUFBUUEsS0FBS2EsVUFBYSxXQVN0QyxPQVJBQSxFQUFXVixPQUFPVyxRQUFVLFNBQVNDLEdBQ2pDLElBQUssSUFBSUMsRUFBR0MsRUFBSSxFQUFHQyxFQUFJQyxVQUFVQyxPQUFRSCxFQUFJQyxFQUFHRCxJQUU1QyxJQUFLLElBQUlWLEtBRFRTLEVBQUlHLFVBQVVGLEdBQ09kLE9BQU9RLFVBQVVILGVBQWVhLEtBQUtMLEVBQUdULEtBQ3pEUSxFQUFFUixHQUFLUyxFQUFFVCxJQUVqQixPQUFPUSxJQUVLTyxNQUFNdEIsS0FBTW1CLFlBRTVCSSxFQUFZdkIsTUFBUUEsS0FBS3VCLFVBQWEsU0FBU0MsR0FDL0MsSUFBSVIsRUFBc0IsbUJBQVhTLFFBQXlCQSxPQUFPQyxTQUFVQyxFQUFJWCxHQUFLUSxFQUFFUixHQUFJQyxFQUFJLEVBQzVFLEdBQUlVLEVBQUcsT0FB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R0FDdkMsT0FBT3hLLEtBQUtxRCxRQUFRa0gsVUFFeEI1SCxFQUFZaEMsVUFBVThKLFdBQWEsU0FBVUQsR0FDekMsT0FBT3hLLEtBQUtxRCxRQUFRb0gsWUFFeEI5SCxFQUFZaEMsVUFBVStKLFNBQVcsU0FBVXhGLEVBQU15RixFQUFLQyxHQUlsRCxZQUhZLElBQVJELElBQWtCQSxFQUFNLFFBQ2IsSUFBWEMsSUFBcUJBLEVBQVMsTUFFM0IsQ0FBQyxHQURHNUssS0FBS3FJLFlBQVluRCxHQUNWOUQsT0FBUSxJQUU5QnVCLEVBQVloQyxVQUFVa0ssU0FBVyxTQUFVTCxHQUN2QyxNQUFPLENBQUVNLEtBQU0sRUFBR0MsTUFBTyxFQUFHQyxJQUFLLEVBQUdDLE9BQVEsSUFFaER0SSxFQUFZZSxRQUFVLENBQ2xCNkcsU0FBVSxHQUNWRSxXQUFZLFNBRVQ5SCxFQXJXTyxDQXNXaEJDLEVBQWdCc0ksb0JBQ2xCekksRUFBUUUsWUFBY0EsRUFLdEJGLEVBQVFDLFlBSlIsU0FBcUJXLEdBRWpCLFlBRGdCLElBQVpBLElBQXNCQSxFQUFVLE1BQzdCLElBQUlWLEVBQVlVIiwiZmlsZSI6IjQwM2ZkMmVhZWQyNTQ0OGJiYzRiLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG52YXIgX19yZWFkID0gKHRoaXMgJiYgdGhpcy5fX3JlYWQpIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmICghbSkgcmV0dXJuIG87XG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gICAgfVxuICAgIHJldHVybiBhcjtcbn07XG52YXIgX19zcHJlYWQgPSAodGhpcyAmJiB0aGlzLl9fc3ByZWFkKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgICByZXR1cm4gYXI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5saXRlQWRhcHRvciA9IGV4cG9ydHMuTGl0ZUFkYXB0b3IgPSB2b2lkIDA7XG52YXIgRE9NQWRhcHRvcl9qc18xID0gcmVxdWlyZShcIi4uL2NvcmUvRE9NQWRhcHRvci5qc1wiKTtcbnZhciBEb2N1bWVudF9qc18xID0gcmVxdWlyZShcIi4vbGl0ZS9Eb2N1bWVudC5qc1wiKTtcbnZhciBFbGVtZW50X2pzXzEgPSByZXF1aXJlKFwiLi9saXRlL0VsZW1lbnQuanNcIik7XG52YXIgVGV4dF9qc18xID0gcmVxdWlyZShcIi4vbGl0ZS9UZXh0LmpzXCIpO1xudmFyIFdpbmRvd19qc18xID0gcmVxdWlyZShcIi4vbGl0ZS9XaW5kb3cuanNcIik7XG52YXIgUGFyc2VyX2pzXzEgPSByZXF1aXJlKFwiLi9saXRlL1BhcnNlci5qc1wiKTtcbnZhciBTdHlsZXNfanNfMSA9IHJlcXVpcmUoXCIuLi91dGlsL1N0eWxlcy5qc1wiKTtcbnZhciBPcHRpb25zX2pzXzEgPSByZXF1aXJlKFwiLi4vdXRpbC9PcHRpb25zLmpzXCIpO1xudmFyIExpdGVBZGFwdG9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTGl0ZUFkYXB0b3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTGl0ZUFkYXB0b3Iob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBDTEFTUyA9IF90aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBfdGhpcy5vcHRpb25zID0gT3B0aW9uc19qc18xLnVzZXJPcHRpb25zKE9wdGlvbnNfanNfMS5kZWZhdWx0T3B0aW9ucyh7fSwgQ0xBU1MuT1BUSU9OUyksIG9wdGlvbnMpO1xuICAgICAgICBfdGhpcy5wYXJzZXIgPSBuZXcgUGFyc2VyX2pzXzEuTGl0ZVBhcnNlcigpO1xuICAgICAgICBfdGhpcy53aW5kb3cgPSBuZXcgV2luZG93X2pzXzEuTGl0ZVdpbmRvdygpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uICh0ZXh0LCBmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCBmb3JtYXQsIHRoaXMpO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChraW5kLCBfbnMpIHtcbiAgICAgICAgaWYgKF9ucyA9PT0gdm9pZCAwKSB7IF9ucyA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBFbGVtZW50X2pzXzEuTGl0ZUVsZW1lbnQoa2luZCk7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUudGV4dCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dF9qc18xLkxpdGVUZXh0KHRleHQpO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmNvbW1lbnQgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHRfanNfMS5MaXRlQ29tbWVudCh0ZXh0KTtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5jcmVhdGVEb2N1bWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudF9qc18xLkxpdGVEb2N1bWVudCgpO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmhlYWQgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHJldHVybiBkb2MuaGVhZDtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5ib2R5ID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgICByZXR1cm4gZG9jLmJvZHk7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUucm9vdCA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgcmV0dXJuIGRvYy5yb290O1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmRvY3R5cGUgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHJldHVybiBkb2MudHlwZTtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS50YWdzID0gZnVuY3Rpb24gKG5vZGUsIG5hbWUsIG5zKSB7XG4gICAgICAgIGlmIChucyA9PT0gdm9pZCAwKSB7IG5zID0gbnVsbDsgfVxuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICAgICAgdmFyIHRhZ3MgPSBbXTtcbiAgICAgICAgaWYgKG5zKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFncztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbiA9IG5vZGU7XG4gICAgICAgIHdoaWxlIChuKSB7XG4gICAgICAgICAgICB2YXIga2luZCA9IG4ua2luZDtcbiAgICAgICAgICAgIGlmIChraW5kICE9PSAnI3RleHQnICYmIGtpbmQgIT09ICcjY29tbWVudCcpIHtcbiAgICAgICAgICAgICAgICBuID0gbjtcbiAgICAgICAgICAgICAgICBpZiAoa2luZCA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2gobik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFjayA9IG4uY2hpbGRyZW4uY29uY2F0KHN0YWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFncztcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5lbGVtZW50QnlJZCA9IGZ1bmN0aW9uIChub2RlLCBpZCkge1xuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICAgICAgdmFyIG4gPSBub2RlO1xuICAgICAgICB3aGlsZSAobikge1xuICAgICAgICAgICAgaWYgKG4ua2luZCAhPT0gJyN0ZXh0JyAmJiBuLmtpbmQgIT09ICcjY29tbWVudCcpIHtcbiAgICAgICAgICAgICAgICBuID0gbjtcbiAgICAgICAgICAgICAgICBpZiAobi5hdHRyaWJ1dGVzWydpZCddID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG4uY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gbi5jaGlsZHJlbi5jb25jYXQoc3RhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4gPSBzdGFjay5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmVsZW1lbnRzQnlDbGFzcyA9IGZ1bmN0aW9uIChub2RlLCBuYW1lKSB7XG4gICAgICAgIHZhciBzdGFjayA9IFtdO1xuICAgICAgICB2YXIgdGFncyA9IFtdO1xuICAgICAgICB2YXIgbiA9IG5vZGU7XG4gICAgICAgIHdoaWxlIChuKSB7XG4gICAgICAgICAgICBpZiAobi5raW5kICE9PSAnI3RleHQnICYmIG4ua2luZCAhPT0gJyNjb21tZW50Jykge1xuICAgICAgICAgICAgICAgIG4gPSBuO1xuICAgICAgICAgICAgICAgIHZhciBjbGFzc2VzID0gKG4uYXR0cmlidXRlc1snY2xhc3MnXSB8fCAnJykudHJpbSgpLnNwbGl0KC8gKy8pO1xuICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ3MucHVzaChuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG4uY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrID0gbi5jaGlsZHJlbi5jb25jYXQoc3RhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4gPSBzdGFjay5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YWdzO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmdldEVsZW1lbnRzID0gZnVuY3Rpb24gKG5vZGVzLCBkb2N1bWVudCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIGNvbnRhaW5lcnMgPSBbXTtcbiAgICAgICAgdmFyIGJvZHkgPSB0aGlzLmJvZHkoZG9jdW1lbnQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgbm9kZXNfMSA9IF9fdmFsdWVzKG5vZGVzKSwgbm9kZXNfMV8xID0gbm9kZXNfMS5uZXh0KCk7ICFub2Rlc18xXzEuZG9uZTsgbm9kZXNfMV8xID0gbm9kZXNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIChub2RlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdGhpcy5lbGVtZW50QnlJZChib2R5LCBub2RlLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVycy5wdXNoKG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUuY2hhckF0KDApID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnMgPSBjb250YWluZXJzLmNvbmNhdCh0aGlzLmVsZW1lbnRzQnlDbGFzcyhib2R5LCBub2RlLnNsaWNlKDEpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5tYXRjaCgvXlstYS16XVstYS16MC05XSokL2kpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzID0gY29udGFpbmVycy5jb25jYXQodGhpcy50YWdzKGJvZHksIG5vZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnMgPSBjb250YWluZXJzLmNvbmNhdChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZSBpbnN0YW5jZW9mIHRoaXMud2luZG93Lk5vZGVMaXN0IHx8IG5vZGUgaW5zdGFuY2VvZiB0aGlzLndpbmRvdy5IVE1MQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzID0gY29udGFpbmVycy5jb25jYXQobm9kZS5ub2Rlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZXNfMV8xICYmICFub2Rlc18xXzEuZG9uZSAmJiAoX2EgPSBub2Rlc18xLnJldHVybikpIF9hLmNhbGwobm9kZXNfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcnM7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBub2RlKSB7XG4gICAgICAgIHdoaWxlIChub2RlICYmIG5vZGUgIT09IGNvbnRhaW5lcikge1xuICAgICAgICAgICAgbm9kZSA9IHRoaXMucGFyZW50KG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhIW5vZGU7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUucGFyZW50ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUucGFyZW50O1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmNoaWxkSW5kZXggPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gKG5vZGUucGFyZW50ID8gbm9kZS5wYXJlbnQuY2hpbGRyZW4uZmluZEluZGV4KGZ1bmN0aW9uIChuKSB7IHJldHVybiBuID09PSBub2RlOyB9KSA6IC0xKTtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAobm9kZSwgY2hpbGQpIHtcbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG5vZGU7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAobmNoaWxkLCBvY2hpbGQpIHtcbiAgICAgICAgaWYgKG5jaGlsZC5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKG5jaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9jaGlsZCAmJiBvY2hpbGQucGFyZW50KSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuY2hpbGRJbmRleChvY2hpbGQpO1xuICAgICAgICAgICAgb2NoaWxkLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaSwgMCwgbmNoaWxkKTtcbiAgICAgICAgICAgIG5jaGlsZC5wYXJlbnQgPSBvY2hpbGQucGFyZW50O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5jaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LmNoaWxkcmVuLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIChubm9kZSwgb25vZGUpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzLmNoaWxkSW5kZXgob25vZGUpO1xuICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICBvbm9kZS5wYXJlbnQuY2hpbGRyZW5baV0gPSBubm9kZTtcbiAgICAgICAgICAgIG5ub2RlLnBhcmVudCA9IG9ub2RlLnBhcmVudDtcbiAgICAgICAgICAgIG9ub2RlLnBhcmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9ub2RlO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5ub2RlID0gbmV3IEVsZW1lbnRfanNfMS5MaXRlRWxlbWVudChub2RlLmtpbmQpO1xuICAgICAgICBubm9kZS5hdHRyaWJ1dGVzID0gX19hc3NpZ24oe30sIG5vZGUuYXR0cmlidXRlcyk7XG4gICAgICAgIG5ub2RlLmNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIGlmIChuLmtpbmQgPT09ICcjdGV4dCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRleHRfanNfMS5MaXRlVGV4dChuLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG4ua2luZCA9PT0gJyNjb21tZW50Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dF9qc18xLkxpdGVDb21tZW50KG4udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG0gPSBfdGhpcy5jbG9uZShuKTtcbiAgICAgICAgICAgICAgICBtLnBhcmVudCA9IG5ub2RlO1xuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ub2RlO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24gKG5vZGUsIG4pIHtcbiAgICAgICAgdmFyIHRleHQgPSBuZXcgVGV4dF9qc18xLkxpdGVUZXh0KG5vZGUudmFsdWUuc2xpY2UobikpO1xuICAgICAgICBub2RlLnZhbHVlID0gbm9kZS52YWx1ZS5zbGljZSgwLCBuKTtcbiAgICAgICAgbm9kZS5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHRoaXMuY2hpbGRJbmRleChub2RlKSArIDEsIDAsIHRleHQpO1xuICAgICAgICB0ZXh0LnBhcmVudCA9IG5vZGUucGFyZW50O1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50O1xuICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB2YXIgaSA9IHRoaXMuY2hpbGRJbmRleChub2RlKSArIDE7XG4gICAgICAgIHJldHVybiAoaSA+PSAwICYmIGkgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoID8gcGFyZW50LmNoaWxkcmVuW2ldIDogbnVsbCk7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUucHJldmlvdXMgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBpID0gdGhpcy5jaGlsZEluZGV4KG5vZGUpIC0gMTtcbiAgICAgICAgcmV0dXJuIChpID49IDAgPyBwYXJlbnQuY2hpbGRyZW5baV0gOiBudWxsKTtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5maXJzdENoaWxkID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGRyZW5bMF07XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUubGFzdENoaWxkID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGRyZW5bbm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5jaGlsZE5vZGVzID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIF9fc3ByZWFkKG5vZGUuY2hpbGRyZW4pO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmNoaWxkTm9kZSA9IGZ1bmN0aW9uIChub2RlLCBpKSB7XG4gICAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuW2ldO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmtpbmQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gbm9kZS5raW5kO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIChub2RlLmtpbmQgPT09ICcjdGV4dCcgPyBub2RlLnZhbHVlIDpcbiAgICAgICAgICAgIG5vZGUua2luZCA9PT0gJyNjb21tZW50JyA/IG5vZGUudmFsdWUucmVwbGFjZSgvXjwhKC0tKT8oKD86LnxcXG4pKilcXDE+JC8sICckMicpIDogJycpO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLnRleHRDb250ZW50ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGRyZW4ucmVkdWNlKGZ1bmN0aW9uIChzLCBuKSB7XG4gICAgICAgICAgICByZXR1cm4gcyArIChuLmtpbmQgPT09ICcjdGV4dCcgPyBuLnZhbHVlIDpcbiAgICAgICAgICAgICAgICBuLmtpbmQgPT09ICcjY29tbWVudCcgPyAnJyA6IF90aGlzLnRleHRDb250ZW50KG4pKTtcbiAgICAgICAgfSwgJycpO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmlubmVySFRNTCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlci5zZXJpYWxpemVJbm5lcih0aGlzLCBub2RlKTtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5vdXRlckhUTUwgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIuc2VyaWFsaXplKHRoaXMsIG5vZGUpO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLnNldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChub2RlLCBuYW1lLCB2YWx1ZSwgbnMpIHtcbiAgICAgICAgaWYgKG5zID09PSB2b2lkIDApIHsgbnMgPSBudWxsOyB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5zKSB7XG4gICAgICAgICAgICBuYW1lID0gbnMucmVwbGFjZSgvLipcXC8vLCAnJykgKyAnOicgKyBuYW1lLnJlcGxhY2UoL14uKjovLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5hdHRyaWJ1dGVzW25hbWVdID0gdmFsdWU7XG4gICAgICAgIGlmIChuYW1lID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICBub2RlLnN0eWxlcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobm9kZSwgbmFtZSkge1xuICAgICAgICByZXR1cm4gbm9kZS5hdHRyaWJ1dGVzW25hbWVdO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChub2RlLCBuYW1lKSB7XG4gICAgICAgIGRlbGV0ZSBub2RlLmF0dHJpYnV0ZXNbbmFtZV07XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUuaGFzQXR0cmlidXRlID0gZnVuY3Rpb24gKG5vZGUsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5hbGxBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZV8xID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHsgbmFtZTogbmFtZV8xLCB2YWx1ZTogYXR0cmlidXRlc1tuYW1lXzFdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUuYWRkQ2xhc3MgPSBmdW5jdGlvbiAobm9kZSwgbmFtZSkge1xuICAgICAgICB2YXIgY2xhc3NlcyA9IChub2RlLmF0dHJpYnV0ZXNbJ2NsYXNzJ10gfHwgJycpLnNwbGl0KC8gLyk7XG4gICAgICAgIGlmICghY2xhc3Nlcy5maW5kKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuID09PSBuYW1lOyB9KSkge1xuICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKG5hbWUpO1xuICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydjbGFzcyddID0gY2xhc3Nlcy5qb2luKCcgJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5yZW1vdmVDbGFzcyA9IGZ1bmN0aW9uIChub2RlLCBuYW1lKSB7XG4gICAgICAgIHZhciBjbGFzc2VzID0gKG5vZGUuYXR0cmlidXRlc1snY2xhc3MnXSB8fCAnJykuc3BsaXQoLyAvKTtcbiAgICAgICAgdmFyIGkgPSBjbGFzc2VzLmZpbmRJbmRleChmdW5jdGlvbiAobikgeyByZXR1cm4gbiA9PT0gbmFtZTsgfSk7XG4gICAgICAgIGlmIChpID49IDApIHtcbiAgICAgICAgICAgIGNsYXNzZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgbm9kZS5hdHRyaWJ1dGVzWydjbGFzcyddID0gY2xhc3Nlcy5qb2luKCcgJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5oYXNDbGFzcyA9IGZ1bmN0aW9uIChub2RlLCBuYW1lKSB7XG4gICAgICAgIHZhciBjbGFzc2VzID0gKG5vZGUuYXR0cmlidXRlc1snY2xhc3MnXSB8fCAnJykuc3BsaXQoLyAvKTtcbiAgICAgICAgcmV0dXJuICEhY2xhc3Nlcy5maW5kKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuID09PSBuYW1lOyB9KTtcbiAgICB9O1xuICAgIExpdGVBZGFwdG9yLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIW5vZGUuc3R5bGVzKSB7XG4gICAgICAgICAgICBub2RlLnN0eWxlcyA9IG5ldyBTdHlsZXNfanNfMS5TdHlsZXModGhpcy5nZXRBdHRyaWJ1dGUobm9kZSwgJ3N0eWxlJykpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuc3R5bGVzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgIG5vZGUuYXR0cmlidXRlc1snc3R5bGUnXSA9IG5vZGUuc3R5bGVzLmNzc1RleHQ7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUuZ2V0U3R5bGUgPSBmdW5jdGlvbiAobm9kZSwgbmFtZSkge1xuICAgICAgICBpZiAoIW5vZGUuc3R5bGVzKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmdldEF0dHJpYnV0ZShub2RlLCAnc3R5bGUnKTtcbiAgICAgICAgICAgIGlmICghc3R5bGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLnN0eWxlcyA9IG5ldyBTdHlsZXNfanNfMS5TdHlsZXMoc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlLnN0eWxlcy5nZXQobmFtZSk7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUuYWxsU3R5bGVzID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKG5vZGUsICdzdHlsZScpO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLmZvbnRTaXplID0gZnVuY3Rpb24gKF9ub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZm9udFNpemU7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUuZm9udEZhbWlseSA9IGZ1bmN0aW9uIChfbm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmZvbnRGYW1pbHk7XG4gICAgfTtcbiAgICBMaXRlQWRhcHRvci5wcm90b3R5cGUubm9kZVNpemUgPSBmdW5jdGlvbiAobm9kZSwgX2VtLCBfbG9jYWwpIHtcbiAgICAgICAgaWYgKF9lbSA9PT0gdm9pZCAwKSB7IF9lbSA9IDE7IH1cbiAgICAgICAgaWYgKF9sb2NhbCA9PT0gdm9pZCAwKSB7IF9sb2NhbCA9IG51bGw7IH1cbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLnRleHRDb250ZW50KG5vZGUpO1xuICAgICAgICByZXR1cm4gWy42ICogdGV4dC5sZW5ndGgsIDBdO1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IucHJvdG90eXBlLm5vZGVCQm94ID0gZnVuY3Rpb24gKF9ub2RlKSB7XG4gICAgICAgIHJldHVybiB7IGxlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMCB9O1xuICAgIH07XG4gICAgTGl0ZUFkYXB0b3IuT1BUSU9OUyA9IHtcbiAgICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgICBmb250RmFtaWx5OiAnVGltZXMnXG4gICAgfTtcbiAgICByZXR1cm4gTGl0ZUFkYXB0b3I7XG59KERPTUFkYXB0b3JfanNfMS5BYnN0cmFjdERPTUFkYXB0b3IpKTtcbmV4cG9ydHMuTGl0ZUFkYXB0b3IgPSBMaXRlQWRhcHRvcjtcbmZ1bmN0aW9uIGxpdGVBZGFwdG9yKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgcmV0dXJuIG5ldyBMaXRlQWRhcHRvcihvcHRpb25zKTtcbn1cbmV4cG9ydHMubGl0ZUFkYXB0b3IgPSBsaXRlQWRhcHRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdGVBZGFwdG9yLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=