(self.webpackChunkvht11=self.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\mathjax-full\\js\\util\\Styles"],{"./node_modules/mathjax-full/js/util/Styles.js":function(t,e){"use strict";var r=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,l=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=l.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}return o},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.Styles=void 0;var l=["top","right","bottom","left"],o=["width","style","color"];function a(t){for(var e=t.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),r=[];e.length>1;)e.shift(),r.push(e.shift());return r}function s(t){var e,n,i=a(this.styles[t]);0===i.length&&i.push(""),1===i.length&&i.push(i[0]),2===i.length&&i.push(i[0]),3===i.length&&i.push(i[1]);try{for(var l=r(g.connect[t].children),o=l.next();!o.done;o=l.next()){var s=o.value;this.setStyle(this.childName(t,s),i.shift())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}}function c(t){var e,n,i=g.connect[t].children,l=[];try{for(var o=r(i),a=o.next();!a.done;a=o.next()){var s=a.value,c=this.styles[t+"-"+s];if(!c)return void delete this.styles[t];l.push(c)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}l[3]===l[1]&&(l.pop(),l[2]===l[0]&&(l.pop(),l[1]===l[0]&&l.pop())),this.styles[t]=l.join(" ")}function h(t){var e,n;try{for(var i=r(g.connect[t].children),l=i.next();!l.done;l=i.next()){var o=l.value;this.setStyle(this.childName(t,o),this.styles[t])}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}function y(t){var e,n,l=i(g.connect[t].children),o=this.styles[this.childName(t,l.shift())];try{for(var a=r(l),s=a.next();!s.done;s=a.next()){var c=s.value;if(this.styles[this.childName(t,c)]!==o)return void delete this.styles[t]}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}this.styles[t]=o}var u=/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,d=/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/;function f(t){var e,n,i,l,o={width:"",style:"",color:""};try{for(var s=r(a(this.styles[t])),c=s.next();!c.done;c=s.next()){var h=c.value;h.match(u)&&""===o.width?o.width=h:h.match(d)&&""===o.style?o.style=h:o.color=h}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}try{for(var y=r(g.connect[t].children),f=y.next();!f.done;f=y.next()){var p=f.value;this.setStyle(this.childName(t,p),o[p])}}catch(t){i={error:t}}finally{try{f&&!f.done&&(l=y.return)&&l.call(y)}finally{if(i)throw i.error}}}function p(t){var e,n,i=[];try{for(var l=r(g.connect[t].children),o=l.next();!o.done;o=l.next()){var a=o.value,s=this.styles[this.childName(t,a)];s&&i.push(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}i.length?this.styles[t]=i.join(" "):delete this.styles[t]}var m={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:new RegExp("^(?:"+["normal|none","inherit|initial|unset","common-ligatures|no-common-ligatures","discretionary-ligatures|no-discretionary-ligatures","historical-ligatures|no-historical-ligatures","contextual|no-contextual","(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)","small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","lining-nums|oldstyle-nums|proportional-nums|tabular-nums","diagonal-fractions|stacked-fractions","ordinal|slashed-zero","jis78|jis83|jis90|jis04|simplified|traditional","full-width|proportional-width","ruby"].join("|")+")$"),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:new RegExp("^(?:"+["normal","(?:(?:ultra|extra|semi)-)?condensed","(?:(?:semi|extra|ulta)-)?expanded","inherit|initial|unset"].join("|")+")$"),size:new RegExp("^(?:"+["xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller","[d.]+%|[d.]+[a-z]+","inherit|initial|unset"].join("|")+")(?:/(?:normal|[d.+](?:%|[a-z]+)?))?$")};function v(t){var e,i,l,o,s=a(this.styles[t]),c={style:"",variant:[],weight:"",stretch:"",size:"",family:"","line-height":""};try{for(var h=r(s),y=h.next();!y.done;y=h.next()){var u=y.value;c.family=u;try{for(var d=(l=void 0,r(Object.keys(m))),f=d.next();!f.done;f=d.next()){var p=f.value;if((Array.isArray(c[p])||""===c[p])&&u.match(m[p]))if("size"===p){var v=n(u.split(/\//),2),b=v[0],x=v[1];c[p]=b,x&&(c["line-height"]=x)}else""===c.size&&(Array.isArray(c[p])?c[p].push(u):c[p]=u)}}catch(t){l={error:t}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(l)throw l.error}}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(i=h.return)&&i.call(h)}finally{if(e)throw e.error}}!function(t,e){var n,i;try{for(var l=r(g.connect[t].children),o=l.next();!o.done;o=l.next()){var a=o.value,s=this.childName(t,a);if(Array.isArray(e[a])){var c=e[a];c.length&&(this.styles[s]=c.join(" "))}else""!==e[a]&&(this.styles[s]=e[a])}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}(t,c),delete this.styles[t]}function b(t){}var g=function(){function t(t){void 0===t&&(t=""),this.parse(t)}return Object.defineProperty(t.prototype,"cssText",{get:function(){var t,e,n=[];try{for(var i=r(Object.keys(this.styles)),l=i.next();!l.done;l=i.next()){var o=l.value,a=this.parentName(o);this.styles[a]||n.push(o+": "+this.styles[o])}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n.join("; ")},enumerable:!1,configurable:!0}),t.prototype.set=function(e,r){for(e=this.normalizeName(e),this.setStyle(e,r),t.connect[e]&&!t.connect[e].combine&&(this.combineChildren(e),delete this.styles[e]);e.match(/-/)&&(e=this.parentName(e),t.connect[e]);)t.connect[e].combine.call(this,e)},t.prototype.get=function(t){return t=this.normalizeName(t),this.styles.hasOwnProperty(t)?this.styles[t]:""},t.prototype.setStyle=function(e,r){this.styles[e]=r,t.connect[e]&&t.connect[e].children&&t.connect[e].split.call(this,e),""===r&&delete this.styles[e]},t.prototype.combineChildren=function(e){var n,i,l=this.parentName(e);try{for(var o=r(t.connect[e].children),a=o.next();!a.done;a=o.next()){var s=a.value,c=this.childName(l,s);t.connect[c].combine.call(this,c)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.parentName=function(t){var e=t.replace(/-[^-]*$/,"");return t===e?"":e},t.prototype.childName=function(e,r){return r.match(/-/)?r:(t.connect[e]&&!t.connect[e].combine&&(r+=e.replace(/.*-/,"-"),e=this.parentName(e)),e+"-"+r)},t.prototype.normalizeName=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))},t.prototype.parse=function(t){void 0===t&&(t="");var e=this.constructor.pattern;this.styles={};for(var r=t.replace(e.comment,"").split(e.style);r.length>1;){var i=n(r.splice(0,3),3),l=i[0],o=i[1],a=i[2];if(l.match(/[^\s\n]/))return;this.set(o,a)}},t.pattern={style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'[^']*'|"[^"]*"|\n|.)*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g},t.connect={padding:{children:l,split:s,combine:c},border:{children:l,split:h,combine:y},"border-top":{children:o,split:f,combine:p},"border-right":{children:o,split:f,combine:p},"border-bottom":{children:o,split:f,combine:p},"border-left":{children:o,split:f,combine:p},"border-width":{children:l,split:s,combine:null},"border-style":{children:l,split:s,combine:null},"border-color":{children:l,split:s,combine:null},font:{children:["style","variant","weight","stretch","line-height","size","family"],split:v,combine:b}},t}();e.Styles=g}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9tYXRoamF4LWZ1bGwvanMvdXRpbC9TdHlsZXMuanMiXSwibmFtZXMiOlsiX192YWx1ZXMiLCJ0aGlzIiwibyIsInMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm0iLCJpIiwiY2FsbCIsImxlbmd0aCIsIm5leHQiLCJ2YWx1ZSIsImRvbmUiLCJUeXBlRXJyb3IiLCJfX3JlYWQiLCJuIiwiciIsImUiLCJhciIsInB1c2giLCJlcnJvciIsIl9fc3ByZWFkIiwiYXJndW1lbnRzIiwiY29uY2F0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwiU3R5bGVzIiwiVFJCTCIsIldTQyIsInNwbGl0U3BhY2VzIiwidGV4dCIsInBhcnRzIiwic3BsaXQiLCJzaGlmdCIsInNwbGl0VFJCTCIsIm5hbWUiLCJlXzEiLCJfYSIsInN0eWxlcyIsIl9iIiwiY29ubmVjdCIsImNoaWxkcmVuIiwiX2MiLCJjaGlsZCIsInNldFN0eWxlIiwiY2hpbGROYW1lIiwiZV8xXzEiLCJyZXR1cm4iLCJjb21iaW5lVFJCTCIsImVfMiIsImNoaWxkcmVuXzEiLCJjaGlsZHJlbl8xXzEiLCJwYXJ0IiwiZV8yXzEiLCJwb3AiLCJqb2luIiwic3BsaXRTYW1lIiwiZV8zIiwiZV8zXzEiLCJjb21iaW5lU2FtZSIsImVfNCIsImNoaWxkcmVuXzIiLCJjaGlsZHJlbl8yXzEiLCJlXzRfMSIsIkJPUkRFUiIsInNwbGl0V1NDIiwiZV81IiwiZV82Iiwid2lkdGgiLCJzdHlsZSIsImNvbG9yIiwiX2QiLCJtYXRjaCIsImVfNV8xIiwiX2UiLCJfZiIsImVfNl8xIiwiY29tYmluZVdTQyIsImVfNyIsImVfN18xIiwiRk9OVCIsInZhcmlhbnQiLCJSZWdFeHAiLCJ3ZWlnaHQiLCJzdHJldGNoIiwic2l6ZSIsInNwbGl0Rm9udCIsImVfOCIsImVfOSIsImZhbWlseSIsInBhcnRzXzEiLCJwYXJ0c18xXzEiLCJrZXlzIiwibmFtZV8xIiwiQXJyYXkiLCJpc0FycmF5IiwiaGVpZ2h0IiwiZV85XzEiLCJlXzhfMSIsImVfMTAiLCJjbmFtZSIsInZhbHVlcyIsImVfMTBfMSIsInNhdmVGb250UGFydHMiLCJjb21iaW5lRm9udCIsIl9uYW1lIiwiY3NzVGV4dCIsInBhcnNlIiwicHJvdG90eXBlIiwiZ2V0IiwiZV8xMSIsIm5hbWVfMiIsInBhcmVudF8xIiwicGFyZW50TmFtZSIsImVfMTFfMSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJzZXQiLCJub3JtYWxpemVOYW1lIiwiY29tYmluZSIsImNvbWJpbmVDaGlsZHJlbiIsImhhc093blByb3BlcnR5IiwiZV8xMiIsInBhcmVudCIsImVfMTJfMSIsInJlcGxhY2UiLCJjIiwidG9Mb3dlckNhc2UiLCJQQVRURVJOIiwiY29uc3RydWN0b3IiLCJwYXR0ZXJuIiwiY29tbWVudCIsInNwbGljZSIsInNwYWNlIiwibmFtZV8zIiwicGFkZGluZyIsImJvcmRlciIsImZvbnQiXSwibWFwcGluZ3MiOiI4TkFDQSxJQUFJQSxFQUFZQyxNQUFRQSxLQUFLRCxVQUFhLFNBQVNFLEdBQy9DLElBQUlDLEVBQXNCLG1CQUFYQyxRQUF5QkEsT0FBT0MsU0FBVUMsRUFBSUgsR0FBS0QsRUFBRUMsR0FBSUksRUFBSSxFQUM1RSxHQUFJRCxFQUFHLE9BQU9BLEVBQUVFLEtBQUtOLEdBQ3JCLEdBQUlBLEdBQXlCLGlCQUFiQSxFQUFFTyxPQUFxQixNQUFPLENBQzFDQyxLQUFNLFdBRUYsT0FESVIsR0FBS0ssR0FBS0wsRUFBRU8sU0FBUVAsT0FBSSxHQUNyQixDQUFFUyxNQUFPVCxHQUFLQSxFQUFFSyxLQUFNSyxNQUFPVixLQUc1QyxNQUFNLElBQUlXLFVBQVVWLEVBQUksMEJBQTRCLG9DQUVwRFcsRUFBVWIsTUFBUUEsS0FBS2EsUUFBVyxTQUFVWixFQUFHYSxHQUMvQyxJQUFJVCxFQUFzQixtQkFBWEYsUUFBeUJGLEVBQUVFLE9BQU9DLFVBQ2pELElBQUtDLEVBQUcsT0FBT0osRUFDZixJQUFtQmMsRUFB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QUFlLE9BQVEsVUFDM0VULE1BQU9zRCxFQUNQaUMsUUFBU2YsSUFHVjlFLEVBaEtFLEdBa0tiRCxFQUFRQyxPQUFTQSIsImZpbGUiOiIwOGQyOTY1Y2U4NjYyNjg4YmEzOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZCkgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gICAgcmV0dXJuIGFyO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3R5bGVzID0gdm9pZCAwO1xudmFyIFRSQkwgPSBbJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddO1xudmFyIFdTQyA9IFsnd2lkdGgnLCAnc3R5bGUnLCAnY29sb3InXTtcbmZ1bmN0aW9uIHNwbGl0U3BhY2VzKHRleHQpIHtcbiAgICB2YXIgcGFydHMgPSB0ZXh0LnNwbGl0KC8oKD86J1teJ10qJ3xcIlteXCJdKlwifCxbXFxzXFxuXXxbXlxcc1xcbl0pKikvZyk7XG4gICAgdmFyIHNwbGl0ID0gW107XG4gICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcGFydHMuc2hpZnQoKTtcbiAgICAgICAgc3BsaXQucHVzaChwYXJ0cy5zaGlmdCgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHNwbGl0O1xufVxuZnVuY3Rpb24gc3BsaXRUUkJMKG5hbWUpIHtcbiAgICB2YXIgZV8xLCBfYTtcbiAgICB2YXIgcGFydHMgPSBzcGxpdFNwYWNlcyh0aGlzLnN0eWxlc1tuYW1lXSk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBwYXJ0cy5wdXNoKCcnKTtcbiAgICB9XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBwYXJ0cy5wdXNoKHBhcnRzWzBdKTtcbiAgICB9XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBwYXJ0cy5wdXNoKHBhcnRzWzBdKTtcbiAgICB9XG4gICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBwYXJ0cy5wdXNoKHBhcnRzWzFdKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhTdHlsZXMuY29ubmVjdFtuYW1lXS5jaGlsZHJlbiksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy5zZXRTdHlsZSh0aGlzLmNoaWxkTmFtZShuYW1lLCBjaGlsZCksIHBhcnRzLnNoaWZ0KCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbWJpbmVUUkJMKG5hbWUpIHtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICB2YXIgY2hpbGRyZW4gPSBTdHlsZXMuY29ubmVjdFtuYW1lXS5jaGlsZHJlbjtcbiAgICB2YXIgcGFydHMgPSBbXTtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBjaGlsZHJlbl8xID0gX192YWx1ZXMoY2hpbGRyZW4pLCBjaGlsZHJlbl8xXzEgPSBjaGlsZHJlbl8xLm5leHQoKTsgIWNoaWxkcmVuXzFfMS5kb25lOyBjaGlsZHJlbl8xXzEgPSBjaGlsZHJlbl8xLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5fMV8xLnZhbHVlO1xuICAgICAgICAgICAgdmFyIHBhcnQgPSB0aGlzLnN0eWxlc1tuYW1lICsgJy0nICsgY2hpbGRdO1xuICAgICAgICAgICAgaWYgKCFwYXJ0KSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW25hbWVdO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbl8xXzEgJiYgIWNoaWxkcmVuXzFfMS5kb25lICYmIChfYSA9IGNoaWxkcmVuXzEucmV0dXJuKSkgX2EuY2FsbChjaGlsZHJlbl8xKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgfVxuICAgIGlmIChwYXJ0c1szXSA9PT0gcGFydHNbMV0pIHtcbiAgICAgICAgcGFydHMucG9wKCk7XG4gICAgICAgIGlmIChwYXJ0c1syXSA9PT0gcGFydHNbMF0pIHtcbiAgICAgICAgICAgIHBhcnRzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKHBhcnRzWzFdID09PSBwYXJ0c1swXSkge1xuICAgICAgICAgICAgICAgIHBhcnRzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3R5bGVzW25hbWVdID0gcGFydHMuam9pbignICcpO1xufVxuZnVuY3Rpb24gc3BsaXRTYW1lKG5hbWUpIHtcbiAgICB2YXIgZV8zLCBfYTtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKFN0eWxlcy5jb25uZWN0W25hbWVdLmNoaWxkcmVuKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gX2MudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRoaXMuY2hpbGROYW1lKG5hbWUsIGNoaWxkKSwgdGhpcy5zdHlsZXNbbmFtZV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbWJpbmVTYW1lKG5hbWUpIHtcbiAgICB2YXIgZV80LCBfYTtcbiAgICB2YXIgY2hpbGRyZW4gPSBfX3NwcmVhZChTdHlsZXMuY29ubmVjdFtuYW1lXS5jaGlsZHJlbik7XG4gICAgdmFyIHZhbHVlID0gdGhpcy5zdHlsZXNbdGhpcy5jaGlsZE5hbWUobmFtZSwgY2hpbGRyZW4uc2hpZnQoKSldO1xuICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIGNoaWxkcmVuXzIgPSBfX3ZhbHVlcyhjaGlsZHJlbiksIGNoaWxkcmVuXzJfMSA9IGNoaWxkcmVuXzIubmV4dCgpOyAhY2hpbGRyZW5fMl8xLmRvbmU7IGNoaWxkcmVuXzJfMSA9IGNoaWxkcmVuXzIubmV4dCgpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbl8yXzEudmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZXNbdGhpcy5jaGlsZE5hbWUobmFtZSwgY2hpbGQpXSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlXzRfMSkgeyBlXzQgPSB7IGVycm9yOiBlXzRfMSB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5fMl8xICYmICFjaGlsZHJlbl8yXzEuZG9uZSAmJiAoX2EgPSBjaGlsZHJlbl8yLnJldHVybikpIF9hLmNhbGwoY2hpbGRyZW5fMik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfVxuICAgIH1cbiAgICB0aGlzLnN0eWxlc1tuYW1lXSA9IHZhbHVlO1xufVxudmFyIEJPUkRFUiA9IHtcbiAgICB3aWR0aDogL14oPzpbXFxkLl0rKD86W2Etel0rKXx0aGlufG1lZGl1bXx0aGlja3xpbmhlcml0fGluaXRpYWx8dW5zZXQpJC8sXG4gICAgc3R5bGU6IC9eKD86bm9uZXxoaWRkZW58ZG90dGVkfGRhc2hlZHxzb2xpZHxkb3VibGV8Z3Jvb3ZlfHJpZGdlfGluc2V0fG91dHNldHxpbmhlcml0fGluaXRpYWx8dW5zZXQpJC9cbn07XG5mdW5jdGlvbiBzcGxpdFdTQyhuYW1lKSB7XG4gICAgdmFyIGVfNSwgX2EsIGVfNiwgX2I7XG4gICAgdmFyIHBhcnRzID0geyB3aWR0aDogJycsIHN0eWxlOiAnJywgY29sb3I6ICcnIH07XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyhzcGxpdFNwYWNlcyh0aGlzLnN0eWxlc1tuYW1lXSkpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHBhcnQubWF0Y2goQk9SREVSLndpZHRoKSAmJiBwYXJ0cy53aWR0aCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy53aWR0aCA9IHBhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChwYXJ0Lm1hdGNoKEJPUkRFUi5zdHlsZSkgJiYgcGFydHMuc3R5bGUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcGFydHMuc3R5bGUgPSBwYXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydHMuY29sb3IgPSBwYXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlXzUpIHRocm93IGVfNS5lcnJvcjsgfVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfZSA9IF9fdmFsdWVzKFN0eWxlcy5jb25uZWN0W25hbWVdLmNoaWxkcmVuKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gX2YudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRoaXMuY2hpbGROYW1lKG5hbWUsIGNoaWxkKSwgcGFydHNbY2hpbGRdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZV82XzEpIHsgZV82ID0geyBlcnJvcjogZV82XzEgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKF9mICYmICFfZi5kb25lICYmIChfYiA9IF9lLnJldHVybikpIF9iLmNhbGwoX2UpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV82KSB0aHJvdyBlXzYuZXJyb3I7IH1cbiAgICB9XG59XG5mdW5jdGlvbiBjb21iaW5lV1NDKG5hbWUpIHtcbiAgICB2YXIgZV83LCBfYTtcbiAgICB2YXIgcGFydHMgPSBbXTtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKFN0eWxlcy5jb25uZWN0W25hbWVdLmNoaWxkcmVuKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gX2MudmFsdWU7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0eWxlc1t0aGlzLmNoaWxkTmFtZShuYW1lLCBjaGlsZCldO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVfN18xKSB7IGVfNyA9IHsgZXJyb3I6IGVfN18xIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNykgdGhyb3cgZV83LmVycm9yOyB9XG4gICAgfVxuICAgIGlmIChwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zdHlsZXNbbmFtZV0gPSBwYXJ0cy5qb2luKCcgJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbmFtZV07XG4gICAgfVxufVxudmFyIEZPTlQgPSB7XG4gICAgc3R5bGU6IC9eKD86bm9ybWFsfGl0YWxpY3xvYmxpcXVlfGluaGVyaXR8aW5pdGlhbHx1bnNldCkkLyxcbiAgICB2YXJpYW50OiBuZXcgUmVnRXhwKCdeKD86JyArXG4gICAgICAgIFsnbm9ybWFsfG5vbmUnLFxuICAgICAgICAgICAgJ2luaGVyaXR8aW5pdGlhbHx1bnNldCcsXG4gICAgICAgICAgICAnY29tbW9uLWxpZ2F0dXJlc3xuby1jb21tb24tbGlnYXR1cmVzJyxcbiAgICAgICAgICAgICdkaXNjcmV0aW9uYXJ5LWxpZ2F0dXJlc3xuby1kaXNjcmV0aW9uYXJ5LWxpZ2F0dXJlcycsXG4gICAgICAgICAgICAnaGlzdG9yaWNhbC1saWdhdHVyZXN8bm8taGlzdG9yaWNhbC1saWdhdHVyZXMnLFxuICAgICAgICAgICAgJ2NvbnRleHR1YWx8bm8tY29udGV4dHVhbCcsXG4gICAgICAgICAgICAnKD86c3R5bGlzdGljfGNoYXJhY3Rlci12YXJpYW50fHN3YXNofG9ybmFtZW50c3xhbm5vdGF0aW9uKVxcXFwoW14pXSpcXFxcKScsXG4gICAgICAgICAgICAnc21hbGwtY2Fwc3xhbGwtc21hbGwtY2Fwc3xwZXRpdGUtY2Fwc3xhbGwtcGV0aXRlLWNhcHN8dW5pY2FzZXx0aXRsaW5nLWNhcHMnLFxuICAgICAgICAgICAgJ2xpbmluZy1udW1zfG9sZHN0eWxlLW51bXN8cHJvcG9ydGlvbmFsLW51bXN8dGFidWxhci1udW1zJyxcbiAgICAgICAgICAgICdkaWFnb25hbC1mcmFjdGlvbnN8c3RhY2tlZC1mcmFjdGlvbnMnLFxuICAgICAgICAgICAgJ29yZGluYWx8c2xhc2hlZC16ZXJvJyxcbiAgICAgICAgICAgICdqaXM3OHxqaXM4M3xqaXM5MHxqaXMwNHxzaW1wbGlmaWVkfHRyYWRpdGlvbmFsJyxcbiAgICAgICAgICAgICdmdWxsLXdpZHRofHByb3BvcnRpb25hbC13aWR0aCcsXG4gICAgICAgICAgICAncnVieSddLmpvaW4oJ3wnKSArICcpJCcpLFxuICAgIHdlaWdodDogL14oPzpub3JtYWx8Ym9sZHxib2xkZXJ8bGlnaHRlcnxbMS05XTAwfGluaGVyaXR8aW5pdGlhbHx1bnNldCkkLyxcbiAgICBzdHJldGNoOiBuZXcgUmVnRXhwKCdeKD86JyArXG4gICAgICAgIFsnbm9ybWFsJyxcbiAgICAgICAgICAgICcoPzooPzp1bHRyYXxleHRyYXxzZW1pKS0pP2NvbmRlbnNlZCcsXG4gICAgICAgICAgICAnKD86KD86c2VtaXxleHRyYXx1bHRhKS0pP2V4cGFuZGVkJyxcbiAgICAgICAgICAgICdpbmhlcml0fGluaXRpYWx8dW5zZXQnXS5qb2luKCd8JykgKyAnKSQnKSxcbiAgICBzaXplOiBuZXcgUmVnRXhwKCdeKD86JyArXG4gICAgICAgIFsneHgtc21hbGx8eC1zbWFsbHxzbWFsbHxtZWRpdW18bGFyZ2V8eC1sYXJnZXx4eC1sYXJnZXxsYXJnZXJ8c21hbGxlcicsXG4gICAgICAgICAgICAnW1xcZC5dKyV8W1xcZC5dK1thLXpdKycsXG4gICAgICAgICAgICAnaW5oZXJpdHxpbml0aWFsfHVuc2V0J10uam9pbignfCcpICsgJyknICtcbiAgICAgICAgJyg/OlxcLyg/Om5vcm1hbHxbXFxkLlxcK10oPzolfFthLXpdKyk/KSk/JCcpXG59O1xuZnVuY3Rpb24gc3BsaXRGb250KG5hbWUpIHtcbiAgICB2YXIgZV84LCBfYSwgZV85LCBfYjtcbiAgICB2YXIgcGFydHMgPSBzcGxpdFNwYWNlcyh0aGlzLnN0eWxlc1tuYW1lXSk7XG4gICAgdmFyIHZhbHVlID0ge1xuICAgICAgICBzdHlsZTogJycsIHZhcmlhbnQ6IFtdLCB3ZWlnaHQ6ICcnLCBzdHJldGNoOiAnJyxcbiAgICAgICAgc2l6ZTogJycsIGZhbWlseTogJycsICdsaW5lLWhlaWdodCc6ICcnXG4gICAgfTtcbiAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBwYXJ0c18xID0gX192YWx1ZXMocGFydHMpLCBwYXJ0c18xXzEgPSBwYXJ0c18xLm5leHQoKTsgIXBhcnRzXzFfMS5kb25lOyBwYXJ0c18xXzEgPSBwYXJ0c18xLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c18xXzEudmFsdWU7XG4gICAgICAgICAgICB2YWx1ZS5mYW1pbHkgPSBwYXJ0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IChlXzkgPSB2b2lkIDAsIF9fdmFsdWVzKE9iamVjdC5rZXlzKEZPTlQpKSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVfMSA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKEFycmF5LmlzQXJyYXkodmFsdWVbbmFtZV8xXSkgfHwgdmFsdWVbbmFtZV8xXSA9PT0gJycpICYmIHBhcnQubWF0Y2goRk9OVFtuYW1lXzFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWVfMSA9PT0gJ3NpemUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9lID0gX19yZWFkKHBhcnQuc3BsaXQoL1xcLy8pLCAyKSwgc2l6ZSA9IF9lWzBdLCBoZWlnaHQgPSBfZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVtuYW1lXzFdID0gc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlWydsaW5lLWhlaWdodCddID0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlLnNpemUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVbbmFtZV8xXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbbmFtZV8xXS5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVbbmFtZV8xXSA9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfOV8xKSB7IGVfOSA9IHsgZXJyb3I6IGVfOV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2IgPSBfYy5yZXR1cm4pKSBfYi5jYWxsKF9jKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzkpIHRocm93IGVfOS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlXzhfMSkgeyBlXzggPSB7IGVycm9yOiBlXzhfMSB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocGFydHNfMV8xICYmICFwYXJ0c18xXzEuZG9uZSAmJiAoX2EgPSBwYXJ0c18xLnJldHVybikpIF9hLmNhbGwocGFydHNfMSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlXzgpIHRocm93IGVfOC5lcnJvcjsgfVxuICAgIH1cbiAgICBzYXZlRm9udFBhcnRzKG5hbWUsIHZhbHVlKTtcbiAgICBkZWxldGUgdGhpcy5zdHlsZXNbbmFtZV07XG59XG5mdW5jdGlvbiBzYXZlRm9udFBhcnRzKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGVfMTAsIF9hO1xuICAgIHRyeSB7XG4gICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoU3R5bGVzLmNvbm5lY3RbbmFtZV0uY2hpbGRyZW4pLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgIHZhciBjbmFtZSA9IHRoaXMuY2hpbGROYW1lKG5hbWUsIGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlW2NoaWxkXSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gdmFsdWVbY2hpbGRdO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVzW2NuYW1lXSA9IHZhbHVlcy5qb2luKCcgJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWVbY2hpbGRdICE9PSAnJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVzW2NuYW1lXSA9IHZhbHVlW2NoaWxkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZV8xMF8xKSB7IGVfMTAgPSB7IGVycm9yOiBlXzEwXzEgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xMCkgdGhyb3cgZV8xMC5lcnJvcjsgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbWJpbmVGb250KF9uYW1lKSB7IH1cbnZhciBTdHlsZXMgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0eWxlcyhjc3NUZXh0KSB7XG4gICAgICAgIGlmIChjc3NUZXh0ID09PSB2b2lkIDApIHsgY3NzVGV4dCA9ICcnOyB9XG4gICAgICAgIHRoaXMucGFyc2UoY3NzVGV4dCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHlsZXMucHJvdG90eXBlLCBcImNzc1RleHRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlXzExLCBfYTtcbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSBbXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyh0aGlzLnN0eWxlcykpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lXzIgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gdGhpcy5wYXJlbnROYW1lKG5hbWVfMik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5zdHlsZXNbcGFyZW50XzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMucHVzaChuYW1lXzIgKyAnOiAnICsgdGhpcy5zdHlsZXNbbmFtZV8yXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xMV8xKSB7IGVfMTEgPSB7IGVycm9yOiBlXzExXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMTEpIHRocm93IGVfMTEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdHlsZXMuam9pbignOyAnKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFN0eWxlcy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIG5hbWUgPSB0aGlzLm5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgICAgIHRoaXMuc2V0U3R5bGUobmFtZSwgdmFsdWUpO1xuICAgICAgICBpZiAoU3R5bGVzLmNvbm5lY3RbbmFtZV0gJiYgIVN0eWxlcy5jb25uZWN0W25hbWVdLmNvbWJpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuY29tYmluZUNoaWxkcmVuKG5hbWUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChuYW1lLm1hdGNoKC8tLykpIHtcbiAgICAgICAgICAgIG5hbWUgPSB0aGlzLnBhcmVudE5hbWUobmFtZSk7XG4gICAgICAgICAgICBpZiAoIVN0eWxlcy5jb25uZWN0W25hbWVdKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgU3R5bGVzLmNvbm5lY3RbbmFtZV0uY29tYmluZS5jYWxsKHRoaXMsIG5hbWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHlsZXMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIG5hbWUgPSB0aGlzLm5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgICAgIHJldHVybiAodGhpcy5zdHlsZXMuaGFzT3duUHJvcGVydHkobmFtZSkgPyB0aGlzLnN0eWxlc1tuYW1lXSA6ICcnKTtcbiAgICB9O1xuICAgIFN0eWxlcy5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdHlsZXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKFN0eWxlcy5jb25uZWN0W25hbWVdICYmIFN0eWxlcy5jb25uZWN0W25hbWVdLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBTdHlsZXMuY29ubmVjdFtuYW1lXS5zcGxpdC5jYWxsKHRoaXMsIG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tuYW1lXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3R5bGVzLnByb3RvdHlwZS5jb21iaW5lQ2hpbGRyZW4gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgZV8xMiwgX2E7XG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5hbWUobmFtZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKFN0eWxlcy5jb25uZWN0W25hbWVdLmNoaWxkcmVuKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBjbmFtZSA9IHRoaXMuY2hpbGROYW1lKHBhcmVudCwgY2hpbGQpO1xuICAgICAgICAgICAgICAgIFN0eWxlcy5jb25uZWN0W2NuYW1lXS5jb21iaW5lLmNhbGwodGhpcywgY25hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzEyXzEpIHsgZV8xMiA9IHsgZXJyb3I6IGVfMTJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMTIpIHRocm93IGVfMTIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3R5bGVzLnByb3RvdHlwZS5wYXJlbnROYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IG5hbWUucmVwbGFjZSgvLVteLV0qJC8sICcnKTtcbiAgICAgICAgcmV0dXJuIChuYW1lID09PSBwYXJlbnQgPyAnJyA6IHBhcmVudCk7XG4gICAgfTtcbiAgICBTdHlsZXMucHJvdG90eXBlLmNoaWxkTmFtZSA9IGZ1bmN0aW9uIChuYW1lLCBjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQubWF0Y2goLy0vKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChTdHlsZXMuY29ubmVjdFtuYW1lXSAmJiAhU3R5bGVzLmNvbm5lY3RbbmFtZV0uY29tYmluZSkge1xuICAgICAgICAgICAgY2hpbGQgKz0gbmFtZS5yZXBsYWNlKC8uKi0vLCAnLScpO1xuICAgICAgICAgICAgbmFtZSA9IHRoaXMucGFyZW50TmFtZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmFtZSArICctJyArIGNoaWxkO1xuICAgIH07XG4gICAgU3R5bGVzLnByb3RvdHlwZS5ub3JtYWxpemVOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24gKGMpIHsgcmV0dXJuICctJyArIGMudG9Mb3dlckNhc2UoKTsgfSk7XG4gICAgfTtcbiAgICBTdHlsZXMucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGNzc1RleHQpIHtcbiAgICAgICAgaWYgKGNzc1RleHQgPT09IHZvaWQgMCkgeyBjc3NUZXh0ID0gJyc7IH1cbiAgICAgICAgdmFyIFBBVFRFUk4gPSB0aGlzLmNvbnN0cnVjdG9yLnBhdHRlcm47XG4gICAgICAgIHRoaXMuc3R5bGVzID0ge307XG4gICAgICAgIHZhciBwYXJ0cyA9IGNzc1RleHQucmVwbGFjZShQQVRURVJOLmNvbW1lbnQsICcnKS5zcGxpdChQQVRURVJOLnN0eWxlKTtcbiAgICAgICAgd2hpbGUgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF9fcmVhZChwYXJ0cy5zcGxpY2UoMCwgMyksIDMpLCBzcGFjZSA9IF9hWzBdLCBuYW1lXzMgPSBfYVsxXSwgdmFsdWUgPSBfYVsyXTtcbiAgICAgICAgICAgIGlmIChzcGFjZS5tYXRjaCgvW15cXHNcXG5dLykpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5zZXQobmFtZV8zLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0eWxlcy5wYXR0ZXJuID0ge1xuICAgICAgICBzdHlsZTogLyhbLWEtel0rKVtcXHNcXG5dKjpbXFxzXFxuXSooKD86J1teJ10qJ3xcIlteXCJdKlwifFxcbnwuKSo/KVtcXHNcXG5dKig/Ojt8JCkvZyxcbiAgICAgICAgY29tbWVudDogL1xcL1xcKlteXSo/XFwqXFwvL2dcbiAgICB9O1xuICAgIFN0eWxlcy5jb25uZWN0ID0ge1xuICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICBjaGlsZHJlbjogVFJCTCxcbiAgICAgICAgICAgIHNwbGl0OiBzcGxpdFRSQkwsXG4gICAgICAgICAgICBjb21iaW5lOiBjb21iaW5lVFJCTFxuICAgICAgICB9LFxuICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBUUkJMLFxuICAgICAgICAgICAgc3BsaXQ6IHNwbGl0U2FtZSxcbiAgICAgICAgICAgIGNvbWJpbmU6IGNvbWJpbmVTYW1lXG4gICAgICAgIH0sXG4gICAgICAgICdib3JkZXItdG9wJzoge1xuICAgICAgICAgICAgY2hpbGRyZW46IFdTQyxcbiAgICAgICAgICAgIHNwbGl0OiBzcGxpdFdTQyxcbiAgICAgICAgICAgIGNvbWJpbmU6IGNvbWJpbmVXU0NcbiAgICAgICAgfSxcbiAgICAgICAgJ2JvcmRlci1yaWdodCc6IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBXU0MsXG4gICAgICAgICAgICBzcGxpdDogc3BsaXRXU0MsXG4gICAgICAgICAgICBjb21iaW5lOiBjb21iaW5lV1NDXG4gICAgICAgIH0sXG4gICAgICAgICdib3JkZXItYm90dG9tJzoge1xuICAgICAgICAgICAgY2hpbGRyZW46IFdTQyxcbiAgICAgICAgICAgIHNwbGl0OiBzcGxpdFdTQyxcbiAgICAgICAgICAgIGNvbWJpbmU6IGNvbWJpbmVXU0NcbiAgICAgICAgfSxcbiAgICAgICAgJ2JvcmRlci1sZWZ0Jzoge1xuICAgICAgICAgICAgY2hpbGRyZW46IFdTQyxcbiAgICAgICAgICAgIHNwbGl0OiBzcGxpdFdTQyxcbiAgICAgICAgICAgIGNvbWJpbmU6IGNvbWJpbmVXU0NcbiAgICAgICAgfSxcbiAgICAgICAgJ2JvcmRlci13aWR0aCc6IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBUUkJMLFxuICAgICAgICAgICAgc3BsaXQ6IHNwbGl0VFJCTCxcbiAgICAgICAgICAgIGNvbWJpbmU6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgJ2JvcmRlci1zdHlsZSc6IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBUUkJMLFxuICAgICAgICAgICAgc3BsaXQ6IHNwbGl0VFJCTCxcbiAgICAgICAgICAgIGNvbWJpbmU6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgJ2JvcmRlci1jb2xvcic6IHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBUUkJMLFxuICAgICAgICAgICAgc3BsaXQ6IHNwbGl0VFJCTCxcbiAgICAgICAgICAgIGNvbWJpbmU6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgY2hpbGRyZW46IFsnc3R5bGUnLCAndmFyaWFudCcsICd3ZWlnaHQnLCAnc3RyZXRjaCcsICdsaW5lLWhlaWdodCcsICdzaXplJywgJ2ZhbWlseSddLFxuICAgICAgICAgICAgc3BsaXQ6IHNwbGl0Rm9udCxcbiAgICAgICAgICAgIGNvbWJpbmU6IGNvbWJpbmVGb250XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdHlsZXM7XG59KCkpO1xuZXhwb3J0cy5TdHlsZXMgPSBTdHlsZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHlsZXMuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==