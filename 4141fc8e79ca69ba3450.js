(global.webpackChunkvht11=global.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\pixi-viewport\\dist\\viewport.es"],{"./node_modules/pixi-viewport/dist/viewport.es.js":(t,e,i)=>{"use strict";i.r(e),i.d(e,{Plugin:()=>r,Viewport:()=>B});var s=i("./node_modules/pixi.js/lib/pixi.es.js");class n{constructor(t){this.viewport=t,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new s.Rectangle(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.on("pointerout",this.up,this),this.wheelFunction=t=>this.handleWheel(t),this.viewport.options.divWheel.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.divWheel.removeEventListener("wheel",this.wheelFunction)}down(t){if(this.viewport.pause||!this.viewport.worldVisible)return;if("mouse"===t.data.pointerType?this.isMouseDown=!0:this.get(t.data.pointerId)||this.touches.push({id:t.data.pointerId,last:null}),1===this.count()){this.last=t.data.global.clone();const e=this.viewport.plugins.get("decelerate",!0),i=this.viewport.plugins.get("bounce",!0);e&&e.isActive()||i&&i.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(t){return Math.abs(t)>=this.viewport.threshold}move(t){if(this.viewport.pause||!this.viewport.worldVisible)return;const e=this.viewport.plugins.move(t);if(this.clickedAvailable){const e=t.data.global.x-this.last.x,i=t.data.global.y-this.last.y;(this.checkThreshold(e)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}e&&this.viewport.options.stopPropagation&&t.stopPropagation()}up(t){if(this.viewport.pause||!this.viewport.worldVisible)return;"mouse"===t.data.pointerType&&(this.isMouseDown=!1),"mouse"!==t.data.pointerType&&this.remove(t.data.pointerId);const e=this.viewport.plugins.up(t);this.clickedAvailable&&0===this.count()&&(this.viewport.emit("clicked",{event:t,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this}),this.clickedAvailable=!1),e&&this.viewport.options.stopPropagation&&t.stopPropagation()}getPointerPosition(t){let e=new s.Point;return this.viewport.options.interaction?this.viewport.options.interaction.mapPositionToPoint(e,t.clientX,t.clientY):(e.x=t.clientX,e.y=t.clientY),e}handleWheel(t){if(this.viewport.pause||!this.viewport.worldVisible)return;const e=this.viewport.toLocal(this.getPointerPosition(t));if(this.viewport.left<=e.x&&e.x<=this.viewport.right&&this.viewport.top<=e.y&&e.y<=this.viewport.bottom){this.viewport.plugins.wheel(t)&&!this.viewport.options.passiveWheel&&t.preventDefault()}}pause(){this.touches=[],this.isMouseDown=!1}get(t){for(let e of this.touches)if(e.id===t)return e;return null}remove(t){for(let e=0;e<this.touches.length;e++)if(this.touches[e].id===t)return void this.touches.splice(e,1)}count(){return(this.isMouseDown?1:0)+this.touches.length}}const h=["drag","pinch","wheel","follow","mouse-edges","decelerate","aniamte","bounce","snap-zoom","clamp-zoom","snap","clamp"];class o{constructor(t){this.viewport=t,this.list=[],this.plugins={}}add(t,e,i=h.length){this.plugins[t]=e;const s=h.indexOf(t);-1!==s&&h.splice(s,1),h.splice(i,0,t),this.sort()}get(t,e){return e&&void 0!==this.plugins[t]&&this.plugins[t].paused?null:this.plugins[t]}update(t){for(let e of this.list)e.update(t)}resize(){for(let t of this.list)t.resize()}reset(){for(let t of this.list)t.reset()}remove(t){this.plugins[t]&&(this.plugins[t]=null,this.viewport.emit(t+"-remove"),this.sort())}pause(t){this.plugins[t]&&this.plugins[t].pause()}resume(t){this.plugins[t]&&this.plugins[t].resume()}sort(){this.list=[];for(let t of h)this.plugins[t]&&this.list.push(this.plugins[t])}down(t){let e=!1;for(let i of this.list)i.down(t)&&(e=!0);return e}move(t){let e=!1;for(let i of this.viewport.plugins.list)i.move(t)&&(e=!0);return e}up(t){let e=!1;for(let i of this.list)i.up(t)&&(e=!0);return e}wheel(t){let e=!1;for(let i of this.list)i.wheel(t)&&(e=!0);return e}}class r{constructor(t){this.parent=t,this.paused=!1}destroy(){}down(){return!1}move(){return!1}up(){return!1}wheel(){return!1}update(){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}const a={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1};class p extends r{constructor(t,e={}){super(t),this.options=Object.assign({},a,e),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||"all"===this.options.direction||"x"===this.options.direction,this.yDirection=!this.options.direction||"all"===this.options.direction||"y"===this.options.direction,this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){parent.addEventListener("keydown",(e=>{t.includes(e.code)&&(this.keyIsPressed=!0)})),parent.addEventListener("keyup",(e=>{t.includes(e.code)&&(this.keyIsPressed=!1)}))}mouseButtons(t){this.mouse=t&&"all"!==t?[-1!==t.indexOf("left"),-1!==t.indexOf("middle"),-1!==t.indexOf("right")]:[!0,!0,!0]}parseUnderflow(){const t=this.options.underflow.toLowerCase();"center"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0)}checkButtons(t){const e="mouse"===t.data.pointerType,i=this.parent.input.count();return!(!(1===i||i>1&&!this.parent.plugins.get("pinch",!0))||e&&!this.mouse[t.data.button])}checkKeyPress(t){return!!(!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&"touch"===t.data.pointerType)}down(t){if(!this.paused&&this.options.pressDrag)return this.checkButtons(t)&&this.checkKeyPress(t)?(this.last={x:t.data.global.x,y:t.data.global.y},this.current=t.data.pointerId,!0):void(this.last=null)}get active(){return this.moved}move(t){if(!this.paused&&this.options.pressDrag&&this.last&&this.current===t.data.pointerId){const e=t.data.global.x,i=t.data.global.y,n=this.parent.input.count();if(1===n||n>1&&!this.parent.plugins.get("pinch",!0)){const n=e-this.last.x,h=i-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(n)||this.yDirection&&this.parent.input.checkThreshold(h)){const n={x:e,y:i};return this.xDirection&&(this.parent.x+=(n.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(n.y-this.last.y)*this.options.factor),this.last=n,this.moved||this.parent.emit("drag-start",{event:t,screen:new s.Point(this.last.x,this.last.y),world:this.parent.toWorld(new s.Point(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}}up(t){if(this.paused)return;const e=this.parent.input.touches;if(1===e.length){const t=e[0];return t.last&&(this.last={x:t.last.x,y:t.last.y},this.current=t.id),this.moved=!1,!0}if(this.last&&this.moved){const e=new s.Point(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:t,screen:e,world:this.parent.toWorld(e),viewport:this.parent}),this.last=null,this.moved=!1,!0}}wheel(t){if(!this.paused&&this.options.wheel){if(!this.parent.plugins.get("wheel",!0))return this.xDirection&&(this.parent.x+=t.deltaX*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=t.deltaY*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||t.preventDefault(),!0}}resume(){this.last=null,this.paused=!1}clamp(){const t=this.parent.plugins.get("decelerate",!0)||{};if("y"!==this.options.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if("x"!==this.options.clampWheel)if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}}const l={noDrag:!1,percent:1,center:null,factor:1};class c extends r{constructor(t,e={}){super(t),this.options=Object.assign({},l,e)}down(){if(this.parent.input.count()>=2)return this.active=!0,!0}move(t){if(this.paused||!this.active)return;const e=t.data.global.x,i=t.data.global.y,s=this.parent.input.touches;if(s.length>=2){const n=s[0],h=s[1],o=n.last&&h.last?Math.sqrt(Math.pow(h.last.x-n.last.x,2)+Math.pow(h.last.y-n.last.y,2)):null;if(n.id===t.data.pointerId?n.last={x:e,y:i,data:t.data}:h.id===t.data.pointerId&&(h.last={x:e,y:i,data:t.data}),o){let t;const e={x:n.last.x+(h.last.x-n.last.x)/2,y:n.last.y+(h.last.y-n.last.y)/2};this.options.center||(t=this.parent.toLocal(e));let i=Math.sqrt(Math.pow(h.last.x-n.last.x,2)+Math.pow(h.last.y-n.last.y,2));i=0===i?i=1e-10:i;const s=(1-o/i)*this.options.percent*this.parent.scale.x;this.parent.scale.x+=s,this.parent.scale.y+=s,this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:e});const r=this.parent.plugins.get("clamp-zoom",!0);if(r&&r.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const i=this.parent.toGlobal(t);this.parent.x+=(e.x-i.x)*this.options.factor,this.parent.y+=(e.y-i.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(e.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(e.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=e,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}}up(){if(this.pinching&&this.parent.input.touches.length<=1)return this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0}}const d={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class u extends r{constructor(t,e={}){super(t),this.options=Object.assign({},d,e),this.options.direction&&(this.options.left="x"===this.options.direction||"all"===this.options.direction||null,this.options.right="x"===this.options.direction||"all"===this.options.direction||null,this.options.top="y"===this.options.direction||"all"===this.options.direction||null,this.options.bottom="y"===this.options.direction||"all"===this.options.direction||null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const t=this.options.underflow.toLowerCase();"none"===t?this.noUnderflow=!0:"center"===t?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused)return;if(this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const t={x:this.parent.x,y:this.parent.y},e=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){let i=!1;if(this.parent.screenWorldWidth<this.parent.screenWidth){if(!this.noUnderflow)switch(this.underflowX){case-1:0!==this.parent.x&&(this.parent.x=0,i=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,i=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,i=!0)}}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,e.x=0,i=!0),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,e.x=0,i=!0);i&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-x"})}if(null!==this.options.top||null!==this.options.bottom){let i=!1;if(this.parent.screenWorldHeight<this.parent.screenHeight){if(!this.noUnderflow)switch(this.underflowY){case-1:0!==this.parent.y&&(this.parent.y=0,i=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,i=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,i=!0)}}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,e.y=0,i=!0),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,e.y=0,i=!0);i&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const g={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class m extends r{constructor(t,e={}){super(t),this.options=Object.assign({},g,e),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused)if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&t<this.options.minWidth){const i=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxWidth&&t>this.options.maxWidth){const i=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.minHeight&&e<this.options.minHeight){const i=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxHeight&&e>this.options.maxHeight){const t=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/t,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else{let t=this.parent.scale.x;null!==this.options.minScale&&t<this.options.minScale&&(t=this.options.minScale),null!==this.options.maxScale&&t>this.options.maxScale&&(t=this.options.maxScale),t!==this.parent.scale.x&&(this.parent.scale.set(t),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}reset(){this.clamp()}}const w={friction:.98,bounce:.8,minSpeed:.01},f=16;class y extends r{constructor(t,e={}){super(t),this.options=Object.assign({},w,e),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",(t=>this.moved(t)))}destroy(){this.parent}down(){this.saved=[],this.x=this.y=!1}isActive(){return this.x||this.y}move(){if(this.paused)return;const t=this.parent.input.count();(1===t||t>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30))}moved(t){if(this.saved.length){const e=this.saved[this.saved.length-1];"clamp-x"===t.type?e.x===t.original.x&&(e.x=this.parent.x):"clamp-y"===t.type&&e.y===t.original.y&&(e.y=this.parent.y)}}up(){if(0===this.parent.input.count()&&this.saved.length){const t=performance.now();for(let e of this.saved)if(e.time>=t-100){const i=t-e.time;this.x=(this.parent.x-e.x)/i,this.y=(this.parent.y-e.y)/i,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}}activate(t){void 0!==(t=t||{}).x&&(this.x=t.x,this.percentChangeX=this.options.friction),void 0!==t.y&&(this.y=t.y,this.percentChangeY=this.options.friction)}update(t){if(this.paused)return;const e=this.x||this.y,i=this.timeSinceRelease,s=this.timeSinceRelease+t;if(this.x){const t=this.percentChangeX,e=Math.log(t);this.parent.x+=this.x*f/e*(Math.pow(t,s/f)-Math.pow(t,i/f))}if(this.y){const t=this.percentChangeY,e=Math.log(t);this.parent.y+=this.y*f/e*(Math.pow(t,s/f)-Math.pow(t,i/f))}this.timeSinceRelease+=t,this.x*=Math.pow(this.percentChangeX,t/f),this.y*=Math.pow(this.percentChangeY,t/f),Math.abs(this.x)<this.options.minSpeed&&(this.x=0),Math.abs(this.y)<this.options.minSpeed&&(this.y=0),e&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}var v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var x,W,b=(function(t,e){(function(){var e,i;i=e={linear:function(t,e,i,s){return i*t/s+e},easeInQuad:function(t,e,i,s){return i*(t/=s)*t+e},easeOutQuad:function(t,e,i,s){return-i*(t/=s)*(t-2)+e},easeInOutQuad:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,s){return i*(t/=s)*t*t+e},easeOutCubic:function(t,e,i,s){return i*((t=t/s-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,s){return i*(t/=s)*t*t*t+e},easeOutQuart:function(t,e,i,s){return-i*((t=t/s-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,s){return i*(t/=s)*t*t*t*t+e},easeOutQuint:function(t,e,i,s){return i*((t=t/s-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,s){return(t/=s/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,s){return-i*Math.cos(t/s*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,s){return i*Math.sin(t/s*(Math.PI/2))+e},easeInOutSine:function(t,e,i,s){return-i/2*(Math.cos(Math.PI*t/s)-1)+e},easeInExpo:function(t,e,i,s){return 0===t?e:i*Math.pow(2,10*(t/s-1))+e},easeOutExpo:function(t,e,i,s){return t===s?e+i:i*(1-Math.pow(2,-10*t/s))+e},easeInOutExpo:function(t,e,i,s){return(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,s){return-i*(Math.sqrt(1-(t/=s)*t)-1)+e},easeOutCirc:function(t,e,i,s){return i*Math.sqrt(1-(t=t/s-1)*t)+e},easeInOutCirc:function(t,e,i,s){return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,i,s){var n,h,o;return o=1.70158,0===t||(t/=s),(h=0)||(h=.3*s),(n=i)<Math.abs(i)?(n=i,o=h/4):o=h/(2*Math.PI)*Math.asin(i/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/h)+e},easeOutElastic:function(t,e,i,s){var n,h,o;return o=1.70158,0===t||(t/=s),(h=0)||(h=.3*s),(n=i)<Math.abs(i)?(n=i,o=h/4):o=h/(2*Math.PI)*Math.asin(i/n),n*Math.pow(2,-10*t)*Math.sin((t*s-o)*(2*Math.PI)/h)+i+e},easeInOutElastic:function(t,e,i,s){var n,h,o;return o=1.70158,0===t||(t/=s/2),(h=0)||(h=s*(.3*1.5)),(n=i)<Math.abs(i)?(n=i,o=h/4):o=h/(2*Math.PI)*Math.asin(i/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/h)*-.5+e:n*Math.pow(2,-10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/h)*.5+i+e},easeInBack:function(t,e,i,s,n){return void 0===n&&(n=1.70158),i*(t/=s)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,i,s,n){return void 0===n&&(n=1.70158),i*((t=t/s-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,i,s,n){return void 0===n&&(n=1.70158),(t/=s/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},easeInBounce:function(t,i,s,n){return s-e.easeOutBounce(n-t,0,s,n)+i},easeOutBounce:function(t,e,i,s){return(t/=s)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,i,s,n){return t<n/2?.5*e.easeInBounce(2*t,0,s,n)+i:.5*e.easeOutBounce(2*t-n,0,s,n)+.5*s+i}},t.exports=i}).call(v)}(W={path:x,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&W.path)}},W.exports),W.exports);function H(t,e){return t?"function"==typeof t?t:"string"==typeof t?b[t]:void 0:b[e]}const M={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class S extends r{constructor(t,e={}){super(t),this.options=Object.assign({},M,e),this.ease=H(this.options.ease,"easeInOutSine"),this.options.sides&&("all"===this.options.sides?this.top=this.bottom=this.left=this.right=!0:"horizontal"===this.options.sides?this.right=this.left=!0:"vertical"===this.options.sides?this.top=this.bottom=!0:(this.top=-1!==this.options.sides.indexOf("top"),this.bottom=-1!==this.options.sides.indexOf("bottom"),this.left=-1!==this.options.sides.indexOf("left"),this.right=-1!==this.options.sides.indexOf("right"))),this.parseUnderflow(),this.last={},this.reset()}parseUnderflow(){const t=this.options.underflow.toLowerCase();"center"===t?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0)}isActive(){return null!==this.toX||null!==this.toY}down(){this.toX=this.toY=null}up(){this.bounce()}update(t){if(!this.paused){if(this.bounce(),this.toX){const e=this.toX;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),e.time>=this.options.time?(this.parent.x=e.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(e.time,e.start,e.delta,this.options.time)}if(this.toY){const e=this.toY;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),e.time>=this.options.time?(this.parent.y=e.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(e.time,e.start,e.delta,this.options.time)}}}calcUnderflowX(){let t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}calcUnderflowY(){let t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}oob(){const t=this.options.bounceBox;if(t){const e=void 0===t.x?0:t.x,i=void 0===t.y?0:t.y,n=void 0===t.width?this.parent.worldWidth:t.width,h=void 0===t.height?this.parent.worldHeight:t.height;return{left:this.parent.left<e,right:this.parent.right>n,top:this.parent.top<i,bottom:this.parent.bottom>h,topLeft:new s.Point(e*this.parent.scale.x,i*this.parent.scale.y),bottomRight:new s.Point(n*this.parent.scale.x-this.parent.screenWidth,h*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new s.Point(0,0),bottomRight:new s.Point(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){if(this.paused)return;let t,e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.x&&e.percentChangeX===e.options.friction||e.y&&e.percentChangeY===e.options.friction)&&(t=this.oob(),(t.left&&this.left||t.right&&this.right)&&(e.percentChangeX=this.options.friction),(t.top&&this.top||t.bottom&&this.bottom)&&(e.percentChangeY=this.options.friction));const i=this.parent.plugins.get("drag",!0)||{},s=this.parent.plugins.get("pinch",!0)||{};if(e=e||{},!(i.active||s.active||this.toX&&this.toY||e.x&&e.y)){t=t||this.oob();const i=t.topLeft,s=t.bottomRight;if(!this.toX&&!e.x){let e=null;t.left&&this.left?e=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-i.x:t.right&&this.right&&(e=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-s.x),null!==e&&this.parent.x!==e&&(this.toX={time:0,start:this.parent.x,delta:e-this.parent.x,end:e},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!e.y){let e=null;t.top&&this.top?e=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-i.y:t.bottom&&this.bottom&&(e=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-s.y),null!==e&&this.parent.y!==e&&(this.toY={time:0,start:this.parent.y,delta:e-this.parent.y,end:e},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const O={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class C extends r{constructor(t,e,i,s={}){super(t),this.options=Object.assign({},O,s),this.ease=H(s.ease,"easeInOutSine"),this.x=e,this.y=i,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit("snap-start",this.parent)}wheel(){this.options.removeOnInterrupt&&this.parent.plugins.remove("snap")}down(){this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null)}up(){if(0===this.parent.input.count()){const t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}}update(t){if(!(this.paused||this.options.interrupt&&0!==this.parent.input.count()))if(this.snapping){const e=this.snapping;let i,s,n;if(e.time+=t,e.time>this.options.time)i=!0,s=this.startX+this.deltaX,n=this.startY+this.deltaY;else{const t=this.ease(e.time,0,1,this.options.time);s=this.startX+this.deltaX*t,n=this.startY+this.deltaY*t}this.options.topLeft?this.parent.moveCorner(s,n):this.parent.moveCenter(s,n),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),i&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const t=this.options.topLeft?this.parent.corner:this.parent.center;t.x===this.x&&t.y===this.y||this.snapStart()}}}const k={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupts:!1,forceStart:!1,noMove:!1};class z extends r{constructor(t,e={}){super(t),this.options=Object.assign({},k,e),this.ease=H(this.options.ease),this.options.width>0&&(this.xScale=t.screenWidth/this.options.width),this.options.height>0&&(this.yScale=t.screenHeight/this.options.height),this.xIndependent=!!this.xScale,this.yIndependent=!!this.yScale,this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,0===this.options.time?(t.container.scale.x=this.xScale,t.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):e.forceStart&&this.createSnapping()}createSnapping(){this.parent.scale;const t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,i=this.parent.screenWidth/this.xScale,s=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:t,startY:e,deltaX:i-t,deltaY:s-e},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom")}down(){this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null)}update(t){if(this.paused)return;if(this.options.interrupt&&0!==this.parent.input.count())return;let e;if(this.options.center||this.options.noMove||(e=this.parent.center),this.snapping){if(this.snapping){const i=this.snapping;if(i.time+=t,i.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const t=this.snapping,e=this.ease(t.time,t.startX,t.deltaX,this.options.time),i=this.ease(t.time,t.startY,t.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/e,this.parent.scale.y=this.parent.screenHeight/i}const s=this.parent.plugins.get("clamp-zoom",!0);s&&s.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(e))}}else this.parent.scale.x===this.xScale&&this.parent.scale.y===this.yScale||this.createSnapping()}resume(){this.snapping=null,super.resume()}}const I={speed:0,acceleration:null,radius:null};class P extends r{constructor(t,e,i={}){super(t),this.target=e,this.options=Object.assign({},I,i),this.velocity={x:0,y:0}}update(t){if(this.paused)return;const e=this.parent.center;let i=this.target.x,s=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-e.y,2)+Math.pow(this.target.x-e.x,2))>this.options.radius))return;{const t=Math.atan2(this.target.y-e.y,this.target.x-e.x);i=this.target.x-Math.cos(t)*this.options.radius,s=this.target.y-Math.sin(t)*this.options.radius}}const n=i-e.x,h=s-e.y;if(n||h)if(this.options.speed)if(this.options.acceleration){const o=Math.atan2(s-e.y,i-e.x),r=Math.sqrt(Math.pow(n,2)+Math.pow(h,2));if(r){const a=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);this.velocity=r>a?{x:Math.min(this.velocity.x+this.options.acceleration*t,this.options.speed),y:Math.min(this.velocity.y+this.options.acceleration*t,this.options.speed)}:{x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const p=Math.cos(o)*this.velocity.x,l=Math.sin(o)*this.velocity.y,c=Math.abs(p)>Math.abs(n)?i:e.x+p,d=Math.abs(l)>Math.abs(h)?s:e.y+l;this.parent.moveCenter(c,d),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const t=Math.atan2(s-e.y,i-e.x),o=Math.cos(t)*this.options.speed,r=Math.sin(t)*this.options.speed,a=Math.abs(o)>Math.abs(n)?i:e.x+o,p=Math.abs(r)>Math.abs(h)?s:e.y+r;this.parent.moveCenter(a,p),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const Y={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20};class X extends r{constructor(t,e={}){super(t),this.options=Object.assign({},Y,e)}down(){this.options.interrupt&&(this.smoothing=null)}update(){if(this.smoothing){const t=this.smoothingCenter,e=this.smoothing;let i;this.options.center||(i=this.parent.toLocal(t)),this.parent.scale.x+=e.x,this.parent.scale.y+=e.y,this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const s=this.parent.plugins.get("clamp-zoom",!0);if(s&&s.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const e=this.parent.toGlobal(i);this.parent.x+=t.x-e.x,this.parent.y+=t.y-e.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}wheel(t){if(this.paused)return;let e=this.parent.input.getPointerPosition(t);const i=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/500,s=Math.pow(2,(1+this.options.percent)*i);if(this.options.smooth){const t={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+t.x)*s-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+t.y)*s-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=e}else{let t;this.options.center||(t=this.parent.toLocal(e)),this.parent.scale.x*=s,this.parent.scale.y*=s,this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const i=this.parent.toGlobal(t);this.parent.x+=e.x-i.x,this.parent.y+=e.y-i.y}}return this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:t.deltaX,dy:t.deltaY,dz:t.deltaZ},event:t,viewport:this.parent}),!this.parent.options.passiveWheel||void 0}}const D={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class A extends r{constructor(t,e={}){super(t),this.options=Object.assign({},D,e),this.reverse=this.options.reverse?1:-1,this.radiusSquared=Math.pow(this.options.radius,2),this.resize()}resize(){const t=this.options.distance;null!==t?(this.left=t,this.top=t,this.right=this.parent.worldScreenWidth-t,this.bottom=this.parent.worldScreenHeight-t):this.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:this.parent.worldScreenWidth-this.options.right,this.bottom=null===this.options.bottom?null:this.parent.worldScreenHeight-this.options.bottom)}down(){this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null)}move(t){if(this.paused)return;if("mouse"!==t.data.pointerType&&1!==t.data.identifier||!this.options.allowButtons&&0!==t.data.buttons)return;const e=t.data.global.x,i=t.data.global.y;if(this.radiusSquared){const t=this.parent.toScreen(this.parent.center);if(Math.pow(t.x-e,2)+Math.pow(t.y-i,2)>=this.radiusSquared){const s=Math.atan2(t.y-i,t.x-e);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(s)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&e<this.left?this.horizontal=1*this.reverse*this.options.speed*.06:null!==this.right&&e>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&i<this.top?this.vertical=1*this.reverse*this.options.speed*.06:null!==this.bottom&&i>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0)}decelerateHorizontal(){const t=this.parent.plugins.get("decelerate",!0);this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const t=this.parent.plugins.get("decelerate",!0);this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null)}update(){if(!this.paused&&(this.horizontal||this.vertical)){const t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const T={removeOnInterrupt:!1,ease:"linear",time:1e3};class V extends r{constructor(t,e={}){super(t),this.options=Object.assign({},T,e),this.options.ease=H(this.options.ease),this.setupPosition(),this.setupZoom()}setupPosition(){void 0!==this.options.position?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,void 0!==this.options.scale?this.width=this.parent.screenWidth/this.options.scale:void 0!==this.options.scaleX||void 0!==this.options.scaleY?(void 0!==this.options.scaleX&&(this.width=this.parent.screenWidth/this.options.scaleX),void 0!==this.options.scaleY&&(this.height=this.parent.screenHeight/this.options.scaleY)):(void 0!==this.options.width&&(this.width=this.options.width),void 0!==this.options.height&&(this.height=this.options.height)),null!==typeof this.width&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),null!==typeof this.height&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight),this.time=0}down(){this.options.removeOnInterrupt&&this.parent.plugins.remove("animate")}complete(){this.parent.plugins.remove("animate"),null!==this.width&&this.parent.fitWidth(this.width,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.height,this.keepCenter,null===this.width),this.keepCenter||this.parent.moveCenter(this.options.position.x,this.options.position.y),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(t){if(!this.paused)if(this.time+=t,this.time>=this.options.time)this.complete();else{const t=new s.Point(this.parent.scale.x,this.parent.scale.y),e=this.options.ease(this.time,0,1,this.options.time);if(null!==this.width&&this.parent.fitWidth(this.startWidth+this.deltaWidth*e,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.startHeight+this.deltaHeight*e,this.keepCenter,null===this.width),null===this.width?this.parent.scale.x=this.parent.scale.y:null===this.height&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const t=new s.Point(this.parent.x,this.parent.y);this.parent.moveCenter(this.startX+this.deltaX*e,this.startY+this.deltaY*e),this.parent.emit("moved",{viewport:this.parent,original:t,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:t,type:"animate"}),this.keepCenter}}}const _={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,interaction:null,disableOnContextMenu:!1};class B extends s.Container{constructor(t={}){if(super(),this.options=Object.assign({},_,t),t.ticker)this.options.ticker=t.ticker;else{let e;const i=s;e=parseInt(/^(\d+)\./.exec(s.VERSION)[1])<5?i.ticker.shared:i.Ticker.shared,this.options.ticker=t.ticker||e}this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.divWheel=this.options.divWheel||document.body,this.options.disableOnContextMenu&&(this.options.divWheel.oncontextmenu=t=>t.preventDefault()),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new n(this),this.plugins=new o(this)}destroy(t){this.options.noTicker||this.options.ticker.remove(this.tickerFunction),this.input.destroy(),super.destroy(t)}update(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new s.Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(t=window.innerWidth,e=window.innerHeight,i,s){this.screenWidth=t,this.screenHeight=e,void 0!==i&&(this._worldWidth=i),void 0!==s&&(this._worldHeight=s),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(t){this._worldWidth=t,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(t){this._worldHeight=t,this.plugins.resize()}getVisibleBounds(){return new s.Rectangle(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(t,e){return 2===arguments.length?this.toLocal(new s.Point(t,e)):this.toLocal(t)}toScreen(t,e){return 2===arguments.length?this.toGlobal(new s.Point(t,e)):this.toGlobal(t)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new s.Point(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(t){this.moveCenter(t)}moveCenter(){let t,e;return isNaN(arguments[0])?(t=arguments[0].x,e=arguments[0].y):(t=arguments[0],e=arguments[1]),this.position.set((this.worldScreenWidth/2-t)*this.scale.x,(this.worldScreenHeight/2-e)*this.scale.y),this.plugins.reset(),this.dirty=!0,this}get corner(){return new s.Point(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(t){this.moveCorner(t)}moveCorner(t,e){return 1===arguments.length?this.position.set(-t.x*this.scale.x,-t.y*this.scale.y):this.position.set(-t*this.scale.x,-e*this.scale.y),this.plugins.reset(),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(t){return this.screenWidth/t}findFitHeight(t){return this.screenHeight/t}findFit(t,e){const i=this.screenWidth/t,s=this.screenHeight/e;return Math.min(i,s)}findCover(t,e){const i=this.screenWidth/t,s=this.screenHeight/e;return Math.max(i,s)}fitWidth(t,e,i=!0,s){let n;e&&(n=this.center),this.scale.x=this.screenWidth/t,i&&(this.scale.y=this.scale.x);const h=this.plugins.get("clamp-zoom",!0);return!s&&h&&h.clamp(),e&&this.moveCenter(n),this}fitHeight(t,e,i=!0,s){let n;e&&(n=this.center),this.scale.y=this.screenHeight/t,i&&(this.scale.x=this.scale.y);const h=this.plugins.get("clamp-zoom",!0);return!s&&h&&h.clamp(),e&&this.moveCenter(n),this}fitWorld(t){let e;t&&(e=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),t&&this.moveCenter(e),this}fit(t,e=this.worldWidth,i=this.worldHeight){let s;t&&(s=this.center),this.scale.x=this.screenWidth/e,this.scale.y=this.screenHeight/i,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),t&&this.moveCenter(s),this}set visible(t){t||this.input.clear(),super.visible=t}setZoom(t,e){let i;e&&(i=this.center),this.scale.set(t);const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&this.moveCenter(i),this}zoomPercent(t,e){return this.setZoom(this.scale.x+this.scale.x*t,e)}zoom(t,e){return this.fitWidth(t+this.worldScreenWidth,e),this}set scaled(t){this.setZoom(t,!0)}get scaled(){return this.scale.x}snapZoom(t){return this.plugins.add("snap-zoom",new z(this,t)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this._worldHeight,cornerPoint:new s.Point(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(t){this.x=-t*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(t){this.y=-t*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return this._dirty}set dirty(t){this._dirty=t}get forceHitArea(){return this._forceHitArea}set forceHitArea(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new s.Rectangle(0,0,this.worldWidth,this.worldHeight))}drag(t){return this.plugins.add("drag",new p(this,t)),this}clamp(t){return this.plugins.add("clamp",new u(this,t)),this}decelerate(t){return this.plugins.add("decelerate",new y(this,t)),this}bounce(t){return this.plugins.add("bounce",new S(this,t)),this}pinch(t){return this.plugins.add("pinch",new c(this,t)),this}snap(t,e,i){return this.plugins.add("snap",new C(this,t,e,i)),this}follow(t,e){return this.plugins.add("follow",new P(this,t,e)),this}wheel(t){return this.plugins.add("wheel",new X(this,t)),this}animate(t){return this.plugins.add("animate",new V(this,t)),this}clampZoom(t){return this.plugins.add("clamp-zoom",new m(this,t)),this}mouseEdges(t){return this.plugins.add("mouse-edges",new A(this,t)),this}get pause(){return this._pause}set pause(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}ensureVisible(t,e,i,s,n){n&&(i>this.worldScreenWidth||s>this.worldScreenHeight)&&(this.fit(!0,i,s),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let h=!1;t<this.left?(this.left=t,h=!0):t+i>this.right&&(this.right=t+i,h=!0),e<this.top?(this.top=e,h=!0):e+s>this.bottom&&(this.bottom=e+s,h=!0),h&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9waXhpLXZpZXdwb3J0L2Rpc3Qvdmlld3BvcnQuZXMuanMiXSwibmFtZXMiOlsiSW5wdXRNYW5hZ2VyIiwidmlld3BvcnQiLCJ0aGlzIiwidG91Y2hlcyIsImFkZExpc3RlbmVycyIsImludGVyYWN0aXZlIiwiZm9yY2VIaXRBcmVhIiwiaGl0QXJlYSIsIlJlY3RhbmdsZSIsIndvcmxkV2lkdGgiLCJ3b3JsZEhlaWdodCIsIm9uIiwiZG93biIsIm1vdmUiLCJ1cCIsIndoZWVsRnVuY3Rpb24iLCJlIiwiaGFuZGxlV2hlZWwiLCJvcHRpb25zIiwiZGl2V2hlZWwiLCJhZGRFdmVudExpc3RlbmVyIiwicGFzc2l2ZSIsInBhc3NpdmVXaGVlbCIsImlzTW91c2VEb3duIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicGF1c2UiLCJ3b3JsZFZpc2libGUiLCJkYXRhIiwicG9pbnRlclR5cGUiLCJnZXQiLCJwb2ludGVySWQiLCJwdXNoIiwiaWQiLCJsYXN0IiwiY291bnQiLCJnbG9iYWwiLCJjbG9uZSIsImRlY2VsZXJhdGUiLCJwbHVnaW5zIiwiYm91bmNlIiwiaXNBY3RpdmUiLCJjbGlja2VkQXZhaWxhYmxlIiwic3RvcFByb3BhZ2F0aW9uIiwiY2hhbmdlIiwiTWF0aCIsImFicyIsInRocmVzaG9sZCIsInN0b3AiLCJkaXN0WCIsIngiLCJkaXN0WSIsInkiLCJjaGVja1RocmVzaG9sZCIsInJlbW92ZSIsImVtaXQiLCJzY3JlZW4iLCJ3b3JsZCIsInRvV29ybGQiLCJwb2ludCIsIlBvaW50IiwiaW50ZXJhY3Rpb24iLCJtYXBQb3NpdGlvblRvUG9pbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsInRvTG9jYWwiLCJnZXRQb2ludGVyUG9zaXRpb24iLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJ3aGVlbCIsInByZXZlbnREZWZhdWx0IiwidG91Y2giLCJpIiwibGVuZ3RoIiwic3BsaWNlIiwiUExVR0lOX09SREVSIiwiUGx1Z2luTWFuYWdlciIsImxpc3QiLCJuYW1lIiwicGx1Z2luIiwiaW5kZXgiLCJjdXJyZW50IiwiaW5kZXhPZiIsInNvcnQiLCJpZ25vcmVQYXVzZWQiLCJwYXVzZWQiLCJlbGFwc2VkIiwidXBkYXRlIiwicmVzaXplIiwicmVzZXQiLCJyZXN1bWUiLCJyZXN1bHQiLCJQbHVnaW4iLCJwYXJlbnQiLCJkcmFnT3B0aW9ucyIsImRpcmVjdGlvbiIsInByZXNzRHJhZyIsIndoZWVsU2Nyb2xsIiwicmV2ZXJzZSIsImNsYW1wV2hlZWwiLCJ1bmRlcmZsb3ciLCJmYWN0b3IiLCJtb3VzZUJ1dHRvbnMiLCJrZXlUb1ByZXNzIiwiaWdub3JlS2V5VG9QcmVzc09uVG91Y2giLCJEcmFnIiwic3VwZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJtb3ZlZCIsInhEaXJlY3Rpb24iLCJ5RGlyZWN0aW9uIiwia2V5SXNQcmVzc2VkIiwicGFyc2VVbmRlcmZsb3ciLCJoYW5kbGVLZXlQcmVzc2VzIiwiY29kZXMiLCJpbmNsdWRlcyIsImNvZGUiLCJidXR0b25zIiwibW91c2UiLCJjbGFtcCIsInRvTG93ZXJDYXNlIiwidW5kZXJmbG93WCIsInVuZGVyZmxvd1kiLCJpc01vdXNlIiwiaW5wdXQiLCJidXR0b24iLCJjaGVja0J1dHRvbnMiLCJjaGVja0tleVByZXNzIiwibmV3UG9pbnQiLCJ0eXBlIiwicG9pbnRlciIsImRlbHRhWCIsImRlbHRhWSIsInNjcmVlbldvcmxkV2lkdGgiLCJzY3JlZW5XaWR0aCIsInNjYWxlIiwic2NyZWVuV29ybGRIZWlnaHQiLCJzY3JlZW5IZWlnaHQiLCJwaW5jaE9wdGlvbnMiLCJub0RyYWciLCJwZXJjZW50IiwiY2VudGVyIiwiUGluY2giLCJhY3RpdmUiLCJwb2ludGVycyIsImZpcnN0Iiwic2Vjb25kIiwic3FydCIsInBvdyIsIm9sZFBvaW50IiwiZGlzdCIsIm1vdmVDZW50ZXIiLCJ0b0dsb2JhbCIsImxhc3RDZW50ZXIiLCJwaW5jaGluZyIsImNsYW1wT3B0aW9ucyIsIkNsYW1wIiwic2NhbGVYIiwic2NhbGVZIiwibm9VbmRlcmZsb3ciLCJvcmlnaW5hbCIsImNsYW1wWm9vbU9wdGlvbnMiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwibWluU2NhbGUiLCJtYXhTY2FsZSIsIkNsYW1wWm9vbSIsIndpZHRoIiwid29ybGRTY3JlZW5XaWR0aCIsImhlaWdodCIsIndvcmxkU2NyZWVuSGVpZ2h0IiwiZml0V2lkdGgiLCJmaXRIZWlnaHQiLCJzZXQiLCJkZWNlbGVyYXRlT3B0aW9ucyIsImZyaWN0aW9uIiwibWluU3BlZWQiLCJUUCIsIkRlY2VsZXJhdGUiLCJzYXZlZCIsInRpbWVTaW5jZVJlbGVhc2UiLCJ0aW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJzYXZlIiwicGVyY2VudENoYW5nZVgiLCJwZXJjZW50Q2hhbmdlWSIsInRpIiwidGYiLCJrIiwibG5rIiwibG9nIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwid2luZG93Iiwic2VsZiIsImJhc2VkaXIiLCJtb2R1bGUiLCJwZW5uZXIiLCJleHBvcnRzIiwiZmFjdG9yeSIsImxpbmVhciIsInQiLCJiIiwiYyIsImQiLCJlYXNlSW5RdWFkIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJblF1YXJ0IiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiZWFzZUluU2luZSIsImNvcyIsIlBJIiwiZWFzZU91dFNpbmUiLCJzaW4iLCJlYXNlSW5PdXRTaW5lIiwiZWFzZUluRXhwbyIsImVhc2VPdXRFeHBvIiwiZWFzZUluT3V0RXhwbyIsImVhc2VJbkNpcmMiLCJlYXNlT3V0Q2lyYyIsImVhc2VJbk91dENpcmMiLCJlYXNlSW5FbGFzdGljIiwiYSIsInAiLCJzIiwiYXNpbiIsImVhc2VPdXRFbGFzdGljIiwiZWFzZUluT3V0RWxhc3RpYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlSW5Cb3VuY2UiLCJlYXNlT3V0Qm91bmNlIiwiZWFzZUluT3V0Qm91bmNlIiwiY2FsbCIsImZuIiwicGF0aCIsInJlcXVpcmUiLCJiYXNlIiwiRXJyb3IiLCJjb21tb25qc1JlcXVpcmUiLCJlYXNlIiwiZGVmYXVsdHMiLCJib3VuY2VPcHRpb25zIiwic2lkZXMiLCJib3VuY2VCb3giLCJCb3VuY2UiLCJ0b1giLCJ0b1kiLCJlbmQiLCJzdGFydCIsImRlbHRhIiwiYm94IiwieDEiLCJ5MSIsInRvcExlZnQiLCJib3R0b21SaWdodCIsIm9vYiIsImRyYWciLCJwaW5jaCIsImNhbGNVbmRlcmZsb3dYIiwiY2FsY1VuZGVyZmxvd1kiLCJzbmFwT3B0aW9ucyIsImludGVycnVwdCIsInJlbW92ZU9uQ29tcGxldGUiLCJyZW1vdmVPbkludGVycnVwdCIsImZvcmNlU3RhcnQiLCJTbmFwIiwic25hcFN0YXJ0Iiwic25hcHBpbmciLCJjb3JuZXIiLCJzdGFydFgiLCJzdGFydFkiLCJmaW5pc2hlZCIsIm1vdmVDb3JuZXIiLCJzbmFwWm9vbU9wdGlvbnMiLCJyZW1vdmVPbkludGVycnVwdHMiLCJub01vdmUiLCJTbmFwWm9vbSIsInhTY2FsZSIsInlTY2FsZSIsInhJbmRlcGVuZGVudCIsInlJbmRlcGVuZGVudCIsImNvbnRhaW5lciIsImNyZWF0ZVNuYXBwaW5nIiwic3RhcnRXb3JsZFNjcmVlbldpZHRoIiwic3RhcnRXb3JsZFNjcmVlbkhlaWdodCIsImVuZFdvcmxkU2NyZWVuV2lkdGgiLCJlbmRXb3JsZFNjcmVlbkhlaWdodCIsIm9sZENlbnRlciIsImZvbGxvd09wdGlvbnMiLCJzcGVlZCIsImFjY2VsZXJhdGlvbiIsInJhZGl1cyIsIkZvbGxvdyIsInRhcmdldCIsInZlbG9jaXR5IiwiYW5nbGUiLCJhdGFuMiIsImRpc3RhbmNlIiwiZGVjZWxlcmF0aW9uRGlzdGFuY2UiLCJtaW4iLCJtYXgiLCJjaGFuZ2VYIiwiY2hhbmdlWSIsIndoZWVsT3B0aW9ucyIsInNtb290aCIsImxpbmVIZWlnaHQiLCJXaGVlbCIsInNtb290aGluZyIsInNtb290aGluZ0NlbnRlciIsInNtb290aGluZ0NvdW50Iiwic3RlcCIsImRlbHRhTW9kZSIsImR4IiwiZHkiLCJkeiIsImRlbHRhWiIsIm1vdXNlRWRnZXNPcHRpb25zIiwibm9EZWNlbGVyYXRlIiwiYWxsb3dCdXR0b25zIiwiTW91c2VFZGdlcyIsInJhZGl1c1NxdWFyZWQiLCJob3Jpem9udGFsIiwidmVydGljYWwiLCJpZGVudGlmaWVyIiwidG9TY3JlZW4iLCJyb3VuZCIsImRlY2VsZXJhdGVIb3Jpem9udGFsIiwiZGVjZWxlcmF0ZVZlcnRpY2FsIiwiYWN0aXZhdGUiLCJhbmltYXRlT3B0aW9ucyIsIkFuaW1hdGUiLCJzZXR1cFBvc2l0aW9uIiwic2V0dXBab29tIiwicG9zaXRpb24iLCJrZWVwQ2VudGVyIiwic3RhcnRXaWR0aCIsInNjcmVlbldpZHRoSW5Xb3JsZFBpeGVscyIsImRlbHRhV2lkdGgiLCJzdGFydEhlaWdodCIsInNjcmVlbkhlaWdodEluV29ybGRQaXhlbHMiLCJkZWx0YUhlaWdodCIsImNhbGxiYWNrT25Db21wbGV0ZSIsImNvbXBsZXRlIiwib3JpZ2luYWxab29tIiwidmlld3BvcnRPcHRpb25zIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwibm9UaWNrZXIiLCJkaXNhYmxlT25Db250ZXh0TWVudSIsIlZpZXdwb3J0IiwiQ29udGFpbmVyIiwidGlja2VyIiwicGl4aU5TIiwicGFyc2VJbnQiLCJleGVjIiwiVkVSU0lPTiIsInNoYXJlZCIsIlRpY2tlciIsIl93b3JsZFdpZHRoIiwiX3dvcmxkSGVpZ2h0IiwiZG9jdW1lbnQiLCJib2R5Iiwib25jb250ZXh0bWVudSIsInRpY2tlckZ1bmN0aW9uIiwiZWxhcHNlZE1TIiwiYWRkIiwiZGVzdHJveSIsImxhc3RWaWV3cG9ydCIsIm1vdmluZyIsInpvb21pbmciLCJfaGl0QXJlYURlZmF1bHQiLCJfZGlydHkiLCJkaXJ0eSIsInZhbHVlIiwiYXJndW1lbnRzIiwiaXNOYU4iLCJub0NsYW1wIiwiY2xhbXBab29tIiwiY2xlYXIiLCJ2aXNpYmxlIiwic2V0Wm9vbSIsImNvcm5lclBvaW50IiwiX2ZvcmNlSGl0QXJlYSIsIl9wYXVzZSIsInJlc2l6ZVRvRml0IiwiZml0Il0sIm1hcHBpbmdzIjoiZ1VBYUEsTUFBTUEsRUFDRixZQUFZQyxHQUNSQyxLQUFLRCxTQUFXQSxFQU1oQkMsS0FBS0MsUUFBVSxHQUNmRCxLQUFLRSxlQU9ULGVBQ0lGLEtBQUtELFNBQVNJLGFBQWMsRUFDdkJILEtBQUtELFNBQVNLLGVBQ2ZKLEtBQUtELFNBQVNNLFFBQVUsSUFBSSxFQUFBQyxVQUFVLEVBQUcsRUFBR04sS0FBS0QsU0FBU1EsV0FBWVAsS0FBS0QsU0FBU1MsY0FFeEZSLEtBQUtELFNBQVNVLEdBQUcsY0FBZVQsS0FBS1UsS0FBTVYsTUFDM0NBLEtBQUtELFNBQVNVLEdBQUcsY0FBZVQsS0FBS1csS0FBTVgsTUFDM0NBLEtBQUtELFNBQVNVLEdBQUcsWUFBYVQsS0FBS1ksR0FBSVosTUFDdkNBLEtBQUtELFNBQVNVLEdBQUcsbUJBQW9CVCxLQUFLWSxHQUFJWixNQUM5Q0EsS0FBS0QsU0FBU1UsR0FBRyxnQkFBaUJULEtBQUtZLEdBQUlaLE1BQzNDQSxLQUFLRCxTQUFTVSxHQUFHLGFBQWNULEtBQUtZLEdBQUlaLE1BQ3hDQSxLQUFLYSxjQUFpQkMsR0FBTWQsS0FBS2UsWUFBWUQsR0FDN0NkLEtBQUtELFNBQVNpQixRQUFRQyxTQUFTQyxpQkFBaUIsUUFBU2xCLEtBQUthLGNBQWUsQ0FBRU0sUUFBU25CLEtBQUtELFNBQVNpQixRQUFRSSxlQUM5R3BCLEtBQUtxQixhQUFjLEVBT3ZCLFVBQ0lyQixLQUFLRCxTQUFTaUIsUUFBUUMsU0FBU0ssb0JBQW9CLFFBQVN0QixLQUFLYSxlQU9yRSxLQUFLVSxHQUNELEdBQUl2QixLQUFLRCxTQUFTeUIsUUFB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QUtxRCxLQUFLLFFBQVMsQ0FBRXRELFNBQVVDLEtBQU1rSSxLQUFNIiwiZmlsZSI6IjQxNDFmYzhlNzljYTY5YmEzNDUwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCB7IFJlY3RhbmdsZSwgUG9pbnQsIENvbnRhaW5lciwgVkVSU0lPTiB9IGZyb20gJ3BpeGkuanMnO1xuXG4vKipcclxuICogQHR5cGVkZWYgVmlld3BvcnRUb3VjaFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcclxuICogQHByb3BlcnR5IHtQSVhJLlBvaW50fSBsYXN0XHJcbiovXHJcblxyXG4vKipcclxuICogaGFuZGxlcyBhbGwgaW5wdXQgZm9yIFZpZXdwb3J0XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5jbGFzcyBJbnB1dE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3Iodmlld3BvcnQpIHtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gdmlld3BvcnQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIGxpc3Qgb2YgYWN0aXZlIHRvdWNoZXMgb24gdmlld3BvcnRcclxuICAgICAgICAgKiBAdHlwZSB7Vmlld3BvcnRUb3VjaFtdfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMudG91Y2hlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgaW5wdXQgbGlzdGVuZXJzXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBhZGRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy52aWV3cG9ydC5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgaWYgKCF0aGlzLnZpZXdwb3J0LmZvcmNlSGl0QXJlYSkge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0LmhpdEFyZWEgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIHRoaXMudmlld3BvcnQud29ybGRXaWR0aCwgdGhpcy52aWV3cG9ydC53b3JsZEhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmlld3BvcnQub24oJ3BvaW50ZXJkb3duJywgdGhpcy5kb3duLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0Lm9uKCdwb2ludGVybW92ZScsIHRoaXMubW92ZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy52aWV3cG9ydC5vbigncG9pbnRlcnVwJywgdGhpcy51cCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy52aWV3cG9ydC5vbigncG9pbnRlcnVwb3V0c2lkZScsIHRoaXMudXAsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudmlld3BvcnQub24oJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLnVwLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0Lm9uKCdwb2ludGVyb3V0JywgdGhpcy51cCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy53aGVlbEZ1bmN0aW9uID0gKGUpID0+IHRoaXMuaGFuZGxlV2hlZWwoZSk7XHJcbiAgICAgICAgdGhpcy52aWV3cG9ydC5vcHRpb25zLmRpdldoZWVsLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy53aGVlbEZ1bmN0aW9uLCB7IHBhc3NpdmU6IHRoaXMudmlld3BvcnQub3B0aW9ucy5wYXNzaXZlV2hlZWwgfSk7XHJcbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVtb3ZlcyBhbGwgZXZlbnQgbGlzdGVuZXJzIGZyb20gdmlld3BvcnRcclxuICAgICAqICh1c2VmdWwgZm9yIGNsZWFudXAgb2Ygd2hlZWwgd2hlbiByZW1vdmluZyB2aWV3cG9ydClcclxuICAgICAqL1xyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnZpZXdwb3J0Lm9wdGlvbnMuZGl2V2hlZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLndoZWVsRnVuY3Rpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlIGRvd24gZXZlbnRzIGZvciB2aWV3cG9ydFxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKi9cclxuICAgIGRvd24oZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy52aWV3cG9ydC5wYXVzZSB8fCAhdGhpcy52aWV3cG9ydC53b3JsZFZpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghdGhpcy5nZXQoZXZlbnQuZGF0YS5wb2ludGVySWQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hlcy5wdXNoKHsgaWQ6IGV2ZW50LmRhdGEucG9pbnRlcklkLCBsYXN0OiBudWxsIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jb3VudCgpID09PSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IGV2ZW50LmRhdGEuZ2xvYmFsLmNsb25lKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBjbGlja2VkIGV2ZW50IGRvZXMgbm90IGZpcmUgaWYgdmlld3BvcnQgaXMgZGVjZWxlcmF0aW5nIG9yIGJvdW5jaW5nXHJcbiAgICAgICAgICAgIGNvbnN0IGRlY2VsZXJhdGUgPSB0aGlzLnZpZXdwb3J0LnBsdWdpbnMuZ2V0KCdkZWNlbGVyYXRlJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvdW5jZSA9IHRoaXMudmlld3BvcnQucGx1Z2lucy5nZXQoJ2JvdW5jZScsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoKCFkZWNlbGVyYXRlIHx8ICFkZWNlbGVyYXRlLmlzQWN0aXZlKCkpICYmICghYm91bmNlIHx8ICFib3VuY2UuaXNBY3RpdmUoKSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tlZEF2YWlsYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWRBdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jbGlja2VkQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzdG9wID0gdGhpcy52aWV3cG9ydC5wbHVnaW5zLmRvd24oZXZlbnQpO1xyXG4gICAgICAgIGlmIChzdG9wICYmIHRoaXMudmlld3BvcnQub3B0aW9ucy5zdG9wUHJvcGFnYXRpb24pIHtcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2xlYXJzIGFsbCBwb2ludGVyIGV2ZW50c1xyXG4gICAgICovXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy50b3VjaGVzID0gW107XHJcbiAgICAgICAgdGhpcy5sYXN0ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjaGFuZ2VcclxuICAgICAqIEByZXR1cm5zIHdoZXRoZXIgY2hhbmdlIGV4Y2VlZHMgdGhyZXNob2xkXHJcbiAgICAgKi9cclxuICAgIGNoZWNrVGhyZXNob2xkKGNoYW5nZSkge1xyXG4gICAgICAgIGlmIChNYXRoLmFicyhjaGFuZ2UpID49IHRoaXMudmlld3BvcnQudGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlIG1vdmUgZXZlbnRzIGZvciB2aWV3cG9ydFxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKi9cclxuICAgIG1vdmUoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy52aWV3cG9ydC5wYXVzZSB8fCAhdGhpcy52aWV3cG9ydC53b3JsZFZpc2libGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzdG9wID0gdGhpcy52aWV3cG9ydC5wbHVnaW5zLm1vdmUoZXZlbnQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jbGlja2VkQXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRpc3RYID0gZXZlbnQuZGF0YS5nbG9iYWwueCAtIHRoaXMubGFzdC54O1xyXG4gICAgICAgICAgICBjb25zdCBkaXN0WSA9IGV2ZW50LmRhdGEuZ2xvYmFsLnkgLSB0aGlzLmxhc3QueTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUaHJlc2hvbGQoZGlzdFgpIHx8IHRoaXMuY2hlY2tUaHJlc2hvbGQoZGlzdFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWRBdmFpbGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0b3AgJiYgdGhpcy52aWV3cG9ydC5vcHRpb25zLnN0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGUgdXAgZXZlbnRzIGZvciB2aWV3cG9ydFxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKi9cclxuICAgIHVwKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld3BvcnQucGF1c2UgfHwgIXRoaXMudmlld3BvcnQud29ybGRWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScpIHtcclxuICAgICAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEucG9pbnRlclR5cGUgIT09ICdtb3VzZScpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZXZlbnQuZGF0YS5wb2ludGVySWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3RvcCA9IHRoaXMudmlld3BvcnQucGx1Z2lucy51cChldmVudCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNsaWNrZWRBdmFpbGFibGUgJiYgdGhpcy5jb3VudCgpID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuZW1pdCgnY2xpY2tlZCcsIHsgZXZlbnQ6IGV2ZW50LCBzY3JlZW46IHRoaXMubGFzdCwgd29ybGQ6IHRoaXMudmlld3BvcnQudG9Xb3JsZCh0aGlzLmxhc3QpLCB2aWV3cG9ydDogdGhpcyB9KTtcclxuICAgICAgICAgICAgdGhpcy5jbGlja2VkQXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3RvcCAmJiB0aGlzLnZpZXdwb3J0Lm9wdGlvbnMuc3RvcFByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldHMgcG9pbnRlciBwb3NpdGlvbiBpZiB0aGlzLmludGVyYWN0aW9uIGlzIHNldFxyXG4gICAgICogQHBhcmFtIHtXaGVlbEV2ZW50fSBldmVudFxyXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH1cclxuICAgICAqL1xyXG4gICAgZ2V0UG9pbnRlclBvc2l0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHBvaW50ID0gbmV3IFBvaW50KCk7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld3BvcnQub3B0aW9ucy5pbnRlcmFjdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0Lm9wdGlvbnMuaW50ZXJhY3Rpb24ubWFwUG9zaXRpb25Ub1BvaW50KHBvaW50LCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBvaW50LnggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICBwb2ludC55ID0gZXZlbnQuY2xpZW50WTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBvaW50XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGUgd2hlZWwgZXZlbnRzXHJcbiAgICAgKiBAcGFyYW0ge1doZWVsRXZlbnR9IGV2ZW50XHJcbiAgICAgKi9cclxuICAgIGhhbmRsZVdoZWVsKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld3BvcnQucGF1c2UgfHwgIXRoaXMudmlld3BvcnQud29ybGRWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb25seSBoYW5kbGUgd2hlZWwgZXZlbnRzIHdoZXJlIHRoZSBtb3VzZSBpcyBvdmVyIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy52aWV3cG9ydC50b0xvY2FsKHRoaXMuZ2V0UG9pbnRlclBvc2l0aW9uKGV2ZW50KSk7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld3BvcnQubGVmdCA8PSBwb2ludC54ICYmIHBvaW50LnggPD0gdGhpcy52aWV3cG9ydC5yaWdodCAmJiB0aGlzLnZpZXdwb3J0LnRvcCA8PSBwb2ludC55ICYmIHBvaW50LnkgPD0gdGhpcy52aWV3cG9ydC5ib3R0b20pIHtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcCA9IHRoaXMudmlld3BvcnQucGx1Z2lucy53aGVlbChldmVudCk7XHJcbiAgICAgICAgICAgIGlmIChzdG9wICYmICF0aGlzLnZpZXdwb3J0Lm9wdGlvbnMucGFzc2l2ZVdoZWVsKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMudG91Y2hlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldCB0b3VjaCBieSBpZFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydFRvdWNofVxyXG4gICAgICovXHJcbiAgICBnZXQoaWQpIHtcclxuICAgICAgICBmb3IgKGxldCB0b3VjaCBvZiB0aGlzLnRvdWNoZXMpIHtcclxuICAgICAgICAgICAgaWYgKHRvdWNoLmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdWNoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlbW92ZSB0b3VjaCBieSBudW1iZXJcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxyXG4gICAgICovXHJcbiAgICByZW1vdmUoaWQpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudG91Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50b3VjaGVzW2ldLmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaGVzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHJldHVybnMge251bWJlcn0gY291bnQgb2YgbW91c2UvdG91Y2ggcG9pbnRlcnMgdGhhdCBhcmUgZG93biBvbiB0aGUgdmlld3BvcnRcclxuICAgICAqL1xyXG4gICAgY291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmlzTW91c2VEb3duID8gMSA6IDApICsgdGhpcy50b3VjaGVzLmxlbmd0aFxyXG4gICAgfVxyXG59XG5cbmNvbnN0IFBMVUdJTl9PUkRFUiA9IFsnZHJhZycsICdwaW5jaCcsICd3aGVlbCcsICdmb2xsb3cnLCAnbW91c2UtZWRnZXMnLCAnZGVjZWxlcmF0ZScsICdhbmlhbXRlJywgJ2JvdW5jZScsICdzbmFwLXpvb20nLCAnY2xhbXAtem9vbScsICdzbmFwJywgJ2NsYW1wJ107XHJcblxyXG4vKipcclxuICogVXNlIHRoaXMgdG8gYWNjZXNzIGN1cnJlbnQgcGx1Z2lucyBvciBhZGQgdXNlci1kZWZpbmVkIHBsdWdpbnNcclxuICovXHJcbmNsYXNzIFBsdWdpbk1hbmFnZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBpbnN0YW50aWF0ZWQgYnkgVmlld3BvcnRcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHZpZXdwb3J0XHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHZpZXdwb3J0KSB7XHJcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IHZpZXdwb3J0O1xyXG4gICAgICAgIHRoaXMubGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5zZXJ0cyBhIG5hbWVkIHBsdWdpbiBvciBhIHVzZXIgcGx1Z2luIGludG8gdGhlIHZpZXdwb3J0XHJcbiAgICAgKiBkZWZhdWx0IHBsdWdpbiBvcmRlcjogJ2RyYWcnLCAncGluY2gnLCAnd2hlZWwnLCAnZm9sbG93JywgJ21vdXNlLWVkZ2VzJywgJ2RlY2VsZXJhdGUnLCAnYm91bmNlJywgJ3NuYXAtem9vbScsICdjbGFtcC16b29tJywgJ3NuYXAnLCAnY2xhbXAnXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBvZiBwbHVnaW5cclxuICAgICAqIEBwYXJhbSB7UGx1Z2lufSBwbHVnaW4gLSBpbnN0YW50aWF0ZWQgUGx1Z2luIGNsYXNzXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggdG8gaW5zZXJ0IHVzZXJQbHVnaW4gKG90aGVyd2lzZSBpbnNlcnRzIGl0IGF0IHRoZSBlbmQpXHJcbiAgICAgKi9cclxuICAgIGFkZChuYW1lLCBwbHVnaW4sIGluZGV4ID0gUExVR0lOX09SREVSLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMucGx1Z2luc1tuYW1lXSA9IHBsdWdpbjtcclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gUExVR0lOX09SREVSLmluZGV4T2YobmFtZSk7XHJcbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIFBMVUdJTl9PUkRFUi5zcGxpY2UoY3VycmVudCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFBMVUdJTl9PUkRFUi5zcGxpY2UoaW5kZXgsIDAsIG5hbWUpO1xyXG4gICAgICAgIHRoaXMuc29ydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHBsdWdpblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgb2YgcGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpZ25vcmVQYXVzZWRdIHJldHVybiBudWxsIGlmIHBsdWdpbiBpcyBwYXVzZWRcclxuICAgICAqIEByZXR1cm4ge1BsdWdpbn1cclxuICAgICAqL1xyXG4gICAgZ2V0KG5hbWUsIGlnbm9yZVBhdXNlZCkge1xyXG4gICAgICAgIGlmIChpZ25vcmVQYXVzZWQpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnBsdWdpbnNbbmFtZV0gIT09ICd1bmRlZmluZWQnICYmIHRoaXMucGx1Z2luc1tuYW1lXS5wYXVzZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGx1Z2luc1tuYW1lXVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogdXBkYXRlIGFsbCBhY3RpdmUgcGx1Z2luc1xyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVsYXBzZWQgdHlwZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgbGFzdCB1cGRhdGVcclxuICAgICAqL1xyXG4gICAgdXBkYXRlKGVsYXBzZWQpIHtcclxuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5saXN0KSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi51cGRhdGUoZWxhcHNlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVzaXplIGFsbCBhY3RpdmUgcGx1Z2luc1xyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICovXHJcbiAgICByZXNpemUoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMubGlzdCkge1xyXG4gICAgICAgICAgICBwbHVnaW4ucmVzaXplKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2xhbXBzIGFuZCByZXNldHMgYm91bmNlIGFuZCBkZWNlbGVyYXRlIChhcyBuZWVkZWQpIGFmdGVyIG1hbnVhbGx5IG1vdmluZyB2aWV3cG9ydFxyXG4gICAgICovXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5saXN0KSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5yZXNldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlbW92ZXMgaW5zdGFsbGVkIHBsdWdpblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgb2YgcGx1Z2luIChlLmcuLCAnZHJhZycsICdwaW5jaCcpXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZShuYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGx1Z2luc1tuYW1lXSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbbmFtZV0gPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0LmVtaXQobmFtZSArICctcmVtb3ZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc29ydCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHBhdXNlIHBsdWdpblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgb2YgcGx1Z2luIChlLmcuLCAnZHJhZycsICdwaW5jaCcpXHJcbiAgICAgKi9cclxuICAgIHBhdXNlKG5hbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5wbHVnaW5zW25hbWVdKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tuYW1lXS5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlc3VtZSBwbHVnaW5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG9mIHBsdWdpbiAoZS5nLiwgJ2RyYWcnLCAncGluY2gnKVxyXG4gICAgICovXHJcbiAgICByZXN1bWUobmFtZSkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbnNbbmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW25hbWVdLnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNvcnQgcGx1Z2lucyBhY2NvcmRpbmcgdG8gUExVR0lOX09SREVSXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIHNvcnQoKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIFBMVUdJTl9PUkRFUikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW5zW3BsdWdpbl0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdC5wdXNoKHRoaXMucGx1Z2luc1twbHVnaW5dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGhhbmRsZSBkb3duIGZvciBhbGwgcGx1Z2luc1xyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgZG93bihldmVudCkge1xyXG4gICAgICAgIGxldCBzdG9wID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMubGlzdCkge1xyXG4gICAgICAgICAgICBpZiAocGx1Z2luLmRvd24oZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RvcFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlIG1vdmUgZm9yIGFsbCBwbHVnaW5zXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnRcclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gICAgICovXHJcbiAgICBtb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHN0b3AgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy52aWV3cG9ydC5wbHVnaW5zLmxpc3QpIHtcclxuICAgICAgICAgICAgaWYgKHBsdWdpbi5tb3ZlKGV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0b3BcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGhhbmRsZSB1cCBmb3IgYWxsIHBsdWdpbnNcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHVwKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IHN0b3AgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKGxldCBwbHVnaW4gb2YgdGhpcy5saXN0KSB7XHJcbiAgICAgICAgICAgIGlmIChwbHVnaW4udXAoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RvcFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlIHdoZWVsIGV2ZW50IGZvciBhbGwgcGx1Z2luc1xyXG4gICAgICogQGlnbm9yZVxyXG4gICAgICogQHBhcmFtIHtXaGVlbEV2ZW50fSBldmVudFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHdoZWVsKGUpIHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChsZXQgcGx1Z2luIG9mIHRoaXMubGlzdCkge1xyXG4gICAgICAgICAgICBpZiAocGx1Z2luLndoZWVsKGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH1cclxufVxuXG4vKipcclxuICogZGVyaXZlIHRoaXMgY2xhc3MgdG8gY3JlYXRlIHVzZXItZGVmaW5lZCBwbHVnaW5zXHJcbiAqL1xyXG5jbGFzcyBQbHVnaW5cclxue1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIGNhbGxlZCB3aGVuIHBsdWdpbiBpcyByZW1vdmVkICovXHJcbiAgICBkZXN0cm95KCkge31cclxuXHJcbiAgICAvKipcclxuICAgICAqIGhhbmRsZXIgZm9yIHBvaW50ZXJkb3duIFBJWEkgZXZlbnRcclxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGRvd24oKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlciBmb3IgcG9pbnRlcm1vdmUgUElYSSBldmVudFxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgbW92ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGVyIGZvciBwb2ludGVydXAgUElYSSBldmVudFxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgdXAoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogaGFuZGxlciBmb3Igd2hlZWwgZXZlbnQgb24gZGl2XHJcbiAgICAgKiBAcGFyYW0ge1doZWVsRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgd2hlZWwoKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2FsbGVkIG9uIGVhY2ggdGlja1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVsYXBzZWQgdGltZSBpbiBtaWxsaXNlY29uZCBzaW5jZSBsYXN0IHVwZGF0ZVxyXG4gICAgICovXHJcbiAgICB1cGRhdGUoKSB7IH1cclxuXHJcbiAgICAvKiogY2FsbGVkIHdoZW4gdGhlIHZpZXdwb3J0IGlzIHJlc2l6ZWQgKi9cclxuICAgIHJlc2l6ZSgpIHsgfVxyXG5cclxuICAgIC8qKiBjYWxsZWQgd2hlbiB0aGUgdmlld3BvcnQgaXMgbWFudWFsbHkgbW92ZWQgKi9cclxuICAgIHJlc2V0KCkgeyB9XHJcblxyXG4gICAgLyoqIHBhdXNlIHRoZSBwbHVnaW4gKi9cclxuICAgIHBhdXNlKClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnBhdXNlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqIHVuLXBhdXNlIHRoZSBwbHVnaW4gKi9cclxuICAgIHJlc3VtZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQHR5cGVkZWYge29iamVjdH0gTGFzdERyYWdcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHhcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlcclxuICogQHByb3BlcnR5IHtQSVhJLlBvaW50fSBwYXJlbnRcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYgRHJhZ09wdGlvbnNcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtkaXJlY3Rpb249YWxsXSBkaXJlY3Rpb24gdG8gZHJhZ1xyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtwcmVzc0RyYWc9dHJ1ZV0gd2hldGhlciBjbGljayB0byBkcmFnIGlzIGFjdGl2ZVxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt3aGVlbD10cnVlXSB1c2Ugd2hlZWwgdG8gc2Nyb2xsIGluIGRpcmVjdGlvbiAodW5sZXNzIHdoZWVsIHBsdWdpbiBpcyBhY3RpdmUpXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd2hlZWxTY3JvbGw9MV0gbnVtYmVyIG9mIHBpeGVscyB0byBzY3JvbGwgd2l0aCBlYWNoIHdoZWVsIHNwaW5cclxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmV2ZXJzZV0gcmV2ZXJzZSB0aGUgZGlyZWN0aW9uIG9mIHRoZSB3aGVlbCBzY3JvbGxcclxuICogQHByb3BlcnR5IHsoYm9vbGVhbnxzdHJpbmcpfSBbY2xhbXBXaGVlbD1mYWxzZV0gY2xhbXAgd2hlZWwodG8gYXZvaWQgd2VpcmQgYm91bmNlIHdpdGggbW91c2Ugd2hlZWwpXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdW5kZXJmbG93PWNlbnRlcl0gd2hlcmUgdG8gcGxhY2Ugd29ybGQgaWYgdG9vIHNtYWxsIGZvciBzY3JlZW5cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmYWN0b3I9MV0gZmFjdG9yIHRvIG11bHRpcGx5IGRyYWcgdG8gaW5jcmVhc2UgdGhlIHNwZWVkIG9mIG1vdmVtZW50XHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbW91c2VCdXR0b25zPWFsbF0gY2hhbmdlcyB3aGljaCBtb3VzZSBidXR0b25zIHRyaWdnZXIgZHJhZywgdXNlOiAnYWxsJywgJ2xlZnQnLCByaWdodCcgJ21pZGRsZScsIG9yIHNvbWUgY29tYmluYXRpb24sIGxpa2UsICdtaWRkbGUtcmlnaHQnOyB5b3UgbWF5IHdhbnQgdG8gc2V0IHZpZXdwb3J0Lm9wdGlvbnMuZGlzYWJsZU9uQ29udGV4dE1lbnUgaWYgeW91IHdhbnQgdG8gdXNlIHJpZ2h0LWNsaWNrIGRyYWdnaW5nXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IFtrZXlUb1ByZXNzPW51bGxdIGFycmF5IGNvbnRhaW5pbmcge0BsaW5rIGtleXxodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudC9jb2RlfSBjb2RlcyBvZiBrZXlzIHRoYXQgY2FuIGJlIHByZXNzZWQgZm9yIHRoZSBkcmFnIHRvIGJlIHRyaWdnZXJlZCwgZS5nLjogWydTaGlmdExlZnQnLCAnU2hpZnRSaWdodCd9LlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtpZ25vcmVLZXlUb1ByZXNzT25Ub3VjaD1mYWxzZV0gaWdub3JlIGtleVRvUHJlc3MgZm9yIHRvdWNoIGV2ZW50c1xyXG4gKi9cclxuXHJcbmNvbnN0IGRyYWdPcHRpb25zID0ge1xyXG4gICAgZGlyZWN0aW9uOiAnYWxsJyxcclxuICAgIHByZXNzRHJhZzogdHJ1ZSxcclxuICAgIHdoZWVsOiB0cnVlLFxyXG4gICAgd2hlZWxTY3JvbGw6IDEsXHJcbiAgICByZXZlcnNlOiBmYWxzZSxcclxuICAgIGNsYW1wV2hlZWw6IGZhbHNlLFxyXG4gICAgdW5kZXJmbG93OiAnY2VudGVyJyxcclxuICAgIGZhY3RvcjogMSxcclxuICAgIG1vdXNlQnV0dG9uczogJ2FsbCcsXHJcbiAgICBrZXlUb1ByZXNzOiBudWxsLFxyXG4gICAgaWdub3JlS2V5VG9QcmVzc09uVG91Y2g6IGZhbHNlXHJcbn07XHJcblxyXG4vKipcclxuICogQHByaXZhdGVcclxuICovXHJcbmNsYXNzIERyYWcgZXh0ZW5kcyBQbHVnaW4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqIEBwYXJhbSB7RHJhZ09wdGlvbnN9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50LCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRyYWdPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLm1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZXZlcnNlID0gdGhpcy5vcHRpb25zLnJldmVyc2UgPyAxIDogLTE7XHJcbiAgICAgICAgdGhpcy54RGlyZWN0aW9uID0gIXRoaXMub3B0aW9ucy5kaXJlY3Rpb24gfHwgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2FsbCcgfHwgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ3gnO1xyXG4gICAgICAgIHRoaXMueURpcmVjdGlvbiA9ICF0aGlzLm9wdGlvbnMuZGlyZWN0aW9uIHx8IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdhbGwnIHx8IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICd5JztcclxuICAgICAgICB0aGlzLmtleUlzUHJlc3NlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnBhcnNlVW5kZXJmbG93KCk7XHJcbiAgICAgICAgdGhpcy5tb3VzZUJ1dHRvbnModGhpcy5vcHRpb25zLm1vdXNlQnV0dG9ucyk7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5rZXlUb1ByZXNzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlS2V5UHJlc3Nlcyh0aGlzLm9wdGlvbnMua2V5VG9QcmVzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyBrZXlwcmVzcyBldmVudHMgYW5kIHNldCB0aGUga2V5SXNQcmVzc2VkIGJvb2xlYW4gYWNjb3JkaW5nbHlcclxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGNvZGVzIC0ga2V5IGNvZGVzIHRoYXQgY2FuIGJlIHVzZWQgdG8gdHJpZ2dlciBkcmFnIGV2ZW50XHJcbiAgICAgKi9cclxuICAgIGhhbmRsZUtleVByZXNzZXMoY29kZXMpIHtcclxuICAgICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb2Rlcy5pbmNsdWRlcyhlLmNvZGUpKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlJc1ByZXNzZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY29kZXMuaW5jbHVkZXMoZS5jb2RlKSlcclxuICAgICAgICAgICAgICAgIHRoaXMua2V5SXNQcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBpbml0aWFsaXplIG1vdXNlYnV0dG9ucyBhcnJheVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvbnNcclxuICAgICAqL1xyXG4gICAgbW91c2VCdXR0b25zKGJ1dHRvbnMpIHtcclxuICAgICAgICBpZiAoIWJ1dHRvbnMgfHwgYnV0dG9ucyA9PT0gJ2FsbCcpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZSA9IFt0cnVlLCB0cnVlLCB0cnVlXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2UgPSBbXHJcbiAgICAgICAgICAgICAgICBidXR0b25zLmluZGV4T2YoJ2xlZnQnKSA9PT0gLTEgPyBmYWxzZSA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBidXR0b25zLmluZGV4T2YoJ21pZGRsZScpID09PSAtMSA/IGZhbHNlIDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGJ1dHRvbnMuaW5kZXhPZigncmlnaHQnKSA9PT0gLTEgPyBmYWxzZSA6IHRydWVcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VVbmRlcmZsb3coKSB7XHJcbiAgICAgICAgY29uc3QgY2xhbXAgPSB0aGlzLm9wdGlvbnMudW5kZXJmbG93LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKGNsYW1wID09PSAnY2VudGVyJykge1xyXG4gICAgICAgICAgICB0aGlzLnVuZGVyZmxvd1ggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnVuZGVyZmxvd1kgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51bmRlcmZsb3dYID0gKGNsYW1wLmluZGV4T2YoJ2xlZnQnKSAhPT0gLTEpID8gLTEgOiAoY2xhbXAuaW5kZXhPZigncmlnaHQnKSAhPT0gLTEpID8gMSA6IDA7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZXJmbG93WSA9IChjbGFtcC5pbmRleE9mKCd0b3AnKSAhPT0gLTEpID8gLTEgOiAoY2xhbXAuaW5kZXhPZignYm90dG9tJykgIT09IC0xKSA/IDEgOiAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGNoZWNrQnV0dG9ucyhldmVudCkge1xyXG4gICAgICAgIGNvbnN0IGlzTW91c2UgPSBldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnO1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5wYXJlbnQuaW5wdXQuY291bnQoKTtcclxuICAgICAgICBpZiAoKGNvdW50ID09PSAxKSB8fCAoY291bnQgPiAxICYmICF0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgncGluY2gnLCB0cnVlKSkpIHtcclxuICAgICAgICAgICAgaWYgKCFpc01vdXNlIHx8IHRoaXMubW91c2VbZXZlbnQuZGF0YS5idXR0b25dKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgY2hlY2tLZXlQcmVzcyhldmVudCkge1xyXG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmtleVRvUHJlc3MgfHwgdGhpcy5rZXlJc1ByZXNzZWQgfHwgKHRoaXMub3B0aW9ucy5pZ25vcmVLZXlUb1ByZXNzT25Ub3VjaCAmJiBldmVudC5kYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSlcclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1BJWEkuSW50ZXJhY3Rpb25FdmVudH0gZXZlbnRcclxuICAgICAqL1xyXG4gICAgZG93bihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCB8fCAhdGhpcy5vcHRpb25zLnByZXNzRHJhZykge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tCdXR0b25zKGV2ZW50KSAmJiB0aGlzLmNoZWNrS2V5UHJlc3MoZXZlbnQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IHsgeDogZXZlbnQuZGF0YS5nbG9iYWwueCwgeTogZXZlbnQuZGF0YS5nbG9iYWwueSB9O1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBldmVudC5kYXRhLnBvaW50ZXJJZDtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBhY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZWRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudFxyXG4gICAgICovXHJcbiAgICBtb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkIHx8ICF0aGlzLm9wdGlvbnMucHJlc3NEcmFnKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5sYXN0ICYmIHRoaXMuY3VycmVudCA9PT0gZXZlbnQuZGF0YS5wb2ludGVySWQpIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IGV2ZW50LmRhdGEuZ2xvYmFsLng7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBldmVudC5kYXRhLmdsb2JhbC55O1xyXG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IHRoaXMucGFyZW50LmlucHV0LmNvdW50KCk7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMSB8fCAoY291bnQgPiAxICYmICF0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgncGluY2gnLCB0cnVlKSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RYID0geCAtIHRoaXMubGFzdC54O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdFkgPSB5IC0gdGhpcy5sYXN0Lnk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb3ZlZCB8fCAoKHRoaXMueERpcmVjdGlvbiAmJiB0aGlzLnBhcmVudC5pbnB1dC5jaGVja1RocmVzaG9sZChkaXN0WCkpIHx8ICh0aGlzLnlEaXJlY3Rpb24gJiYgdGhpcy5wYXJlbnQuaW5wdXQuY2hlY2tUaHJlc2hvbGQoZGlzdFkpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQb2ludCA9IHsgeCwgeSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnhEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCArPSAobmV3UG9pbnQueCAtIHRoaXMubGFzdC54KSAqIHRoaXMub3B0aW9ucy5mYWN0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnlEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSArPSAobmV3UG9pbnQueSAtIHRoaXMubGFzdC55KSAqIHRoaXMub3B0aW9ucy5mYWN0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdCA9IG5ld1BvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5tb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdkcmFnLXN0YXJ0JywgeyBldmVudDogZXZlbnQsIHNjcmVlbjogbmV3IFBvaW50KHRoaXMubGFzdC54LCB0aGlzLmxhc3QueSksIHdvcmxkOiB0aGlzLnBhcmVudC50b1dvcmxkKG5ldyBQb2ludCh0aGlzLmxhc3QueCwgdGhpcy5sYXN0LnkpKSwgdmlld3BvcnQ6IHRoaXMucGFyZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdtb3ZlZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnZHJhZycgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHVwKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0b3VjaGVzID0gdGhpcy5wYXJlbnQuaW5wdXQudG91Y2hlcztcclxuICAgICAgICBpZiAodG91Y2hlcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRlciA9IHRvdWNoZXNbMF07XHJcbiAgICAgICAgICAgIGlmIChwb2ludGVyLmxhc3QpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdCA9IHsgeDogcG9pbnRlci5sYXN0LngsIHk6IHBvaW50ZXIubGFzdC55IH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBwb2ludGVyLmlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5sYXN0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzY3JlZW4gPSBuZXcgUG9pbnQodGhpcy5sYXN0LngsIHRoaXMubGFzdC55KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ2RyYWctZW5kJywgeyBldmVudDogZXZlbnQsIHNjcmVlbiwgd29ybGQ6IHRoaXMucGFyZW50LnRvV29ybGQoc2NyZWVuKSwgdmlld3BvcnQ6IHRoaXMucGFyZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMubW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1doZWVsRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgd2hlZWwoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLndoZWVsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdoZWVsID0gdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ3doZWVsJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmICghd2hlZWwpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnhEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ICs9IGV2ZW50LmRlbHRhWCAqIHRoaXMub3B0aW9ucy53aGVlbFNjcm9sbCAqIHRoaXMucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnlEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ICs9IGV2ZW50LmRlbHRhWSAqIHRoaXMub3B0aW9ucy53aGVlbFNjcm9sbCAqIHRoaXMucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2xhbXBXaGVlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xhbXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3doZWVsLXNjcm9sbCcsIHRoaXMucGFyZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICd3aGVlbCcgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50Lm9wdGlvbnMucGFzc2l2ZVdoZWVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMubGFzdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5wYXVzZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjbGFtcCgpIHtcclxuICAgICAgICBjb25zdCBkZWNlbGVyYXRlID0gdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ2RlY2VsZXJhdGUnLCB0cnVlKSB8fCB7fTtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNsYW1wV2hlZWwgIT09ICd5Jykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuc2NyZWVuV29ybGRXaWR0aCA8IHRoaXMucGFyZW50LnNjcmVlbldpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudW5kZXJmbG93WCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCA9ICh0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCAtIHRoaXMucGFyZW50LnNjcmVlbldvcmxkV2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggPSAodGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZFdpZHRoKSAvIDI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQubGVmdCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlLnggPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wYXJlbnQucmlnaHQgPiB0aGlzLnBhcmVudC53b3JsZFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCA9IC10aGlzLnBhcmVudC53b3JsZFdpZHRoICogdGhpcy5wYXJlbnQuc2NhbGUueCArIHRoaXMucGFyZW50LnNjcmVlbldpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlY2VsZXJhdGUueCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jbGFtcFdoZWVsICE9PSAneCcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LnNjcmVlbldvcmxkSGVpZ2h0IDwgdGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudW5kZXJmbG93WSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSA9ICh0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQgLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSA9ICh0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQgLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZEhlaWdodCkgLyAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LnRvcCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlLnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LmJvdHRvbSA+IHRoaXMucGFyZW50LndvcmxkSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSA9IC10aGlzLnBhcmVudC53b3JsZEhlaWdodCAqIHRoaXMucGFyZW50LnNjYWxlLnkgKyB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVjZWxlcmF0ZS55ID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKipcclxuICogQHR5cGVkZWYge29iamVjdH0gUGluY2hPcHRpb25zXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25vRHJhZ10gZGlzYWJsZSB0d28tZmluZ2VyIGRyYWdnaW5nXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGVyY2VudD0xXSBwZXJjZW50IHRvIG1vZGlmeSBwaW5jaCBzcGVlZFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ZhY3Rvcj0xXSBmYWN0b3IgdG8gbXVsdGlwbHkgdHdvLWZpbmdlciBkcmFnIHRvIGluY3JlYXNlIHRoZSBzcGVlZCBvZiBtb3ZlbWVudFxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IFtjZW50ZXJdIHBsYWNlIHRoaXMgcG9pbnQgYXQgY2VudGVyIGR1cmluZyB6b29tIGluc3RlYWQgb2YgY2VudGVyIG9mIHR3byBmaW5nZXJzXHJcbiAqL1xyXG5cclxuY29uc3QgcGluY2hPcHRpb25zID0ge1xyXG4gICAgbm9EcmFnOiBmYWxzZSxcclxuICAgIHBlcmNlbnQ6IDEsXHJcbiAgICBjZW50ZXI6IG51bGwsXHJcbiAgICBmYWN0b3I6IDEsXHJcbn07XHJcblxyXG5jbGFzcyBQaW5jaCBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqIEBwYXJhbSB7UGluY2hPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50LCBvcHRpb25zID0ge30pIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHBpbmNoT3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXJlbnQuaW5wdXQuY291bnQoKSA+PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZShlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkIHx8ICF0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHggPSBlLmRhdGEuZ2xvYmFsLng7XHJcbiAgICAgICAgY29uc3QgeSA9IGUuZGF0YS5nbG9iYWwueTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSB0aGlzLnBhcmVudC5pbnB1dC50b3VjaGVzO1xyXG4gICAgICAgIGlmIChwb2ludGVycy5sZW5ndGggPj0gMikge1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdCA9IHBvaW50ZXJzWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBzZWNvbmQgPSBwb2ludGVyc1sxXTtcclxuICAgICAgICAgICAgY29uc3QgbGFzdCA9IChmaXJzdC5sYXN0ICYmIHNlY29uZC5sYXN0KSA/IE1hdGguc3FydChNYXRoLnBvdyhzZWNvbmQubGFzdC54IC0gZmlyc3QubGFzdC54LCAyKSArIE1hdGgucG93KHNlY29uZC5sYXN0LnkgLSBmaXJzdC5sYXN0LnksIDIpKSA6IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChmaXJzdC5pZCA9PT0gZS5kYXRhLnBvaW50ZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgZmlyc3QubGFzdCA9IHsgeCwgeSwgZGF0YTogZS5kYXRhIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2Vjb25kLmlkID09PSBlLmRhdGEucG9pbnRlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmQubGFzdCA9IHsgeCwgeSwgZGF0YTogZS5kYXRhIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGxhc3QpIHtcclxuICAgICAgICAgICAgICAgIGxldCBvbGRQb2ludDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ID0geyB4OiBmaXJzdC5sYXN0LnggKyAoc2Vjb25kLmxhc3QueCAtIGZpcnN0Lmxhc3QueCkgLyAyLCB5OiBmaXJzdC5sYXN0LnkgKyAoc2Vjb25kLmxhc3QueSAtIGZpcnN0Lmxhc3QueSkgLyAyIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBvbGRQb2ludCA9IHRoaXMucGFyZW50LnRvTG9jYWwocG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGRpc3QgPSBNYXRoLnNxcnQoTWF0aC5wb3coc2Vjb25kLmxhc3QueCAtIGZpcnN0Lmxhc3QueCwgMikgKyBNYXRoLnBvdyhzZWNvbmQubGFzdC55IC0gZmlyc3QubGFzdC55LCAyKSk7XHJcbiAgICAgICAgICAgICAgICBkaXN0ID0gZGlzdCA9PT0gMCA/IGRpc3QgPSAwLjAwMDAwMDAwMDEgOiBkaXN0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlID0gKDEgLSBsYXN0IC8gZGlzdCkgKiB0aGlzLm9wdGlvbnMucGVyY2VudCAqIHRoaXMucGFyZW50LnNjYWxlLng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS54ICs9IGNoYW5nZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnkgKz0gY2hhbmdlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnem9vbWVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdwaW5jaCcsIGNlbnRlcjogcG9pbnQgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbGFtcCA9IHRoaXMucGFyZW50LnBsdWdpbnMuZ2V0KCdjbGFtcC16b29tJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhbXApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGFtcC5jbGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5tb3ZlQ2VudGVyKHRoaXMub3B0aW9ucy5jZW50ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UG9pbnQgPSB0aGlzLnBhcmVudC50b0dsb2JhbChvbGRQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCArPSAocG9pbnQueCAtIG5ld1BvaW50LngpICogdGhpcy5vcHRpb25zLmZhY3RvcjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ICs9IChwb2ludC55IC0gbmV3UG9pbnQueSkgKiB0aGlzLm9wdGlvbnMuZmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdwaW5jaCcgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ub0RyYWcgJiYgdGhpcy5sYXN0Q2VudGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCArPSAocG9pbnQueCAtIHRoaXMubGFzdENlbnRlci54KSAqIHRoaXMub3B0aW9ucy5mYWN0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSArPSAocG9pbnQueSAtIHRoaXMubGFzdENlbnRlci55KSAqIHRoaXMub3B0aW9ucy5mYWN0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ3BpbmNoJyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdENlbnRlciA9IHBvaW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGluY2hpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdwaW5jaC1zdGFydCcsIHRoaXMucGFyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBpbmNoaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cCgpIHtcclxuICAgICAgICBpZiAodGhpcy5waW5jaGluZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuaW5wdXQudG91Y2hlcy5sZW5ndGggPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdENlbnRlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpbmNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdwaW5jaC1lbmQnLCB0aGlzLnBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAdHlwZWRlZiBDbGFtcE9wdGlvbnNcclxuICogQHByb3BlcnR5IHsobnVtYmVyfGJvb2xlYW4pfSBbbGVmdD1mYWxzZV0gY2xhbXAgbGVmdDsgdHJ1ZSA9IDBcclxuICogQHByb3BlcnR5IHsobnVtYmVyfGJvb2xlYW4pfSBbcmlnaHQ9ZmFsc2VdIGNsYW1wIHJpZ2h0OyB0cnVlID0gdmlld3BvcnQud29ybGRXaWR0aFxyXG4gKiBAcHJvcGVydHkgeyhudW1iZXJ8Ym9vbGVhbil9IFt0b3A9ZmFsc2VdIGNsYW1wIHRvcDsgdHJ1ZSA9IDBcclxuICogQHByb3BlcnR5IHsobnVtYmVyfGJvb2xlYW4pfSBbYm90dG9tPWZhbHNlXSBjbGFtcCBib3R0b207IHRydWUgPSB2aWV3cG9ydC53b3JsZEhlaWdodFxyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2RpcmVjdGlvbl0gKGFsbCwgeCwgb3IgeSkgdXNpbmcgY2xhbXBzIG9mIFswLCB2aWV3cG9ydC53b3JsZFdpZHRoL3ZpZXdwb3J0LndvcmxkSGVpZ2h0XTsgcmVwbGFjZXMgbGVmdC9yaWdodC90b3AvYm90dG9tIGlmIHNldFxyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VuZGVyZmxvdz1jZW50ZXJdIHdoZXJlIHRvIHBsYWNlIHdvcmxkIGlmIHRvbyBzbWFsbCBmb3Igc2NyZWVuIChlLmcuLCB0b3AtcmlnaHQsIGNlbnRlciwgbm9uZSwgYm90dG9tbGVmdClcclxuICovXHJcblxyXG5jb25zdCBjbGFtcE9wdGlvbnMgPVxyXG57XHJcbiAgICBsZWZ0OiBmYWxzZSxcclxuICAgIHJpZ2h0OiBmYWxzZSxcclxuICAgIHRvcDogZmFsc2UsXHJcbiAgICBib3R0b206IGZhbHNlLFxyXG4gICAgZGlyZWN0aW9uOiBudWxsLFxyXG4gICAgdW5kZXJmbG93OiAnY2VudGVyJ1xyXG59O1xyXG5cclxuY2xhc3MgQ2xhbXAgZXh0ZW5kcyBQbHVnaW5cclxue1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHtWaWV3cG9ydH0gcGFyZW50XHJcbiAgICAgKiBAcGFyYW0ge0NsYW1wT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgb3B0aW9ucz17fSlcclxuICAgIHtcclxuICAgICAgICBzdXBlcihwYXJlbnQpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGNsYW1wT3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXJlY3Rpb24pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMubGVmdCA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICd4JyB8fCB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAnYWxsJyA/IHRydWUgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMucmlnaHQgPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAneCcgfHwgdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ2FsbCcgPyB0cnVlIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRvcCA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICd5JyB8fCB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uID09PSAnYWxsJyA/IHRydWUgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuYm90dG9tID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gJ3knIHx8IHRoaXMub3B0aW9ucy5kaXJlY3Rpb24gPT09ICdhbGwnID8gdHJ1ZSA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGFyc2VVbmRlcmZsb3coKTtcclxuICAgICAgICB0aGlzLmxhc3QgPSB7IHg6IG51bGwsIHk6IG51bGwsIHNjYWxlWDogbnVsbCwgc2NhbGVZOiBudWxsIH07XHJcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZVVuZGVyZmxvdygpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgY2xhbXAgPSB0aGlzLm9wdGlvbnMudW5kZXJmbG93LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKGNsYW1wID09PSAnbm9uZScpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLm5vVW5kZXJmbG93ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY2xhbXAgPT09ICdjZW50ZXInKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy51bmRlcmZsb3dYID0gdGhpcy51bmRlcmZsb3dZID0gMDtcclxuICAgICAgICAgICAgdGhpcy5ub1VuZGVyZmxvdyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLnVuZGVyZmxvd1ggPSAoY2xhbXAuaW5kZXhPZignbGVmdCcpICE9PSAtMSkgPyAtMSA6IChjbGFtcC5pbmRleE9mKCdyaWdodCcpICE9PSAtMSkgPyAxIDogMDtcclxuICAgICAgICAgICAgdGhpcy51bmRlcmZsb3dZID0gKGNsYW1wLmluZGV4T2YoJ3RvcCcpICE9PSAtMSkgPyAtMSA6IChjbGFtcC5pbmRleE9mKCdib3R0b20nKSAhPT0gLTEpID8gMSA6IDA7XHJcbiAgICAgICAgICAgIHRoaXMubm9VbmRlcmZsb3cgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGUgbW92ZSBldmVudHNcclxuICAgICAqIEBwYXJhbSB7UElYSS5JbnRlcmFjdGlvbkV2ZW50fSBldmVudFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIG1vdmUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKClcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG9ubHkgY2xhbXAgb24gY2hhbmdlXHJcbiAgICAgICAgaWYgKHRoaXMucGFyZW50LnggPT09IHRoaXMubGFzdC54ICYmIHRoaXMucGFyZW50LnkgPT09IHRoaXMubGFzdC55ICYmIHRoaXMucGFyZW50LnNjYWxlLnggPT09IHRoaXMubGFzdC5zY2FsZVggJiYgdGhpcy5wYXJlbnQuc2NhbGUueSA9PT0gdGhpcy5sYXN0LnNjYWxlWSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHsgeDogdGhpcy5wYXJlbnQueCwgeTogdGhpcy5wYXJlbnQueSB9O1xyXG4gICAgICAgIGNvbnN0IGRlY2VsZXJhdGUgPSB0aGlzLnBhcmVudC5wbHVnaW5zWydkZWNlbGVyYXRlJ10gfHwge307XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sZWZ0ICE9PSBudWxsIHx8IHRoaXMub3B0aW9ucy5yaWdodCAhPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuc2NyZWVuV29ybGRXaWR0aCA8IHRoaXMucGFyZW50LnNjcmVlbldpZHRoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubm9VbmRlcmZsb3cpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLnVuZGVyZmxvd1gpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LnggIT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LnggIT09IHRoaXMucGFyZW50LnNjcmVlbldpZHRoIC0gdGhpcy5wYXJlbnQuc2NyZWVuV29ybGRXaWR0aClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ID0gdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQueCAhPT0gKHRoaXMucGFyZW50LnNjcmVlbldpZHRoIC0gdGhpcy5wYXJlbnQuc2NyZWVuV29ybGRXaWR0aCkgLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggPSAodGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZFdpZHRoKSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGVmdCAhPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQubGVmdCA8ICh0aGlzLm9wdGlvbnMubGVmdCA9PT0gdHJ1ZSA/IDAgOiB0aGlzLm9wdGlvbnMubGVmdCkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ID0gLSh0aGlzLm9wdGlvbnMubGVmdCA9PT0gdHJ1ZSA/IDAgOiB0aGlzLm9wdGlvbnMubGVmdCkgKiB0aGlzLnBhcmVudC5zY2FsZS54O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlLnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yaWdodCAhPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQucmlnaHQgPiAodGhpcy5vcHRpb25zLnJpZ2h0ID09PSB0cnVlID8gdGhpcy5wYXJlbnQud29ybGRXaWR0aCA6IHRoaXMub3B0aW9ucy5yaWdodCkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC54ID0gLSh0aGlzLm9wdGlvbnMucmlnaHQgPT09IHRydWUgPyB0aGlzLnBhcmVudC53b3JsZFdpZHRoIDogdGhpcy5vcHRpb25zLnJpZ2h0KSAqIHRoaXMucGFyZW50LnNjYWxlLnggKyB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjZWxlcmF0ZS54ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW92ZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIG9yaWdpbmFsLCB0eXBlOiAnY2xhbXAteCcgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50b3AgIT09IG51bGwgfHwgdGhpcy5vcHRpb25zLmJvdHRvbSAhPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuc2NyZWVuV29ybGRIZWlnaHQgPCB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ub1VuZGVyZmxvdylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudW5kZXJmbG93WSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQueSAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnQueSAhPT0gdGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0IC0gdGhpcy5wYXJlbnQuc2NyZWVuV29ybGRIZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSA9ICh0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQgLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC55ICE9PSAodGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0IC0gdGhpcy5wYXJlbnQuc2NyZWVuV29ybGRIZWlnaHQpIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ID0gKHRoaXMucGFyZW50LnNjcmVlbkhlaWdodCAtIHRoaXMucGFyZW50LnNjcmVlbldvcmxkSGVpZ2h0KSAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudG9wICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC50b3AgPCAodGhpcy5vcHRpb25zLnRvcCA9PT0gdHJ1ZSA/IDAgOiB0aGlzLm9wdGlvbnMudG9wKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgPSAtKHRoaXMub3B0aW9ucy50b3AgPT09IHRydWUgPyAwIDogdGhpcy5vcHRpb25zLnRvcCkgKiB0aGlzLnBhcmVudC5zY2FsZS55O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlLnkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ib3R0b20gIT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50LmJvdHRvbSA+ICh0aGlzLm9wdGlvbnMuYm90dG9tID09PSB0cnVlID8gdGhpcy5wYXJlbnQud29ybGRIZWlnaHQgOiB0aGlzLm9wdGlvbnMuYm90dG9tKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgPSAtKHRoaXMub3B0aW9ucy5ib3R0b20gPT09IHRydWUgPyB0aGlzLnBhcmVudC53b3JsZEhlaWdodCA6IHRoaXMub3B0aW9ucy5ib3R0b20pICogdGhpcy5wYXJlbnQuc2NhbGUueSArIHRoaXMucGFyZW50LnNjcmVlbkhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjZWxlcmF0ZS55ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW92ZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIG9yaWdpbmFsLCB0eXBlOiAnY2xhbXAteScgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0LnggPSB0aGlzLnBhcmVudC54O1xyXG4gICAgICAgIHRoaXMubGFzdC55ID0gdGhpcy5wYXJlbnQueTtcclxuICAgICAgICB0aGlzLmxhc3Quc2NhbGVYID0gdGhpcy5wYXJlbnQuc2NhbGUueDtcclxuICAgICAgICB0aGlzLmxhc3Quc2NhbGVZID0gdGhpcy5wYXJlbnQuc2NhbGUueTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpIFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIHVzZSBlaXRoZXIgbWluaW11bSB3aWR0aC9oZWlnaHQgb3IgbWluaW11bSBzY2FsZVxyXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBDbGFtcFpvb21PcHRpb25zXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluV2lkdGhdIG1pbmltdW0gd2lkdGhcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttaW5IZWlnaHRdIG1pbmltdW0gaGVpZ2h0XHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWF4V2lkdGhdIG1heGltdW0gd2lkdGhcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhIZWlnaHRdIG1heGltdW0gaGVpZ2h0XHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluU2NhbGVdIG1pbmltdW0gc2NhbGVcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhTY2FsZV0gbWluaW11bSBzY2FsZVxyXG4gKi9cclxuXHJcbmNvbnN0IGNsYW1wWm9vbU9wdGlvbnMgPSB7XHJcbiAgICBtaW5XaWR0aDogbnVsbCxcclxuICAgIG1pbkhlaWdodDogbnVsbCxcclxuICAgIG1heFdpZHRoOiBudWxsLFxyXG4gICAgbWF4SGVpZ2h0OiBudWxsLFxyXG4gICAgbWluU2NhbGU6IG51bGwsXHJcbiAgICBtYXhTY2FsZTogbnVsbFxyXG59O1xyXG5cclxuY2xhc3MgQ2xhbXBab29tIGV4dGVuZHMgUGx1Z2luXHJcbntcclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxyXG4gICAgICogQHBhcmFtIHtDbGFtcFpvb21PcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IocGFyZW50LCBvcHRpb25zPXt9KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgY2xhbXBab29tT3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5jbGFtcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZSgpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5jbGFtcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsYW1wKClcclxuICAgIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWluV2lkdGggfHwgdGhpcy5vcHRpb25zLm1pbkhlaWdodCB8fCB0aGlzLm9wdGlvbnMubWF4V2lkdGggfHwgdGhpcy5vcHRpb25zLm1heEhlaWdodClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuV2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSB0aGlzLnBhcmVudC53b3JsZFNjcmVlbkhlaWdodDtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5taW5XaWR0aCAhPT0gbnVsbCAmJiB3aWR0aCA8IHRoaXMub3B0aW9ucy5taW5XaWR0aClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLnBhcmVudC5zY2FsZS54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZml0V2lkdGgodGhpcy5vcHRpb25zLm1pbldpZHRoLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NhbGUueSAqPSB0aGlzLnBhcmVudC5zY2FsZS54IC8gb3JpZ2luYWw7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuV2lkdGg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnBhcmVudC53b3JsZFNjcmVlbkhlaWdodDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3pvb21lZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnY2xhbXAtem9vbScgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tYXhXaWR0aCAhPT0gbnVsbCAmJiB3aWR0aCA+IHRoaXMub3B0aW9ucy5tYXhXaWR0aClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLnBhcmVudC5zY2FsZS54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZml0V2lkdGgodGhpcy5vcHRpb25zLm1heFdpZHRoLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NhbGUueSAqPSB0aGlzLnBhcmVudC5zY2FsZS54IC8gb3JpZ2luYWw7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuV2lkdGg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnBhcmVudC53b3JsZFNjcmVlbkhlaWdodDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3pvb21lZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnY2xhbXAtem9vbScgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5taW5IZWlnaHQgIT09IG51bGwgJiYgaGVpZ2h0IDwgdGhpcy5vcHRpb25zLm1pbkhlaWdodClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLnBhcmVudC5zY2FsZS55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZml0SGVpZ2h0KHRoaXMub3B0aW9ucy5taW5IZWlnaHQsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS54ICo9IHRoaXMucGFyZW50LnNjYWxlLnkgLyBvcmlnaW5hbDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gdGhpcy5wYXJlbnQud29ybGRTY3JlZW5XaWR0aDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnem9vbWVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdjbGFtcC16b29tJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1heEhlaWdodCAhPT0gbnVsbCAmJiBoZWlnaHQgPiB0aGlzLm9wdGlvbnMubWF4SGVpZ2h0KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IHRoaXMucGFyZW50LnNjYWxlLnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5maXRIZWlnaHQodGhpcy5vcHRpb25zLm1heEhlaWdodCwgZmFsc2UsIGZhbHNlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnggKj0gdGhpcy5wYXJlbnQuc2NhbGUueSAvIG9yaWdpbmFsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnem9vbWVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdjbGFtcC16b29tJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgc2NhbGUgPSB0aGlzLnBhcmVudC5zY2FsZS54O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1pblNjYWxlICE9PSBudWxsICYmIHNjYWxlIDwgdGhpcy5vcHRpb25zLm1pblNjYWxlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHRoaXMub3B0aW9ucy5taW5TY2FsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1heFNjYWxlICE9PSBudWxsICYmIHNjYWxlID4gdGhpcy5vcHRpb25zLm1heFNjYWxlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHRoaXMub3B0aW9ucy5tYXhTY2FsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2NhbGUgIT09IHRoaXMucGFyZW50LnNjYWxlLngpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnNldChzY2FsZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCd6b29tZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ2NsYW1wLXpvb20nIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0KClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmNsYW1wKCk7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IERlY2VsZXJhdGVPcHRpb25zXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZnJpY3Rpb249MC45NV0gcGVyY2VudCB0byBkZWNlbGVyYXRlIGFmdGVyIG1vdmVtZW50XHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYm91bmNlPTAuOF0gcGVyY2VudCB0byBkZWNlbGVyYXRlIHdoZW4gcGFzdCBib3VuZGFyaWVzIChvbmx5IGFwcGxpY2FibGUgd2hlbiB2aWV3cG9ydC5ib3VuY2UoKSBpcyBhY3RpdmUpXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbWluU3BlZWQ9MC4wMV0gbWluaW11bSB2ZWxvY2l0eSBiZWZvcmUgc3RvcHBpbmcvcmV2ZXJzaW5nIGFjY2VsZXJhdGlvblxyXG4gKi9cclxuXHJcbmNvbnN0IGRlY2VsZXJhdGVPcHRpb25zID0ge1xyXG4gICAgZnJpY3Rpb246IDAuOTgsXHJcbiAgICBib3VuY2U6IDAuOCxcclxuICAgIG1pblNwZWVkOiAwLjAxXHJcbn07XHJcblxyXG4vKipcclxuICogVGltZSBwZXJpb2Qgb2YgZGVjYXkgKDEgZnJhbWUpXHJcbiAqL1xyXG5jb25zdCBUUCA9IDE2O1xyXG5cclxuY2xhc3MgRGVjZWxlcmF0ZSBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqIEBwYXJhbSB7RGVjZWxlcmF0ZU9wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVjZWxlcmF0ZU9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuc2F2ZWQgPSBbXTtcclxuICAgICAgICB0aGlzLnRpbWVTaW5jZVJlbGVhc2UgPSAwO1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICB0aGlzLnBhcmVudC5vbignbW92ZWQnLCBkYXRhID0+IHRoaXMubW92ZWQoZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZG93bigpIHtcclxuICAgICAgICB0aGlzLnNhdmVkID0gW107XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy55ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaXNBY3RpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueCB8fCB0aGlzLnlcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5wYXJlbnQuaW5wdXQuY291bnQoKTtcclxuICAgICAgICBpZiAoY291bnQgPT09IDEgfHwgKGNvdW50ID4gMSAmJiAhdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ3BpbmNoJywgdHJ1ZSkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2F2ZWQucHVzaCh7IHg6IHRoaXMucGFyZW50LngsIHk6IHRoaXMucGFyZW50LnksIHRpbWU6IHBlcmZvcm1hbmNlLm5vdygpIH0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zYXZlZC5sZW5ndGggPiA2MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYXZlZC5zcGxpY2UoMCwgMzApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vdmVkKGRhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy5zYXZlZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMuc2F2ZWRbdGhpcy5zYXZlZC5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ2NsYW1wLXgnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdC54ID09PSBkYXRhLm9yaWdpbmFsLngpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0LnggPSB0aGlzLnBhcmVudC54O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2NsYW1wLXknKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdC55ID09PSBkYXRhLm9yaWdpbmFsLnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0LnkgPSB0aGlzLnBhcmVudC55O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudC5pbnB1dC5jb3VudCgpID09PSAwICYmIHRoaXMuc2F2ZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBzYXZlIG9mIHRoaXMuc2F2ZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzYXZlLnRpbWUgPj0gbm93IC0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IG5vdyAtIHNhdmUudGltZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSAodGhpcy5wYXJlbnQueCAtIHNhdmUueCkgLyB0aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSA9ICh0aGlzLnBhcmVudC55IC0gc2F2ZS55KSAvIHRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZXJjZW50Q2hhbmdlWCA9IHRoaXMucGVyY2VudENoYW5nZVkgPSB0aGlzLm9wdGlvbnMuZnJpY3Rpb247XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lU2luY2VSZWxlYXNlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbWFudWFsbHkgYWN0aXZhdGUgcGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnhdXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMueV1cclxuICAgICAqL1xyXG4gICAgYWN0aXZhdGUob3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy54ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aGlzLnggPSBvcHRpb25zLng7XHJcbiAgICAgICAgICAgIHRoaXMucGVyY2VudENoYW5nZVggPSB0aGlzLm9wdGlvbnMuZnJpY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy55ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aGlzLnkgPSBvcHRpb25zLnk7XHJcbiAgICAgICAgICAgIHRoaXMucGVyY2VudENoYW5nZVkgPSB0aGlzLm9wdGlvbnMuZnJpY3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkZmlnL3BpeGktdmlld3BvcnQvaXNzdWVzLzI3MSBmb3IgbWF0aC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRoZSB2aWV3cG9ydCB2ZWxvY2l0eSAodGhpcy54LCB0aGlzLnkpIGRlY2F5cyBleHBvZW5lbnRpYWwgYnkgdGhlIHRoZSBkZWNheSBmYWN0b3JcclxuICAgICAgICAgKiAodGhpcy5wZXJjZW50Q2hhbmdlWCwgdGhpcy5wZXJjZW50Q2hhbmdlWSkgZWFjaCBmcmFtZS4gVGhpcyB2ZWxvY2l0eSBmdW5jdGlvbiBpcyBpbnRlZ3JhdGVkXHJcbiAgICAgICAgICogdG8gY2FsY3VsYXRlIHRoZSBkaXNwbGFjZW1lbnQuXHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgIGNvbnN0IG1vdmVkID0gdGhpcy54IHx8IHRoaXMueTtcclxuXHJcbiAgICAgICAgY29uc3QgdGkgPSB0aGlzLnRpbWVTaW5jZVJlbGVhc2U7XHJcbiAgICAgICAgY29uc3QgdGYgPSB0aGlzLnRpbWVTaW5jZVJlbGVhc2UgKyBlbGFwc2VkO1xyXG5cclxuICAgICAgICBpZiAodGhpcy54KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGsgPSB0aGlzLnBlcmNlbnRDaGFuZ2VYO1xyXG4gICAgICAgICAgICBjb25zdCBsbmsgPSBNYXRoLmxvZyhrKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnggKz0gKCh0aGlzLnggKiBUUCkgLyBsbmspICogKE1hdGgucG93KGssIHRmIC8gVFApIC0gTWF0aC5wb3coaywgdGkgLyBUUCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy55KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGsgPSB0aGlzLnBlcmNlbnRDaGFuZ2VZO1xyXG4gICAgICAgICAgICBjb25zdCBsbmsgPSBNYXRoLmxvZyhrKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnkgKz0gKCh0aGlzLnkgKiBUUCkgLyBsbmspICogKE1hdGgucG93KGssIHRmIC8gVFApIC0gTWF0aC5wb3coaywgdGkgLyBUUCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50aW1lU2luY2VSZWxlYXNlICs9IGVsYXBzZWQ7XHJcbiAgICAgICAgdGhpcy54ICo9IE1hdGgucG93KHRoaXMucGVyY2VudENoYW5nZVgsIGVsYXBzZWQgLyBUUCk7XHJcbiAgICAgICAgdGhpcy55ICo9IE1hdGgucG93KHRoaXMucGVyY2VudENoYW5nZVksIGVsYXBzZWQgLyBUUCk7XHJcblxyXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLngpIDwgdGhpcy5vcHRpb25zLm1pblNwZWVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnkpIDwgdGhpcy5vcHRpb25zLm1pblNwZWVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobW92ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ2RlY2VsZXJhdGUnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLnggPSB0aGlzLnkgPSBudWxsO1xyXG4gICAgfVxyXG59XG5cbnZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgYmFzZWRpciwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7XG5cdFx0cGF0aDogYmFzZWRpcixcblx0XHRleHBvcnRzOiB7fSxcblx0XHRyZXF1aXJlOiBmdW5jdGlvbiAocGF0aCwgYmFzZSkge1xuXHRcdFx0cmV0dXJuIGNvbW1vbmpzUmVxdWlyZShwYXRoLCAoYmFzZSA9PT0gdW5kZWZpbmVkIHx8IGJhc2UgPT09IG51bGwpID8gbW9kdWxlLnBhdGggOiBiYXNlKTtcblx0XHR9XG5cdH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxuZnVuY3Rpb24gY29tbW9uanNSZXF1aXJlICgpIHtcblx0dGhyb3cgbmV3IEVycm9yKCdEeW5hbWljIHJlcXVpcmVzIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBAcm9sbHVwL3BsdWdpbi1jb21tb25qcycpO1xufVxuXG52YXIgcGVubmVyID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykge1xuLypcblx0Q29weXJpZ2h0IMKpIDIwMDEgUm9iZXJ0IFBlbm5lclxuXHRBbGwgcmlnaHRzIHJlc2VydmVkLlxuXG5cdFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIFxuXHRhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG5cblx0UmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgXG5cdGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cblx0UmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3QgXG5cdG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIFxuXHRwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cblx0TmVpdGhlciB0aGUgbmFtZSBvZiB0aGUgYXV0aG9yIG5vciB0aGUgbmFtZXMgb2YgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2UgXG5cdG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG5cblx0VEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EIEFOWSBcblx0RVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GXG5cdE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuXHRDT1BZUklHSFQgT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsXG5cdEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURVxuXHRHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgXG5cdEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG5cdE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIFxuXHRPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgcGVubmVyLCB1bWQ7XG5cbiAgdW1kID0gZnVuY3Rpb24oZmFjdG9yeSkge1xuICAgIHtcbiAgICAgIHJldHVybiBtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnk7XG4gICAgfVxuICB9O1xuXG4gIHBlbm5lciA9IHtcbiAgICBsaW5lYXI6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogdCAvIGQgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluUXVhZDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiAtYyAqICh0IC89IGQpICogKHQgLSAyKSArIGI7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRRdWFkOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVhc2VJbkN1YmljOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dEN1YmljOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5RdWFydDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0UXVhcnQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRRdWFydDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLWMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMikgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluUXVpbnQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICB9LFxuICAgIGVhc2VPdXRRdWludDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dFF1aW50OiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluU2luZTogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dFNpbmU6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRTaW5lOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gZCkgLSAxKSArIGI7XG4gICAgfSxcbiAgICBlYXNlSW5FeHBvOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICBpZiAodCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjICogTWF0aC5wb3coMiwgMTAgKiAodCAvIGQgLSAxKSkgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZU91dEV4cG86IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICh0ID09PSBkKSB7XG4gICAgICAgIHJldHVybiBiICsgYztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjICogKC1NYXRoLnBvdygyLCAtMTAgKiB0IC8gZCkgKyAxKSArIGI7XG4gICAgICB9XG4gICAgfSxcbiAgICBlYXNlSW5PdXRFeHBvOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS10KSArIDIpICsgYjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVhc2VJbkNpcmM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiAtYyAqIChNYXRoLnNxcnQoMSAtICh0IC89IGQpICogdCkgLSAxKSArIGI7XG4gICAgfSxcbiAgICBlYXNlT3V0Q2lyYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dENpcmM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSArIGI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluRWxhc3RpYzogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgdmFyIGEsIHAsIHM7XG4gICAgICBzID0gMS43MDE1ODtcbiAgICAgIHAgPSAwO1xuICAgICAgYSA9IGM7XG4gICAgICBpZiAodCA9PT0gMCkgOyBlbHNlIGlmICgodCAvPSBkKSA9PT0gMSkgO1xuICAgICAgaWYgKCFwKSB7XG4gICAgICAgIHAgPSBkICogLjM7XG4gICAgICB9XG4gICAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgIGEgPSBjO1xuICAgICAgICBzID0gcCAvIDQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgICB9LFxuICAgIGVhc2VPdXRFbGFzdGljOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICB2YXIgYSwgcCwgcztcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgICAgcCA9IDA7XG4gICAgICBhID0gYztcbiAgICAgIGlmICh0ID09PSAwKSA7IGVsc2UgaWYgKCh0IC89IGQpID09PSAxKSA7XG4gICAgICBpZiAoIXApIHtcbiAgICAgICAgcCA9IGQgKiAuMztcbiAgICAgIH1cbiAgICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgYSA9IGM7XG4gICAgICAgIHMgPSBwIC8gNDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKyBjICsgYjtcbiAgICB9LFxuICAgIGVhc2VJbk91dEVsYXN0aWM6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHZhciBhLCBwLCBzO1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgICBwID0gMDtcbiAgICAgIGEgPSBjO1xuICAgICAgaWYgKHQgPT09IDApIDsgZWxzZSBpZiAoKHQgLz0gZCAvIDIpID09PSAyKSA7XG4gICAgICBpZiAoIXApIHtcbiAgICAgICAgcCA9IGQgKiAoLjMgKiAxLjUpO1xuICAgICAgfVxuICAgICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICBhID0gYztcbiAgICAgICAgcyA9IHAgLyA0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgIH1cbiAgICAgIGlmICh0IDwgMSkge1xuICAgICAgICByZXR1cm4gLS41ICogKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICogLjUgKyBjICsgYjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVhc2VJbkJhY2s6IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgICAgcyA9IDEuNzAxNTg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcbiAgICB9LFxuICAgIGVhc2VPdXRCYWNrOiBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7XG4gICAgICBpZiAocyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHMgPSAxLjcwMTU4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuICAgIH0sXG4gICAgZWFzZUluT3V0QmFjazogZnVuY3Rpb24odCwgYiwgYywgZCwgcykge1xuICAgICAgaWYgKHMgPT09IHZvaWQgMCkge1xuICAgICAgICBzID0gMS43MDE1ODtcbiAgICAgIH1cbiAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICh0ICogdCAqICgoKHMgKj0gMS41MjUpICsgMSkgKiB0IC0gcykpICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9IDEuNTI1KSArIDEpICogdCArIHMpICsgMikgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluQm91bmNlOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICB2YXIgdjtcbiAgICAgIHYgPSBwZW5uZXIuZWFzZU91dEJvdW5jZShkIC0gdCwgMCwgYywgZCk7XG4gICAgICByZXR1cm4gYyAtIHYgKyBiO1xuICAgIH0sXG4gICAgZWFzZU91dEJvdW5jZTogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgaWYgKCh0IC89IGQpIDwgMSAvIDIuNzUpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcbiAgICAgIH0gZWxzZSBpZiAodCA8IDIgLyAyLjc1KSB7XG4gICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDEuNSAvIDIuNzUpICogdCArIC43NSkgKyBiO1xuICAgICAgfSBlbHNlIGlmICh0IDwgMi41IC8gMi43NSkge1xuICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAyLjI1IC8gMi43NSkgKiB0ICsgLjkzNzUpICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09IDIuNjI1IC8gMi43NSkgKiB0ICsgLjk4NDM3NSkgKyBiO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWFzZUluT3V0Qm91bmNlOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICB2YXIgdjtcbiAgICAgIGlmICh0IDwgZCAvIDIpIHtcbiAgICAgICAgdiA9IHBlbm5lci5lYXNlSW5Cb3VuY2UodCAqIDIsIDAsIGMsIGQpO1xuICAgICAgICByZXR1cm4gdiAqIC41ICsgYjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHYgPSBwZW5uZXIuZWFzZU91dEJvdW5jZSh0ICogMiAtIGQsIDAsIGMsIGQpO1xuICAgICAgICByZXR1cm4gdiAqIC41ICsgYyAqIC41ICsgYjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdW1kKHBlbm5lcik7XG5cbn0pLmNhbGwoY29tbW9uanNHbG9iYWwpO1xufSk7XG5cbi8qKlxyXG4gKiByZXR1cm5zIGNvcnJlY3QgUGVubmVyIGVxdWF0aW9uIHVzaW5nIHN0cmluZyBvciBGdW5jdGlvblxyXG4gKiBAcGFyYW0geyhmdW5jdGlvbnxzdHJpbmcpfSBbZWFzZV1cclxuICogQHBhcmFtIHtkZWZhdWx0c30gZGVmYXVsdCBwZW5uZXIgZXF1YXRpb24gdG8gdXNlIGlmIG5vbmUgaXMgcHJvdmlkZWRcclxuICovXHJcbmZ1bmN0aW9uIGVhc2UoZWFzZSwgZGVmYXVsdHMpXHJcbntcclxuICAgIGlmICghZWFzZSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gcGVubmVyW2RlZmF1bHRzXVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGVhc2UgPT09ICdmdW5jdGlvbicpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGVhc2VcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiBlYXNlID09PSAnc3RyaW5nJylcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gcGVubmVyW2Vhc2VdXHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEB0eXBlZGVmIHtvcHRpb25zfSBCb3VuY2VPcHRpb25zXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbc2lkZXM9YWxsXSBhbGwsIGhvcml6b250YWwsIHZlcnRpY2FsLCBvciBjb21iaW5hdGlvbiBvZiB0b3AsIGJvdHRvbSwgcmlnaHQsIGxlZnQgKGUuZy4sICd0b3AtYm90dG9tLXJpZ2h0JylcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtmcmljdGlvbj0wLjVdIGZyaWN0aW9uIHRvIGFwcGx5IHRvIGRlY2VsZXJhdGUgaWYgYWN0aXZlXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdGltZT0xNTBdIHRpbWUgaW4gbXMgdG8gZmluaXNoIGJvdW5jZVxyXG4gKiBAcHJvcGVydHkge29iamVjdH0gW2JvdW5jZUJveF0gdXNlIHRoaXMgYm91bmNlQm94IGluc3RlYWQgb2YgKDAsIDAsIHZpZXdwb3J0LndvcmxkV2lkdGgsIHZpZXdwb3J0LndvcmxkSGVpZ2h0KVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2JvdW5jZUJveC54PTBdXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbYm91bmNlQm94Lnk9MF1cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtib3VuY2VCb3gud2lkdGg9dmlld3BvcnQud29ybGRXaWR0aF1cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtib3VuY2VCb3guaGVpZ2h0PXZpZXdwb3J0LndvcmxkSGVpZ2h0XVxyXG4gKiBAcHJvcGVydHkge3N0cmluZ3xmdW5jdGlvbn0gW2Vhc2U9ZWFzZUluT3V0U2luZV0gZWFzZSBmdW5jdGlvbiBvciBuYW1lIChzZWUgaHR0cDovL2Vhc2luZ3MubmV0LyBmb3Igc3VwcG9ydGVkIG5hbWVzKVxyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3VuZGVyZmxvdz1jZW50ZXJdICh0b3AvYm90dG9tL2NlbnRlciBhbmQgbGVmdC9yaWdodC9jZW50ZXIsIG9yIGNlbnRlcikgd2hlcmUgdG8gcGxhY2Ugd29ybGQgaWYgdG9vIHNtYWxsIGZvciBzY3JlZW5cclxuICovXHJcblxyXG5jb25zdCBib3VuY2VPcHRpb25zID0ge1xyXG4gICAgc2lkZXM6ICdhbGwnLFxyXG4gICAgZnJpY3Rpb246IDAuNSxcclxuICAgIHRpbWU6IDE1MCxcclxuICAgIGVhc2U6ICdlYXNlSW5PdXRTaW5lJyxcclxuICAgIHVuZGVyZmxvdzogJ2NlbnRlcicsXHJcbiAgICBib3VuY2VCb3g6IG51bGxcclxufTtcclxuXHJcbmNsYXNzIEJvdW5jZSBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqIEBwYXJhbSB7Qm91bmNlT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAZmlyZXMgYm91bmNlLXN0YXJ0LXhcclxuICAgICAqIEBmaXJlcyBib3VuY2UuZW5kLXhcclxuICAgICAqIEBmaXJlcyBib3VuY2Utc3RhcnQteVxyXG4gICAgICogQGZpcmVzIGJvdW5jZS1lbmQteVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgYm91bmNlT3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5lYXNlID0gZWFzZSh0aGlzLm9wdGlvbnMuZWFzZSwgJ2Vhc2VJbk91dFNpbmUnKTtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNpZGVzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2lkZXMgPT09ICdhbGwnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvcCA9IHRoaXMuYm90dG9tID0gdGhpcy5sZWZ0ID0gdGhpcy5yaWdodCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5vcHRpb25zLnNpZGVzID09PSAnaG9yaXpvbnRhbCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLmxlZnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zaWRlcyA9PT0gJ3ZlcnRpY2FsJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3AgPSB0aGlzLmJvdHRvbSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvcCA9IHRoaXMub3B0aW9ucy5zaWRlcy5pbmRleE9mKCd0b3AnKSAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMub3B0aW9ucy5zaWRlcy5pbmRleE9mKCdib3R0b20nKSAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLm9wdGlvbnMuc2lkZXMuaW5kZXhPZignbGVmdCcpICE9PSAtMTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLm9wdGlvbnMuc2lkZXMuaW5kZXhPZigncmlnaHQnKSAhPT0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJzZVVuZGVyZmxvdygpO1xyXG4gICAgICAgIHRoaXMubGFzdCA9IHt9O1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZVVuZGVyZmxvdygpIHtcclxuICAgICAgICBjb25zdCBjbGFtcCA9IHRoaXMub3B0aW9ucy51bmRlcmZsb3cudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoY2xhbXAgPT09ICdjZW50ZXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZXJmbG93WCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZXJmbG93WSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVuZGVyZmxvd1ggPSAoY2xhbXAuaW5kZXhPZignbGVmdCcpICE9PSAtMSkgPyAtMSA6IChjbGFtcC5pbmRleE9mKCdyaWdodCcpICE9PSAtMSkgPyAxIDogMDtcclxuICAgICAgICAgICAgdGhpcy51bmRlcmZsb3dZID0gKGNsYW1wLmluZGV4T2YoJ3RvcCcpICE9PSAtMSkgPyAtMSA6IChjbGFtcC5pbmRleE9mKCdib3R0b20nKSAhPT0gLTEpID8gMSA6IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlzQWN0aXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRvWCAhPT0gbnVsbCB8fCB0aGlzLnRvWSAhPT0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGRvd24oKSB7XHJcbiAgICAgICAgdGhpcy50b1ggPSB0aGlzLnRvWSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdXAoKSB7XHJcbiAgICAgICAgdGhpcy5ib3VuY2UoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYm91bmNlKCk7XHJcbiAgICAgICAgaWYgKHRoaXMudG9YKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvWCA9IHRoaXMudG9YO1xyXG4gICAgICAgICAgICB0b1gudGltZSArPSBlbGFwc2VkO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdtb3ZlZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnYm91bmNlLXgnIH0pO1xyXG4gICAgICAgICAgICBpZiAodG9YLnRpbWUgPj0gdGhpcy5vcHRpb25zLnRpbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggPSB0b1guZW5kO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b1ggPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnYm91bmNlLXgtZW5kJywgdGhpcy5wYXJlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCA9IHRoaXMuZWFzZSh0b1gudGltZSwgdG9YLnN0YXJ0LCB0b1guZGVsdGEsIHRoaXMub3B0aW9ucy50aW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy50b1kpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9ZID0gdGhpcy50b1k7XHJcbiAgICAgICAgICAgIHRvWS50aW1lICs9IGVsYXBzZWQ7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdib3VuY2UteScgfSk7XHJcbiAgICAgICAgICAgIGlmICh0b1kudGltZSA+PSB0aGlzLm9wdGlvbnMudGltZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueSA9IHRvWS5lbmQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRvWSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdib3VuY2UteS1lbmQnLCB0aGlzLnBhcmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ID0gdGhpcy5lYXNlKHRvWS50aW1lLCB0b1kuc3RhcnQsIHRvWS5kZWx0YSwgdGhpcy5vcHRpb25zLnRpbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNhbGNVbmRlcmZsb3dYKCkge1xyXG4gICAgICAgIGxldCB4O1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy51bmRlcmZsb3dYKSB7XHJcbiAgICAgICAgICAgIGNhc2UgLTE6XHJcbiAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHggPSAodGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLSB0aGlzLnBhcmVudC5zY3JlZW5Xb3JsZFdpZHRoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB4ID0gKHRoaXMucGFyZW50LnNjcmVlbldpZHRoIC0gdGhpcy5wYXJlbnQuc2NyZWVuV29ybGRXaWR0aCkgLyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geFxyXG4gICAgfVxyXG5cclxuICAgIGNhbGNVbmRlcmZsb3dZKCkge1xyXG4gICAgICAgIGxldCB5O1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy51bmRlcmZsb3dZKSB7XHJcbiAgICAgICAgICAgIGNhc2UgLTE6XHJcbiAgICAgICAgICAgICAgICB5ID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHkgPSAodGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0IC0gdGhpcy5wYXJlbnQuc2NyZWVuV29ybGRIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHkgPSAodGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0IC0gdGhpcy5wYXJlbnQuc2NyZWVuV29ybGRIZWlnaHQpIC8gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHlcclxuICAgIH1cclxuXHJcbiAgICBvb2IoKSB7XHJcbiAgICAgICAgY29uc3QgYm94ID0gdGhpcy5vcHRpb25zLmJvdW5jZUJveDtcclxuICAgICAgICBpZiAoYm94KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHgxID0gdHlwZW9mIGJveC54ID09PSAndW5kZWZpbmVkJyA/IDAgOiBib3gueDtcclxuICAgICAgICAgICAgY29uc3QgeTEgPSB0eXBlb2YgYm94LnkgPT09ICd1bmRlZmluZWQnID8gMCA6IGJveC55O1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHR5cGVvZiBib3gud2lkdGggPT09ICd1bmRlZmluZWQnID8gdGhpcy5wYXJlbnQud29ybGRXaWR0aCA6IGJveC53aWR0aDtcclxuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdHlwZW9mIGJveC5oZWlnaHQgPT09ICd1bmRlZmluZWQnID8gdGhpcy5wYXJlbnQud29ybGRIZWlnaHQgOiBib3guaGVpZ2h0O1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGVmdDogdGhpcy5wYXJlbnQubGVmdCA8IHgxLFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMucGFyZW50LnJpZ2h0ID4gd2lkdGgsXHJcbiAgICAgICAgICAgICAgICB0b3A6IHRoaXMucGFyZW50LnRvcCA8IHkxLFxyXG4gICAgICAgICAgICAgICAgYm90dG9tOiB0aGlzLnBhcmVudC5ib3R0b20gPiBoZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB0b3BMZWZ0OiBuZXcgUG9pbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgeDEgKiB0aGlzLnBhcmVudC5zY2FsZS54LFxyXG4gICAgICAgICAgICAgICAgICAgIHkxICogdGhpcy5wYXJlbnQuc2NhbGUueVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIGJvdHRvbVJpZ2h0OiBuZXcgUG9pbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKiB0aGlzLnBhcmVudC5zY2FsZS54IC0gdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICogdGhpcy5wYXJlbnQuc2NhbGUueSAtIHRoaXMucGFyZW50LnNjcmVlbkhlaWdodFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxlZnQ6IHRoaXMucGFyZW50LmxlZnQgPCAwLFxyXG4gICAgICAgICAgICByaWdodDogdGhpcy5wYXJlbnQucmlnaHQgPiB0aGlzLnBhcmVudC53b3JsZFdpZHRoLFxyXG4gICAgICAgICAgICB0b3A6IHRoaXMucGFyZW50LnRvcCA8IDAsXHJcbiAgICAgICAgICAgIGJvdHRvbTogdGhpcy5wYXJlbnQuYm90dG9tID4gdGhpcy5wYXJlbnQud29ybGRIZWlnaHQsXHJcbiAgICAgICAgICAgIHRvcExlZnQ6IG5ldyBQb2ludCgwLCAwKSxcclxuICAgICAgICAgICAgYm90dG9tUmlnaHQ6IG5ldyBQb2ludChcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LndvcmxkV2lkdGggKiB0aGlzLnBhcmVudC5zY2FsZS54IC0gdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGgsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC53b3JsZEhlaWdodCAqIHRoaXMucGFyZW50LnNjYWxlLnkgLSB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHRcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBib3VuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG9vYjtcclxuICAgICAgICBsZXQgZGVjZWxlcmF0ZSA9IHRoaXMucGFyZW50LnBsdWdpbnMuZ2V0KCdkZWNlbGVyYXRlJywgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKGRlY2VsZXJhdGUgJiYgKGRlY2VsZXJhdGUueCB8fCBkZWNlbGVyYXRlLnkpKSB7XHJcbiAgICAgICAgICAgIGlmICgoZGVjZWxlcmF0ZS54ICYmIGRlY2VsZXJhdGUucGVyY2VudENoYW5nZVggPT09IGRlY2VsZXJhdGUub3B0aW9ucy5mcmljdGlvbikgfHwgKGRlY2VsZXJhdGUueSAmJiBkZWNlbGVyYXRlLnBlcmNlbnRDaGFuZ2VZID09PSBkZWNlbGVyYXRlLm9wdGlvbnMuZnJpY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBvb2IgPSB0aGlzLm9vYigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChvb2IubGVmdCAmJiB0aGlzLmxlZnQpIHx8IChvb2IucmlnaHQgJiYgdGhpcy5yaWdodCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlLnBlcmNlbnRDaGFuZ2VYID0gdGhpcy5vcHRpb25zLmZyaWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKChvb2IudG9wICYmIHRoaXMudG9wKSB8fCAob29iLmJvdHRvbSAmJiB0aGlzLmJvdHRvbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWNlbGVyYXRlLnBlcmNlbnRDaGFuZ2VZID0gdGhpcy5vcHRpb25zLmZyaWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRyYWcgPSB0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgnZHJhZycsIHRydWUpIHx8IHt9O1xyXG4gICAgICAgIGNvbnN0IHBpbmNoID0gdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ3BpbmNoJywgdHJ1ZSkgfHwge307XHJcbiAgICAgICAgZGVjZWxlcmF0ZSA9IGRlY2VsZXJhdGUgfHwge307XHJcbiAgICAgICAgaWYgKCFkcmFnLmFjdGl2ZSAmJiAhcGluY2guYWN0aXZlICYmICgoIXRoaXMudG9YIHx8ICF0aGlzLnRvWSkgJiYgKCFkZWNlbGVyYXRlLnggfHwgIWRlY2VsZXJhdGUueSkpKSB7XHJcbiAgICAgICAgICAgIG9vYiA9IG9vYiB8fCB0aGlzLm9vYigpO1xyXG4gICAgICAgICAgICBjb25zdCB0b3BMZWZ0ID0gb29iLnRvcExlZnQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvdHRvbVJpZ2h0ID0gb29iLmJvdHRvbVJpZ2h0O1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudG9YICYmICFkZWNlbGVyYXRlLngpIHtcclxuICAgICAgICAgICAgICAgIGxldCB4ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmIChvb2IubGVmdCAmJiB0aGlzLmxlZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gKHRoaXMucGFyZW50LnNjcmVlbldvcmxkV2lkdGggPCB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCkgPyB0aGlzLmNhbGNVbmRlcmZsb3dYKCkgOiAtdG9wTGVmdC54O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob29iLnJpZ2h0ICYmIHRoaXMucmlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gKHRoaXMucGFyZW50LnNjcmVlbldvcmxkV2lkdGggPCB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCkgPyB0aGlzLmNhbGNVbmRlcmZsb3dYKCkgOiAtYm90dG9tUmlnaHQueDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh4ICE9PSBudWxsICYmIHRoaXMucGFyZW50LnggIT09IHgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvWCA9IHsgdGltZTogMCwgc3RhcnQ6IHRoaXMucGFyZW50LngsIGRlbHRhOiB4IC0gdGhpcy5wYXJlbnQueCwgZW5kOiB4IH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnYm91bmNlLXgtc3RhcnQnLCB0aGlzLnBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnRvWSAmJiAhZGVjZWxlcmF0ZS55KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgeSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAob29iLnRvcCAmJiB0aGlzLnRvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSAodGhpcy5wYXJlbnQuc2NyZWVuV29ybGRIZWlnaHQgPCB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQpID8gdGhpcy5jYWxjVW5kZXJmbG93WSgpIDogLXRvcExlZnQueTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9vYi5ib3R0b20gJiYgdGhpcy5ib3R0b20pIHtcclxuICAgICAgICAgICAgICAgICAgICB5ID0gKHRoaXMucGFyZW50LnNjcmVlbldvcmxkSGVpZ2h0IDwgdGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0KSA/IHRoaXMuY2FsY1VuZGVyZmxvd1koKSA6IC1ib3R0b21SaWdodC55O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHkgIT09IG51bGwgJiYgdGhpcy5wYXJlbnQueSAhPT0geSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9ZID0geyB0aW1lOiAwLCBzdGFydDogdGhpcy5wYXJlbnQueSwgZGVsdGE6IHkgLSB0aGlzLnBhcmVudC55LCBlbmQ6IHkgfTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdib3VuY2UteS1zdGFydCcsIHRoaXMucGFyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLnRvWCA9IHRoaXMudG9ZID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJvdW5jZSgpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAdHlwZWRlZiBTbmFwT3B0aW9uc1xyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFt0b3BMZWZ0XSBzbmFwIHRvIHRoZSB0b3AtbGVmdCBvZiB2aWV3cG9ydCBpbnN0ZWFkIG9mIGNlbnRlclxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2ZyaWN0aW9uPTAuOF0gZnJpY3Rpb24vZnJhbWUgdG8gYXBwbHkgaWYgZGVjZWxlcmF0ZSBpcyBhY3RpdmVcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lPTEwMDBdXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfGZ1bmN0aW9ufSBbZWFzZT1lYXNlSW5PdXRTaW5lXSBlYXNlIGZ1bmN0aW9uIG9yIG5hbWUgKHNlZSBodHRwOi8vZWFzaW5ncy5uZXQvIGZvciBzdXBwb3J0ZWQgbmFtZXMpXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycnVwdD10cnVlXSBwYXVzZSBzbmFwcGluZyB3aXRoIGFueSB1c2VyIGlucHV0IG9uIHRoZSB2aWV3cG9ydFxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZW1vdmVPbkNvbXBsZXRlXSByZW1vdmVzIHRoaXMgcGx1Z2luIGFmdGVyIHNuYXBwaW5nIGlzIGNvbXBsZXRlXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JlbW92ZU9uSW50ZXJydXB0XSByZW1vdmVzIHRoaXMgcGx1Z2luIGlmIGludGVycnVwdGVkIGJ5IGFueSB1c2VyIGlucHV0XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ZvcmNlU3RhcnRdIHN0YXJ0cyB0aGUgc25hcCBpbW1lZGlhdGVseSByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIHZpZXdwb3J0IGlzIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uXHJcbiAqL1xyXG5cclxuY29uc3Qgc25hcE9wdGlvbnMgPSB7XHJcbiAgICB0b3BMZWZ0OiBmYWxzZSxcclxuICAgIGZyaWN0aW9uOiAwLjgsXHJcbiAgICB0aW1lOiAxMDAwLFxyXG4gICAgZWFzZTogJ2Vhc2VJbk91dFNpbmUnLFxyXG4gICAgaW50ZXJydXB0OiB0cnVlLFxyXG4gICAgcmVtb3ZlT25Db21wbGV0ZTogZmFsc2UsXHJcbiAgICByZW1vdmVPbkludGVycnVwdDogZmFsc2UsXHJcbiAgICBmb3JjZVN0YXJ0OiBmYWxzZVxyXG59O1xyXG5cclxuY2xhc3MgU25hcCBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxyXG4gICAgICogQHBhcmFtIHtTbmFwT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAZXZlbnQgc25hcC1zdGFydChWaWV3cG9ydCkgZW1pdHRlZCBlYWNoIHRpbWUgYSBzbmFwIGFuaW1hdGlvbiBzdGFydHNcclxuICAgICAqIEBldmVudCBzbmFwLXJlc3RhcnQoVmlld3BvcnQpIGVtaXR0ZWQgZWFjaCB0aW1lIGEgc25hcCByZXNldHMgYmVjYXVzZSBvZiBhIGNoYW5nZSBpbiB2aWV3cG9ydCBzaXplXHJcbiAgICAgKiBAZXZlbnQgc25hcC1lbmQoVmlld3BvcnQpIGVtaXR0ZWQgZWFjaCB0aW1lIHNuYXAgcmVhY2hlcyBpdHMgdGFyZ2V0XHJcbiAgICAgKiBAZXZlbnQgc25hcC1yZW1vdmUoVmlld3BvcnQpIGVtaXR0ZWQgaWYgc25hcCBwbHVnaW4gaXMgcmVtb3ZlZFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIHgsIHksIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc25hcE9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuZWFzZSA9IGVhc2Uob3B0aW9ucy5lYXNlLCAnZWFzZUluT3V0U2luZScpO1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZvcmNlU3RhcnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zbmFwU3RhcnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc25hcFN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMucGVyY2VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5zbmFwcGluZyA9IHsgdGltZTogMCB9O1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLm9wdGlvbnMudG9wTGVmdCA/IHRoaXMucGFyZW50LmNvcm5lciA6IHRoaXMucGFyZW50LmNlbnRlcjtcclxuICAgICAgICB0aGlzLmRlbHRhWCA9IHRoaXMueCAtIGN1cnJlbnQueDtcclxuICAgICAgICB0aGlzLmRlbHRhWSA9IHRoaXMueSAtIGN1cnJlbnQueTtcclxuICAgICAgICB0aGlzLnN0YXJ0WCA9IGN1cnJlbnQueDtcclxuICAgICAgICB0aGlzLnN0YXJ0WSA9IGN1cnJlbnQueTtcclxuICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdzbmFwLXN0YXJ0JywgdGhpcy5wYXJlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHdoZWVsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZlT25JbnRlcnJ1cHQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucGx1Z2lucy5yZW1vdmUoJ3NuYXAnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uSW50ZXJydXB0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnBsdWdpbnMucmVtb3ZlKCdzbmFwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnJ1cHQpIHtcclxuICAgICAgICAgICAgdGhpcy5zbmFwcGluZyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhcmVudC5pbnB1dC5jb3VudCgpID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlY2VsZXJhdGUgPSB0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgnZGVjZWxlcmF0ZScsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoZGVjZWxlcmF0ZSAmJiAoZGVjZWxlcmF0ZS54IHx8IGRlY2VsZXJhdGUueSkpIHtcclxuICAgICAgICAgICAgICAgIGRlY2VsZXJhdGUucGVyY2VudENoYW5nZVggPSBkZWNlbGVyYXRlLnBlcmNlbnRDaGFuZ2VZID0gdGhpcy5vcHRpb25zLmZyaWN0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmludGVycnVwdCAmJiB0aGlzLnBhcmVudC5pbnB1dC5jb3VudCgpICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuc25hcHBpbmcpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IHRoaXMub3B0aW9ucy50b3BMZWZ0ID8gdGhpcy5wYXJlbnQuY29ybmVyIDogdGhpcy5wYXJlbnQuY2VudGVyO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudC54ICE9PSB0aGlzLnggfHwgY3VycmVudC55ICE9PSB0aGlzLnkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc25hcFN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNuYXBwaW5nID0gdGhpcy5zbmFwcGluZztcclxuICAgICAgICAgICAgc25hcHBpbmcudGltZSArPSBlbGFwc2VkO1xyXG4gICAgICAgICAgICBsZXQgZmluaXNoZWQsIHgsIHk7XHJcbiAgICAgICAgICAgIGlmIChzbmFwcGluZy50aW1lID4gdGhpcy5vcHRpb25zLnRpbWUpIHtcclxuICAgICAgICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHggPSB0aGlzLnN0YXJ0WCArIHRoaXMuZGVsdGFYO1xyXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMuc3RhcnRZICsgdGhpcy5kZWx0YVk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5lYXNlKHNuYXBwaW5nLnRpbWUsIDAsIDEsIHRoaXMub3B0aW9ucy50aW1lKTtcclxuICAgICAgICAgICAgICAgIHggPSB0aGlzLnN0YXJ0WCArIHRoaXMuZGVsdGFYICogcGVyY2VudDtcclxuICAgICAgICAgICAgICAgIHkgPSB0aGlzLnN0YXJ0WSArIHRoaXMuZGVsdGFZICogcGVyY2VudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRvcExlZnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm1vdmVDb3JuZXIoeCwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5tb3ZlQ2VudGVyKHgsIHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdzbmFwJyB9KTtcclxuICAgICAgICAgICAgaWYgKGZpbmlzaGVkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uQ29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5wbHVnaW5zLnJlbW92ZSgnc25hcCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnc25hcC1lbmQnLCB0aGlzLnBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYXBwaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gU25hcFpvb21PcHRpb25zXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd2lkdGg9MF0gdGhlIGRlc2lyZWQgd2lkdGggdG8gc25hcCAodG8gbWFpbnRhaW4gYXNwZWN0IHJhdGlvLCBjaG9vc2Ugb25seSB3aWR0aCBvciBoZWlnaHQpXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbaGVpZ2h0PTBdIHRoZSBkZXNpcmVkIGhlaWdodCB0byBzbmFwICh0byBtYWludGFpbiBhc3BlY3QgcmF0aW8sIGNob29zZSBvbmx5IHdpZHRoIG9yIGhlaWdodClcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lPTEwMDBdIHRpbWUgZm9yIHNuYXBwaW5nIGluIG1zXHJcbiAqIEBwcm9wZXJ0eSB7KHN0cmluZ3xmdW5jdGlvbil9IFtlYXNlPWVhc2VJbk91dFNpbmVdIGVhc2UgZnVuY3Rpb24gb3IgbmFtZSAoc2VlIGh0dHA6Ly9lYXNpbmdzLm5ldC8gZm9yIHN1cHBvcnRlZCBuYW1lcylcclxuICogQHByb3BlcnR5IHtQSVhJLlBvaW50fSBbY2VudGVyXSBwbGFjZSB0aGlzIHBvaW50IGF0IGNlbnRlciBkdXJpbmcgem9vbSBpbnN0ZWFkIG9mIGNlbnRlciBvZiB0aGUgdmlld3BvcnRcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbaW50ZXJydXB0PXRydWVdIHBhdXNlIHNuYXBwaW5nIHdpdGggYW55IHVzZXIgaW5wdXQgb24gdGhlIHZpZXdwb3J0XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JlbW92ZU9uQ29tcGxldGVdIHJlbW92ZXMgdGhpcyBwbHVnaW4gYWZ0ZXIgc25hcHBpbmcgaXMgY29tcGxldGVcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVtb3ZlT25JbnRlcnJ1cHRdIHJlbW92ZXMgdGhpcyBwbHVnaW4gaWYgaW50ZXJydXB0ZWQgYnkgYW55IHVzZXIgaW5wdXRcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbZm9yY2VTdGFydF0gc3RhcnRzIHRoZSBzbmFwIGltbWVkaWF0ZWx5IHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgdmlld3BvcnQgaXMgYXQgdGhlIGRlc2lyZWQgem9vbVxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtub01vdmVdIHpvb20gYnV0IGRvIG5vdCBtb3ZlXHJcbiAqL1xyXG5cclxuY29uc3Qgc25hcFpvb21PcHRpb25zID0ge1xyXG4gICAgd2lkdGg6IDAsXHJcbiAgICBoZWlnaHQ6IDAsXHJcbiAgICB0aW1lOiAxMDAwLFxyXG4gICAgZWFzZTogJ2Vhc2VJbk91dFNpbmUnLFxyXG4gICAgY2VudGVyOiBudWxsLFxyXG4gICAgaW50ZXJydXB0OiB0cnVlLFxyXG4gICAgcmVtb3ZlT25Db21wbGV0ZTogZmFsc2UsXHJcbiAgICByZW1vdmVPbkludGVycnVwdHM6IGZhbHNlLFxyXG4gICAgZm9yY2VTdGFydDogZmFsc2UsXHJcbiAgICBub01vdmU6IGZhbHNlXHJcbn07XHJcblxyXG5jbGFzcyBTbmFwWm9vbSBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7Vmlld3BvcnR9IHBhcmVudFxyXG4gICAgICogQHBhcmFtIHtTbmFwWm9vbU9wdGlvbnN9IG9wdGlvbnNcclxuICAgICAqIEBldmVudCBzbmFwLXpvb20tc3RhcnQoVmlld3BvcnQpIGVtaXR0ZWQgZWFjaCB0aW1lIGEgZml0IGFuaW1hdGlvbiBzdGFydHNcclxuICAgICAqIEBldmVudCBzbmFwLXpvb20tZW5kKFZpZXdwb3J0KSBlbWl0dGVkIGVhY2ggdGltZSBmaXQgcmVhY2hlcyBpdHMgdGFyZ2V0XHJcbiAgICAgKiBAZXZlbnQgc25hcC16b29tLWVuZChWaWV3cG9ydCkgZW1pdHRlZCBlYWNoIHRpbWUgZml0IHJlYWNoZXMgaXRzIHRhcmdldFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc25hcFpvb21PcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmVhc2UgPSBlYXNlKHRoaXMub3B0aW9ucy5lYXNlKTtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLndpZHRoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnhTY2FsZSA9IHBhcmVudC5zY3JlZW5XaWR0aCAvIHRoaXMub3B0aW9ucy53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueVNjYWxlID0gcGFyZW50LnNjcmVlbkhlaWdodCAvIHRoaXMub3B0aW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMueEluZGVwZW5kZW50ID0gdGhpcy54U2NhbGUgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgdGhpcy55SW5kZXBlbmRlbnQgPSB0aGlzLnlTY2FsZSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICB0aGlzLnhTY2FsZSA9IHRoaXMueEluZGVwZW5kZW50ID8gdGhpcy54U2NhbGUgOiB0aGlzLnlTY2FsZTtcclxuICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMueUluZGVwZW5kZW50ID8gdGhpcy55U2NhbGUgOiB0aGlzLnhTY2FsZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50aW1lID09PSAwKSB7XHJcbiAgICAgICAgICAgIHBhcmVudC5jb250YWluZXIuc2NhbGUueCA9IHRoaXMueFNjYWxlO1xyXG4gICAgICAgICAgICBwYXJlbnQuY29udGFpbmVyLnNjYWxlLnkgPSB0aGlzLnlTY2FsZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5wbHVnaW5zLnJlbW92ZSgnc25hcC16b29tJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5mb3JjZVN0YXJ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU25hcHBpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlU25hcHBpbmcoKSB7XHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLnBhcmVudC5zY2FsZTtcclxuICAgICAgICBjb25zdCBzdGFydFdvcmxkU2NyZWVuV2lkdGggPSB0aGlzLnBhcmVudC53b3JsZFNjcmVlbldpZHRoO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0V29ybGRTY3JlZW5IZWlnaHQgPSB0aGlzLnBhcmVudC53b3JsZFNjcmVlbkhlaWdodDtcclxuICAgICAgICBjb25zdCBlbmRXb3JsZFNjcmVlbldpZHRoID0gdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLyB0aGlzLnhTY2FsZTtcclxuICAgICAgICBjb25zdCBlbmRXb3JsZFNjcmVlbkhlaWdodCA9IHRoaXMucGFyZW50LnNjcmVlbkhlaWdodCAvIHRoaXMueVNjYWxlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc25hcHBpbmcgPSB7IFxyXG4gICAgICAgICAgICB0aW1lOiAwLCBcclxuICAgICAgICAgICAgc3RhcnRYOiBzdGFydFdvcmxkU2NyZWVuV2lkdGgsIFxyXG4gICAgICAgICAgICBzdGFydFk6IHN0YXJ0V29ybGRTY3JlZW5IZWlnaHQsIFxyXG4gICAgICAgICAgICBkZWx0YVg6IGVuZFdvcmxkU2NyZWVuV2lkdGggLSBzdGFydFdvcmxkU2NyZWVuV2lkdGgsIFxyXG4gICAgICAgICAgICBkZWx0YVk6IGVuZFdvcmxkU2NyZWVuSGVpZ2h0IC0gc3RhcnRXb3JsZFNjcmVlbkhlaWdodCBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3NuYXAtem9vbS1zdGFydCcsIHRoaXMucGFyZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy5zbmFwcGluZyA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMud2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy5wYXJlbnQuc2NyZWVuV2lkdGggLyB0aGlzLm9wdGlvbnMud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnlTY2FsZSA9IHRoaXMucGFyZW50LnNjcmVlbkhlaWdodCAvIHRoaXMub3B0aW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMueFNjYWxlID0gdGhpcy54SW5kZXBlbmRlbnQgPyB0aGlzLnhTY2FsZSA6IHRoaXMueVNjYWxlO1xyXG4gICAgICAgIHRoaXMueVNjYWxlID0gdGhpcy55SW5kZXBlbmRlbnQgPyB0aGlzLnlTY2FsZSA6IHRoaXMueFNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHdoZWVsKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZlT25JbnRlcnJ1cHQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucGx1Z2lucy5yZW1vdmUoJ3NuYXAtem9vbScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZlT25JbnRlcnJ1cHQpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQucGx1Z2lucy5yZW1vdmUoJ3NuYXAtem9vbScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLm9wdGlvbnMuaW50ZXJydXB0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc25hcHBpbmcgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoZWxhcHNlZCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnJ1cHQgJiYgdGhpcy5wYXJlbnQuaW5wdXQuY291bnQoKSAhPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBvbGRDZW50ZXI7XHJcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY2VudGVyICYmICF0aGlzLm9wdGlvbnMubm9Nb3ZlKSB7XHJcbiAgICAgICAgICAgIG9sZENlbnRlciA9IHRoaXMucGFyZW50LmNlbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnNuYXBwaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5zY2FsZS54ICE9PSB0aGlzLnhTY2FsZSB8fCB0aGlzLnBhcmVudC5zY2FsZS55ICE9PSB0aGlzLnlTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVTbmFwcGluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc25hcHBpbmcpIHtcclxuICAgICAgICAgICAgY29uc3Qgc25hcHBpbmcgPSB0aGlzLnNuYXBwaW5nO1xyXG4gICAgICAgICAgICBzbmFwcGluZy50aW1lICs9IGVsYXBzZWQ7XHJcbiAgICAgICAgICAgIGlmIChzbmFwcGluZy50aW1lID49IHRoaXMub3B0aW9ucy50aW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS5zZXQodGhpcy54U2NhbGUsIHRoaXMueVNjYWxlKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZlT25Db21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnBsdWdpbnMucmVtb3ZlKCdzbmFwLXpvb20nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3NuYXAtem9vbS1lbmQnLCB0aGlzLnBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNuYXBwaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBwaW5nID0gdGhpcy5zbmFwcGluZztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmxkU2NyZWVuV2lkdGggPSB0aGlzLmVhc2Uoc25hcHBpbmcudGltZSwgc25hcHBpbmcuc3RhcnRYLCBzbmFwcGluZy5kZWx0YVgsIHRoaXMub3B0aW9ucy50aW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmxkU2NyZWVuSGVpZ2h0ID0gdGhpcy5lYXNlKHNuYXBwaW5nLnRpbWUsIHNuYXBwaW5nLnN0YXJ0WSwgc25hcHBpbmcuZGVsdGFZLCB0aGlzLm9wdGlvbnMudGltZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NhbGUueCA9IHRoaXMucGFyZW50LnNjcmVlbldpZHRoIC8gd29ybGRTY3JlZW5XaWR0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnkgPSB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHQgLyB3b3JsZFNjcmVlbkhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjbGFtcCA9IHRoaXMucGFyZW50LnBsdWdpbnMuZ2V0KCdjbGFtcC16b29tJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmIChjbGFtcCkge1xyXG4gICAgICAgICAgICAgICAgY2xhbXAuY2xhbXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ub01vdmUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm1vdmVDZW50ZXIob2xkQ2VudGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm1vdmVDZW50ZXIodGhpcy5vcHRpb25zLmNlbnRlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lKCkge1xyXG4gICAgICAgIHRoaXMuc25hcHBpbmcgPSBudWxsO1xyXG4gICAgICAgIHN1cGVyLnJlc3VtZSgpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGb2xsb3dPcHRpb25zXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc3BlZWQ9MF0gdG8gZm9sbG93IGluIHBpeGVscy9mcmFtZSAoMD10ZWxlcG9ydCB0byBsb2NhdGlvbilcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFthY2NlbGVyYXRpb25dIHNldCBhY2NlbGVyYXRpb24gdG8gYWNjZWxlcmF0ZSBhbmQgZGVjZWxlcmF0ZSBhdCB0aGlzIHJhdGU7IHNwZWVkIGNhbm5vdCBiZSAwIHRvIHVzZSBhY2NlbGVyYXRpb25cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyYWRpdXNdIHJhZGl1cyAoaW4gd29ybGQgY29vcmRpbmF0ZXMpIG9mIGNlbnRlciBjaXJjbGUgd2hlcmUgbW92ZW1lbnQgaXMgYWxsb3dlZCB3aXRob3V0IG1vdmluZyB0aGUgdmlld3BvcnRcclxuICovXHJcblxyXG5jb25zdCBmb2xsb3dPcHRpb25zID0ge1xyXG4gICAgc3BlZWQ6IDAsXHJcbiAgICBhY2NlbGVyYXRpb246IG51bGwsXHJcbiAgICByYWRpdXM6IG51bGxcclxufTtcclxuXHJcbmNsYXNzIEZvbGxvdyBleHRlbmRzIFBsdWdpblxyXG57XHJcbiAgICAvKipcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcclxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgdG8gZm9sbG93XHJcbiAgICAgKiBAcGFyYW0ge0ZvbGxvd09wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIHRhcmdldCwgb3B0aW9ucyA9IHt9KVxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyKHBhcmVudCk7XHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZm9sbG93T3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHsgeDogMCwgeTogMCB9O1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShlbGFwc2VkKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY2VudGVyID0gdGhpcy5wYXJlbnQuY2VudGVyO1xyXG4gICAgICAgIGxldCB0b1ggPSB0aGlzLnRhcmdldC54LFxyXG4gICAgICAgICAgICB0b1kgPSB0aGlzLnRhcmdldC55O1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmFkaXVzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy50YXJnZXQueSAtIGNlbnRlci55LCAyKSArIE1hdGgucG93KHRoaXMudGFyZ2V0LnggLSBjZW50ZXIueCwgMikpO1xyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnMucmFkaXVzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIodGhpcy50YXJnZXQueSAtIGNlbnRlci55LCB0aGlzLnRhcmdldC54IC0gY2VudGVyLngpO1xyXG4gICAgICAgICAgICAgICAgdG9YID0gdGhpcy50YXJnZXQueCAtIE1hdGguY29zKGFuZ2xlKSAqIHRoaXMub3B0aW9ucy5yYWRpdXM7XHJcbiAgICAgICAgICAgICAgICB0b1kgPSB0aGlzLnRhcmdldC55IC0gTWF0aC5zaW4oYW5nbGUpICogdGhpcy5vcHRpb25zLnJhZGl1cztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkZWx0YVggPSB0b1ggLSBjZW50ZXIueDtcclxuICAgICAgICBjb25zdCBkZWx0YVkgPSB0b1kgLSBjZW50ZXIueTtcclxuICAgICAgICBpZiAoZGVsdGFYIHx8IGRlbHRhWSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3BlZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWNjZWxlcmF0aW9uKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMih0b1kgLSBjZW50ZXIueSwgdG9YIC0gY2VudGVyLngpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KGRlbHRhWCwgMikgKyBNYXRoLnBvdyhkZWx0YVksIDIpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWNlbGVyYXRpb25EaXN0YW5jZSA9IChNYXRoLnBvdyh0aGlzLnZlbG9jaXR5LngsIDIpICsgTWF0aC5wb3codGhpcy52ZWxvY2l0eS55LCAyKSkgLyAoMiAqIHRoaXMub3B0aW9ucy5hY2NlbGVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2UgPiBkZWNlbGVyYXRpb25EaXN0YW5jZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBNYXRoLm1pbih0aGlzLnZlbG9jaXR5LnggKyB0aGlzLm9wdGlvbnMuYWNjZWxlcmF0aW9uICogZWxhcHNlZCwgdGhpcy5vcHRpb25zLnNwZWVkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiBNYXRoLm1pbih0aGlzLnZlbG9jaXR5LnkgKyB0aGlzLm9wdGlvbnMuYWNjZWxlcmF0aW9uICogZWxhcHNlZCwgdGhpcy5vcHRpb25zLnNwZWVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogTWF0aC5tYXgodGhpcy52ZWxvY2l0eS54IC0gdGhpcy5vcHRpb25zLmFjY2VsZXJhdGlvbiAqIHRoaXMub3B0aW9ucy5zcGVlZCwgMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5tYXgodGhpcy52ZWxvY2l0eS55IC0gdGhpcy5vcHRpb25zLmFjY2VsZXJhdGlvbiAqIHRoaXMub3B0aW9ucy5zcGVlZCwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlWCA9IE1hdGguY29zKGFuZ2xlKSAqIHRoaXMudmVsb2NpdHkueDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlWSA9IE1hdGguc2luKGFuZ2xlKSAqIHRoaXMudmVsb2NpdHkueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeCA9IE1hdGguYWJzKGNoYW5nZVgpID4gTWF0aC5hYnMoZGVsdGFYKSA/IHRvWCA6IGNlbnRlci54ICsgY2hhbmdlWDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IE1hdGguYWJzKGNoYW5nZVkpID4gTWF0aC5hYnMoZGVsdGFZKSA/IHRvWSA6IGNlbnRlci55ICsgY2hhbmdlWTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNlbnRlcih4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ2ZvbGxvdycgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMih0b1kgLSBjZW50ZXIueSwgdG9YIC0gY2VudGVyLngpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZVggPSBNYXRoLmNvcyhhbmdsZSkgKiB0aGlzLm9wdGlvbnMuc3BlZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlWSA9IE1hdGguc2luKGFuZ2xlKSAqIHRoaXMub3B0aW9ucy5zcGVlZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5hYnMoY2hhbmdlWCkgPiBNYXRoLmFicyhkZWx0YVgpID8gdG9YIDogY2VudGVyLnggKyBjaGFuZ2VYO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBNYXRoLmFicyhjaGFuZ2VZKSA+IE1hdGguYWJzKGRlbHRhWSkgPyB0b1kgOiBjZW50ZXIueSArIGNoYW5nZVk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNlbnRlcih4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCdtb3ZlZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnZm9sbG93JyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm1vdmVDZW50ZXIodG9YLCB0b1kpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ2ZvbGxvdycgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIHRoZSBkZWZhdWx0IGV2ZW50IGxpc3RlbmVyIGZvciAnd2hlZWwnIGV2ZW50IGlzIGRvY3VtZW50LmJvZHkuIFVzZSBgVmlld3BvcnQub3B0aW9ucy5kaXZXaGVlbGAgdG8gY2hhbmdlIHRoaXMgZGVmYXVsdFxyXG4gKiBAdHlwZWRlZiBXaGVlbE9wdGlvbnNcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwZXJjZW50PTAuMV0gcGVyY2VudCB0byBzY3JvbGwgd2l0aCBlYWNoIHNwaW5cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzbW9vdGhdIHNtb290aCB0aGUgem9vbWluZyBieSBwcm92aWRpbmcgdGhlIG51bWJlciBvZiBmcmFtZXMgdG8gem9vbSBiZXR3ZWVuIHdoZWVsIHNwaW5zXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2ludGVycnVwdD10cnVlXSBzdG9wIHNtb290aGluZyB3aXRoIGFueSB1c2VyIGlucHV0IG9uIHRoZSB2aWV3cG9ydFxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZXZlcnNlXSByZXZlcnNlIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHNjcm9sbFxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IFtjZW50ZXJdIHBsYWNlIHRoaXMgcG9pbnQgYXQgY2VudGVyIGR1cmluZyB6b29tIGluc3RlYWQgb2YgY3VycmVudCBtb3VzZSBwb3NpdGlvblxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xpbmVIZWlnaHQ9MjBdIHNjYWxpbmcgZmFjdG9yIGZvciBub24tRE9NX0RFTFRBX1BJWEVMIHNjcm9sbGluZyBldmVudHNcclxuICovXHJcblxyXG5jb25zdCB3aGVlbE9wdGlvbnMgPSB7XHJcbiAgICBwZXJjZW50OiAwLjEsXHJcbiAgICBzbW9vdGg6IGZhbHNlLFxyXG4gICAgaW50ZXJydXB0OiB0cnVlLFxyXG4gICAgcmV2ZXJzZTogZmFsc2UsXHJcbiAgICBjZW50ZXI6IG51bGwsXHJcbiAgICBsaW5lSGVpZ2h0OiAyMFxyXG59O1xyXG5cclxuY2xhc3MgV2hlZWwgZXh0ZW5kcyBQbHVnaW4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHtWaWV3cG9ydH0gcGFyZW50XHJcbiAgICAgKiBAcGFyYW0ge1doZWVsT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAZXZlbnQgd2hlZWwoe3doZWVsOiB7ZHgsIGR5LCBken0sIGV2ZW50LCB2aWV3cG9ydH0pXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50KTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB3aGVlbE9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnRlcnJ1cHQpIHtcclxuICAgICAgICAgICAgdGhpcy5zbW9vdGhpbmcgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc21vb3RoaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gdGhpcy5zbW9vdGhpbmdDZW50ZXI7XHJcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZSA9IHRoaXMuc21vb3RoaW5nO1xyXG4gICAgICAgICAgICBsZXQgb2xkUG9pbnQ7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgb2xkUG9pbnQgPSB0aGlzLnBhcmVudC50b0xvY2FsKHBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS54ICs9IGNoYW5nZS54O1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS55ICs9IGNoYW5nZS55O1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCd6b29tZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ3doZWVsJyB9KTtcclxuICAgICAgICAgICAgY29uc3QgY2xhbXAgPSB0aGlzLnBhcmVudC5wbHVnaW5zLmdldCgnY2xhbXAtem9vbScsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoY2xhbXApIHtcclxuICAgICAgICAgICAgICAgIGNsYW1wLmNsYW1wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Lm1vdmVDZW50ZXIodGhpcy5vcHRpb25zLmNlbnRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdQb2ludCA9IHRoaXMucGFyZW50LnRvR2xvYmFsKG9sZFBvaW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnggKz0gcG9pbnQueCAtIG5ld1BvaW50Lng7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC55ICs9IHBvaW50LnkgLSBuZXdQb2ludC55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICd3aGVlbCcgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc21vb3RoaW5nQ291bnQrKztcclxuICAgICAgICAgICAgaWYgKHRoaXMuc21vb3RoaW5nQ291bnQgPj0gdGhpcy5vcHRpb25zLnNtb290aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbW9vdGhpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHdoZWVsKGUpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcG9pbnQgPSB0aGlzLnBhcmVudC5pbnB1dC5nZXRQb2ludGVyUG9zaXRpb24oZSk7XHJcbiAgICAgICAgY29uc3Qgc2lnbiA9IHRoaXMub3B0aW9ucy5yZXZlcnNlID8gLTEgOiAxO1xyXG4gICAgICAgIGNvbnN0IHN0ZXAgPSBzaWduICogLWUuZGVsdGFZICogKGUuZGVsdGFNb2RlID8gdGhpcy5vcHRpb25zLmxpbmVIZWlnaHQgOiAxKSAvIDUwMDtcclxuICAgICAgICBjb25zdCBjaGFuZ2UgPSBNYXRoLnBvdygyLCAoMSArIHRoaXMub3B0aW9ucy5wZXJjZW50KSAqIHN0ZXApO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc21vb3RoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0ge1xyXG4gICAgICAgICAgICAgICAgeDogdGhpcy5zbW9vdGhpbmcgPyB0aGlzLnNtb290aGluZy54ICogKHRoaXMub3B0aW9ucy5zbW9vdGggLSB0aGlzLnNtb290aGluZ0NvdW50KSA6IDAsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnNtb290aGluZyA/IHRoaXMuc21vb3RoaW5nLnkgKiAodGhpcy5vcHRpb25zLnNtb290aCAtIHRoaXMuc21vb3RoaW5nQ291bnQpIDogMFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNtb290aGluZyA9IHtcclxuICAgICAgICAgICAgICAgIHg6ICgodGhpcy5wYXJlbnQuc2NhbGUueCArIG9yaWdpbmFsLngpICogY2hhbmdlIC0gdGhpcy5wYXJlbnQuc2NhbGUueCkgLyB0aGlzLm9wdGlvbnMuc21vb3RoLFxyXG4gICAgICAgICAgICAgICAgeTogKCh0aGlzLnBhcmVudC5zY2FsZS55ICsgb3JpZ2luYWwueSkgKiBjaGFuZ2UgLSB0aGlzLnBhcmVudC5zY2FsZS55KSAvIHRoaXMub3B0aW9ucy5zbW9vdGhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zbW9vdGhpbmdDb3VudCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc21vb3RoaW5nQ2VudGVyID0gcG9pbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgb2xkUG9pbnQ7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgb2xkUG9pbnQgPSB0aGlzLnBhcmVudC50b0xvY2FsKHBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS54ICo9IGNoYW5nZTtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NhbGUueSAqPSBjaGFuZ2U7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3pvb21lZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCB0eXBlOiAnd2hlZWwnIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBjbGFtcCA9IHRoaXMucGFyZW50LnBsdWdpbnMuZ2V0KCdjbGFtcC16b29tJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmIChjbGFtcCkge1xyXG4gICAgICAgICAgICAgICAgY2xhbXAuY2xhbXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNlbnRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNlbnRlcih0aGlzLm9wdGlvbnMuY2VudGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BvaW50ID0gdGhpcy5wYXJlbnQudG9HbG9iYWwob2xkUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQueCArPSBwb2ludC54IC0gbmV3UG9pbnQueDtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnkgKz0gcG9pbnQueSAtIG5ld1BvaW50Lnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wYXJlbnQuZW1pdCgnbW92ZWQnLCB7IHZpZXdwb3J0OiB0aGlzLnBhcmVudCwgdHlwZTogJ3doZWVsJyB9KTtcclxuICAgICAgICB0aGlzLnBhcmVudC5lbWl0KCd3aGVlbCcsIHsgd2hlZWw6IHsgZHg6IGUuZGVsdGFYLCBkeTogZS5kZWx0YVksIGR6OiBlLmRlbHRhWiB9LCBldmVudDogZSwgdmlld3BvcnQ6IHRoaXMucGFyZW50IH0pO1xyXG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQub3B0aW9ucy5wYXNzaXZlV2hlZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEB0eXBlZGVmIE1vdXNlRWRnZXNPcHRpb25zXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmFkaXVzXSBkaXN0YW5jZSBmcm9tIGNlbnRlciBvZiBzY3JlZW4gaW4gc2NyZWVuIHBpeGVsc1xyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2Rpc3RhbmNlXSBkaXN0YW5jZSBmcm9tIGFsbCBzaWRlcyBpbiBzY3JlZW4gcGl4ZWxzXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdG9wXSBhbHRlcm5hdGl2ZWx5LCBzZXQgdG9wIGRpc3RhbmNlIChsZWF2ZSB1bnNldCBmb3Igbm8gdG9wIHNjcm9sbClcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtib3R0b21dIGFsdGVybmF0aXZlbHksIHNldCBib3R0b20gZGlzdGFuY2UgKGxlYXZlIHVuc2V0IGZvciBubyB0b3Agc2Nyb2xsKVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2xlZnRdIGFsdGVybmF0aXZlbHksIHNldCBsZWZ0IGRpc3RhbmNlIChsZWF2ZSB1bnNldCBmb3Igbm8gdG9wIHNjcm9sbClcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyaWdodF0gYWx0ZXJuYXRpdmVseSwgc2V0IHJpZ2h0IGRpc3RhbmNlIChsZWF2ZSB1bnNldCBmb3Igbm8gdG9wIHNjcm9sbClcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzcGVlZD04XSBzcGVlZCBpbiBwaXhlbHMvZnJhbWUgdG8gc2Nyb2xsIHZpZXdwb3J0XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JldmVyc2VdIHJldmVyc2UgZGlyZWN0aW9uIG9mIHNjcm9sbFxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtub0RlY2VsZXJhdGVdIGRvbid0IHVzZSBkZWNlbGVyYXRlIHBsdWdpbiBldmVuIGlmIGl0J3MgaW5zdGFsbGVkXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2xpbmVhcl0gaWYgdXNpbmcgcmFkaXVzLCB1c2UgbGluZWFyIG1vdmVtZW50ICgrLy0gMSwgKy8tIDEpIGluc3RlYWQgb2YgYW5nbGVkIG1vdmVtZW50IChNYXRoLmNvcyhhbmdsZSBmcm9tIGNlbnRlciksIE1hdGguc2luKGFuZ2xlIGZyb20gY2VudGVyKSlcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbYWxsb3dCdXR0b25zXSBhbGxvd3MgcGx1Z2luIHRvIGNvbnRpbnVlIHdvcmtpbmcgZXZlbiB3aGVuIHRoZXJlJ3MgYSBtb3VzZWRvd24gZXZlbnRcclxuICovXHJcblxyXG5jb25zdCBtb3VzZUVkZ2VzT3B0aW9ucyA9IHtcclxuICAgIHJhZGl1czogbnVsbCxcclxuICAgIGRpc3RhbmNlOiBudWxsLFxyXG4gICAgdG9wOiBudWxsLFxyXG4gICAgYm90dG9tOiBudWxsLFxyXG4gICAgbGVmdDogbnVsbCxcclxuICAgIHJpZ2h0OiBudWxsLFxyXG4gICAgc3BlZWQ6IDgsXHJcbiAgICByZXZlcnNlOiBmYWxzZSxcclxuICAgIG5vRGVjZWxlcmF0ZTogZmFsc2UsXHJcbiAgICBsaW5lYXI6IGZhbHNlLFxyXG4gICAgYWxsb3dCdXR0b25zOiBmYWxzZVxyXG59O1xyXG5cclxuY2xhc3MgTW91c2VFZGdlcyBleHRlbmRzIFBsdWdpbiB7XHJcbiAgICAvKipcclxuICAgICAqIFNjcm9sbCB2aWV3cG9ydCB3aGVuIG1vdXNlIGhvdmVycyBuZWFyIG9uZSBvZiB0aGUgZWRnZXMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHtWaWV3cG9ydH0gcGFyZW50XHJcbiAgICAgKiBAcGFyYW0ge01vdXNlRWRnZU9wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICogQGV2ZW50IG1vdXNlLWVkZ2Utc3RhcnQoVmlld3BvcnQpIGVtaXR0ZWQgd2hlbiBtb3VzZS1lZGdlIHN0YXJ0c1xyXG4gICAgICogQGV2ZW50IG1vdXNlLWVkZ2UtZW5kKFZpZXdwb3J0KSBlbWl0dGVkIHdoZW4gbW91c2UtZWRnZSBlbmRzXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgc3VwZXIocGFyZW50KTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBtb3VzZUVkZ2VzT3B0aW9ucywgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5yZXZlcnNlID0gdGhpcy5vcHRpb25zLnJldmVyc2UgPyAxIDogLTE7XHJcbiAgICAgICAgdGhpcy5yYWRpdXNTcXVhcmVkID0gTWF0aC5wb3codGhpcy5vcHRpb25zLnJhZGl1cywgMik7XHJcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNpemUoKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLm9wdGlvbnMuZGlzdGFuY2U7XHJcbiAgICAgICAgaWYgKGRpc3RhbmNlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICB0aGlzLnRvcCA9IGRpc3RhbmNlO1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5wYXJlbnQud29ybGRTY3JlZW5XaWR0aCAtIGRpc3RhbmNlO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMucGFyZW50LndvcmxkU2NyZWVuSGVpZ2h0IC0gZGlzdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLnJhZGl1cykge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSB0aGlzLm9wdGlvbnMubGVmdDtcclxuICAgICAgICAgICAgdGhpcy50b3AgPSB0aGlzLm9wdGlvbnMudG9wO1xyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5vcHRpb25zLnJpZ2h0ID09PSBudWxsID8gbnVsbCA6IHRoaXMucGFyZW50LndvcmxkU2NyZWVuV2lkdGggLSB0aGlzLm9wdGlvbnMucmlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tID0gdGhpcy5vcHRpb25zLmJvdHRvbSA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLnBhcmVudC53b3JsZFNjcmVlbkhlaWdodCAtIHRoaXMub3B0aW9ucy5ib3R0b207XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbGxvd0J1dHRvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gdGhpcy52ZXJ0aWNhbCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG1vdmUoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5wYXVzZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgoZXZlbnQuZGF0YS5wb2ludGVyVHlwZSAhPT0gJ21vdXNlJyAmJiBldmVudC5kYXRhLmlkZW50aWZpZXIgIT09IDEpIHx8ICghdGhpcy5vcHRpb25zLmFsbG93QnV0dG9ucyAmJiBldmVudC5kYXRhLmJ1dHRvbnMgIT09IDApKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuZGF0YS5nbG9iYWwueDtcclxuICAgICAgICBjb25zdCB5ID0gZXZlbnQuZGF0YS5nbG9iYWwueTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzU3F1YXJlZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnBhcmVudC50b1NjcmVlbih0aGlzLnBhcmVudC5jZW50ZXIpO1xyXG4gICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGgucG93KGNlbnRlci54IC0geCwgMikgKyBNYXRoLnBvdyhjZW50ZXIueSAtIHksIDIpO1xyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPj0gdGhpcy5yYWRpdXNTcXVhcmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoY2VudGVyLnkgLSB5LCBjZW50ZXIueCAtIHgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5saW5lYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvcml6b250YWwgPSBNYXRoLnJvdW5kKE1hdGguY29zKGFuZ2xlKSkgKiB0aGlzLm9wdGlvbnMuc3BlZWQgKiB0aGlzLnJldmVyc2UgKiAoNjAgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsID0gTWF0aC5yb3VuZChNYXRoLnNpbihhbmdsZSkpICogdGhpcy5vcHRpb25zLnNwZWVkICogdGhpcy5yZXZlcnNlICogKDYwIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvcml6b250YWwgPSBNYXRoLmNvcyhhbmdsZSkgKiB0aGlzLm9wdGlvbnMuc3BlZWQgKiB0aGlzLnJldmVyc2UgKiAoNjAgLyAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsID0gTWF0aC5zaW4oYW5nbGUpICogdGhpcy5vcHRpb25zLnNwZWVkICogdGhpcy5yZXZlcnNlICogKDYwIC8gMTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNlbGVyYXRlSG9yaXpvbnRhbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlY2VsZXJhdGVWZXJ0aWNhbCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gdGhpcy52ZXJ0aWNhbCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgIT09IG51bGwgJiYgeCA8IHRoaXMubGVmdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gMSAqIHRoaXMucmV2ZXJzZSAqIHRoaXMub3B0aW9ucy5zcGVlZCAqICg2MCAvIDEwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucmlnaHQgIT09IG51bGwgJiYgeCA+IHRoaXMucmlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IC0xICogdGhpcy5yZXZlcnNlICogdGhpcy5vcHRpb25zLnNwZWVkICogKDYwIC8gMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlY2VsZXJhdGVIb3Jpem9udGFsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhvcml6b250YWwgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRvcCAhPT0gbnVsbCAmJiB5IDwgdGhpcy50b3ApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmVydGljYWwgPSAxICogdGhpcy5yZXZlcnNlICogdGhpcy5vcHRpb25zLnNwZWVkICogKDYwIC8gMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5ib3R0b20gIT09IG51bGwgJiYgeSA+IHRoaXMuYm90dG9tKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsID0gLTEgKiB0aGlzLnJldmVyc2UgKiB0aGlzLm9wdGlvbnMuc3BlZWQgKiAoNjAgLyAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVjZWxlcmF0ZVZlcnRpY2FsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZWNlbGVyYXRlSG9yaXpvbnRhbCgpIHtcclxuICAgICAgICBjb25zdCBkZWNlbGVyYXRlID0gdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ2RlY2VsZXJhdGUnLCB0cnVlKTtcclxuICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsICYmIGRlY2VsZXJhdGUgJiYgIXRoaXMub3B0aW9ucy5ub0RlY2VsZXJhdGUpIHtcclxuICAgICAgICAgICAgZGVjZWxlcmF0ZS5hY3RpdmF0ZSh7IHg6ICh0aGlzLmhvcml6b250YWwgKiB0aGlzLm9wdGlvbnMuc3BlZWQgKiB0aGlzLnJldmVyc2UpIC8gKDEwMDAgLyA2MCkgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlY2VsZXJhdGVWZXJ0aWNhbCgpIHtcclxuICAgICAgICBjb25zdCBkZWNlbGVyYXRlID0gdGhpcy5wYXJlbnQucGx1Z2lucy5nZXQoJ2RlY2VsZXJhdGUnLCB0cnVlKTtcclxuICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbCAmJiBkZWNlbGVyYXRlICYmICF0aGlzLm9wdGlvbnMubm9EZWNlbGVyYXRlKSB7XHJcbiAgICAgICAgICAgIGRlY2VsZXJhdGUuYWN0aXZhdGUoeyB5OiAodGhpcy52ZXJ0aWNhbCAqIHRoaXMub3B0aW9ucy5zcGVlZCAqIHRoaXMucmV2ZXJzZSkgLyAoMTAwMCAvIDYwKSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVjZWxlcmF0ZUhvcml6b250YWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWNlbGVyYXRlVmVydGljYWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gdGhpcy52ZXJ0aWNhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCkge1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhvcml6b250YWwgfHwgdGhpcy52ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLnBhcmVudC5jZW50ZXI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpIHtcclxuICAgICAgICAgICAgICAgIGNlbnRlci54ICs9IHRoaXMuaG9yaXpvbnRhbCAqIHRoaXMub3B0aW9ucy5zcGVlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICAgICAgY2VudGVyLnkgKz0gdGhpcy52ZXJ0aWNhbCAqIHRoaXMub3B0aW9ucy5zcGVlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudC5tb3ZlQ2VudGVyKGNlbnRlcik7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIHR5cGU6ICdtb3VzZS1lZGdlcycgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxuICogVG8gc2V0IHRoZSB6b29tIGxldmVsLCB1c2U6ICgxKSBzY2FsZSwgKDIpIHNjYWxlWCBhbmQgc2NhbGVZLCBvciAoMykgd2lkdGggYW5kL29yIGhlaWdodFxuICogQHR5cGVkZWYge29wdGlvbnN9IEFuaW1hdGVPcHRpb25zXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWU9MTAwMF0gdG8gYW5pbWF0ZVxuICogQHByb3BlcnR5IHtQSVhJLlBvaW50fSBbcG9zaXRpb249dmlld3BvcnQuY2VudGVyXSBwb3NpdGlvbiB0byBtb3ZlIHZpZXdwb3J0XG4gKiBAcHJvcGVydHkge251bWJlcn0gW3dpZHRoXSBkZXNpcmVkIHZpZXdwb3J0IHdpZHRoIGluIHdvcmxkIHBpeGVscyAodXNlIGluc3RlYWQgb2Ygc2NhbGU7IGFzcGVjdCByYXRpbyBpcyBtYWludGFpbmVkIGlmIGhlaWdodCBpcyBub3QgcHJvdmlkZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2hlaWdodF0gZGVzaXJlZCB2aWV3cG9ydCBoZWlnaHQgaW4gd29ybGQgcGl4ZWxzICh1c2UgaW5zdGVhZCBvZiBzY2FsZTsgYXNwZWN0IHJhdGlvIGlzIG1haW50YWluZWQgaWYgd2lkdGggaXMgbm90IHByb3ZpZGVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzY2FsZV0gc2NhbGUgdG8gY2hhbmdlIHpvb20gKHNjYWxlLnggPSBzY2FsZS55KVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtzY2FsZVhdIGluZGVwZW5kZW50bHkgY2hhbmdlIHpvb20gaW4geC1kaXJlY3Rpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc2NhbGVZXSBpbmRlcGVuZGVudGx5IGNoYW5nZSB6b29tIGluIHktZGlyZWN0aW9uXG4gKiBAcHJvcGVydHkgeyhmdW5jdGlvbnxzdHJpbmcpfSBbZWFzZT1saW5lYXJdIGVhc2luZyBmdW5jdGlvbiB0byB1c2VcbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IFtjYWxsYmFja09uQ29tcGxldGVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZW1vdmVPbkludGVycnVwdF0gcmVtb3ZlcyB0aGlzIHBsdWdpbiBpZiBpbnRlcnJ1cHRlZCBieSBhbnkgdXNlciBpbnB1dFxuICovXG5cbmNvbnN0IGFuaW1hdGVPcHRpb25zID0ge1xuICAgIHJlbW92ZU9uSW50ZXJydXB0OiBmYWxzZSxcbiAgICBlYXNlOiAnbGluZWFyJyxcbiAgICB0aW1lOiAxMDAwXG59O1xuXG5jbGFzcyBBbmltYXRlIGV4dGVuZHMgUGx1Z2luXG57XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0fSBwYXJlbnRcbiAgICAgKiBAcGFyYW0ge0FuaW1hdGVPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKiBAZmlyZXMgYW5pbWF0ZS1lbmRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG9wdGlvbnM9e30pXG4gICAge1xuICAgICAgICBzdXBlcihwYXJlbnQpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBhbmltYXRlT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5lYXNlID0gZWFzZSh0aGlzLm9wdGlvbnMuZWFzZSk7XG4gICAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbigpO1xuICAgICAgICB0aGlzLnNldHVwWm9vbSgpO1xuICAgIH1cblxuICAgIHNldHVwUG9zaXRpb24oKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMucG9zaXRpb24gIT09ICd1bmRlZmluZWQnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0WCA9IHRoaXMucGFyZW50LmNlbnRlci54O1xuICAgICAgICAgICAgdGhpcy5zdGFydFkgPSB0aGlzLnBhcmVudC5jZW50ZXIueTtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFYID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uLnggLSB0aGlzLnBhcmVudC5jZW50ZXIueDtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFZID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uLnkgLSB0aGlzLnBhcmVudC5jZW50ZXIueTtcbiAgICAgICAgICAgIHRoaXMua2VlcENlbnRlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5rZWVwQ2VudGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldHVwWm9vbSgpXG4gICAge1xuICAgICAgICB0aGlzLndpZHRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5zY2FsZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCAvIHRoaXMub3B0aW9ucy5zY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLnNjYWxlWCAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHRoaXMub3B0aW9ucy5zY2FsZVkgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5zY2FsZVggIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHNjcmVlblNpemVJbldvcmxkUGl4ZWxzID0gc2NyZWVuV2lkdGggLyBzY2FsZVxuICAgICAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aCAvIHRoaXMub3B0aW9ucy5zY2FsZVg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5zY2FsZVkgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5wYXJlbnQuc2NyZWVuSGVpZ2h0IC8gdGhpcy5vcHRpb25zLnNjYWxlWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLndpZHRoICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaGVpZ2h0ICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMub3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLndpZHRoICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0V2lkdGggPSB0aGlzLnBhcmVudC5zY3JlZW5XaWR0aEluV29ybGRQaXhlbHM7XG4gICAgICAgICAgICB0aGlzLmRlbHRhV2lkdGggPSB0aGlzLndpZHRoIC0gdGhpcy5zdGFydFdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5oZWlnaHQgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRIZWlnaHQgPSB0aGlzLnBhcmVudC5zY3JlZW5IZWlnaHRJbldvcmxkUGl4ZWxzO1xuICAgICAgICAgICAgdGhpcy5kZWx0YUhlaWdodCA9IHRoaXMuaGVpZ2h0IC0gdGhpcy5zdGFydEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xuICAgIH1cblxuICAgIGRvd24oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkludGVycnVwdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQucGx1Z2lucy5yZW1vdmUoJ2FuaW1hdGUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBsZXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMucGFyZW50LnBsdWdpbnMucmVtb3ZlKCdhbmltYXRlJyk7XG4gICAgICAgIGlmICh0aGlzLndpZHRoICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5maXRXaWR0aCh0aGlzLndpZHRoLCB0aGlzLmtlZXBDZW50ZXIsIHRoaXMuaGVpZ2h0ID09PSBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oZWlnaHQgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LmZpdEhlaWdodCh0aGlzLmhlaWdodCwgdGhpcy5rZWVwQ2VudGVyLCB0aGlzLndpZHRoID09PSBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMua2VlcENlbnRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNlbnRlcih0aGlzLm9wdGlvbnMucG9zaXRpb24ueCwgdGhpcy5vcHRpb25zLnBvc2l0aW9uLnkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ2FuaW1hdGUtZW5kJywgdGhpcy5wYXJlbnQpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNhbGxiYWNrT25Db21wbGV0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLmNhbGxiYWNrT25Db21wbGV0ZSh0aGlzLnBhcmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoZWxhcHNlZClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBhdXNlZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIGlmICh0aGlzLnRpbWUgPj0gdGhpcy5vcHRpb25zLnRpbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsWm9vbSA9IG5ldyBQb2ludCh0aGlzLnBhcmVudC5zY2FsZS54LCB0aGlzLnBhcmVudC5zY2FsZS55KTtcbiAgICAgICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuZWFzZSh0aGlzLnRpbWUsIDAsIDEsIHRoaXMub3B0aW9ucy50aW1lKTtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoICE9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmZpdFdpZHRoKHRoaXMuc3RhcnRXaWR0aCArIHRoaXMuZGVsdGFXaWR0aCAqIHBlcmNlbnQsIHRoaXMua2VlcENlbnRlciwgdGhpcy5oZWlnaHQgPT09IG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0ICE9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmZpdEhlaWdodCh0aGlzLnN0YXJ0SGVpZ2h0ICsgdGhpcy5kZWx0YUhlaWdodCAqIHBlcmNlbnQsIHRoaXMua2VlcENlbnRlciwgdGhpcy53aWR0aCA9PT0gbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5zY2FsZS54ID0gdGhpcy5wYXJlbnQuc2NhbGUueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaGVpZ2h0ID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNjYWxlLnkgPSB0aGlzLnBhcmVudC5zY2FsZS54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmtlZXBDZW50ZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSBuZXcgUG9pbnQodGhpcy5wYXJlbnQueCwgdGhpcy5wYXJlbnQueSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQubW92ZUNlbnRlcih0aGlzLnN0YXJ0WCArIHRoaXMuZGVsdGFYICogcGVyY2VudCwgdGhpcy5zdGFydFkgKyB0aGlzLmRlbHRhWSAqIHBlcmNlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcy5wYXJlbnQsIG9yaWdpbmFsLCB0eXBlOiAnYW5pbWF0ZSd9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIHx8IHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmVtaXQoJ3pvb21lZCcsIHsgdmlld3BvcnQ6IHRoaXMucGFyZW50LCBvcmlnaW5hbDogb3JpZ2luYWxab29tLCB0eXBlOiAnYW5pbWF0ZScgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMua2VlcENlbnRlcilcbiAgICAgICAgICAgIDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXHJcbiAqIEB0eXBlZGVmIHtvYmplY3R9IFZpZXdwb3J0T3B0aW9uc1xyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NjcmVlbldpZHRoPXdpbmRvdy5pbm5lcldpZHRoXVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3NjcmVlbkhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHRdXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbd29ybGRXaWR0aD10aGlzLndpZHRoXVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3dvcmxkSGVpZ2h0PXRoaXMuaGVpZ2h0XVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RocmVzaG9sZD01XSBudW1iZXIgb2YgcGl4ZWxzIHRvIG1vdmUgdG8gdHJpZ2dlciBhbiBpbnB1dCBldmVudCAoZS5nLiwgZHJhZywgcGluY2gpIG9yIGRpc2FibGUgYSBjbGlja2VkIGV2ZW50XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3Bhc3NpdmVXaGVlbD10cnVlXSB3aGV0aGVyIHRoZSAnd2hlZWwnIGV2ZW50IGlzIHNldCB0byBwYXNzaXZlIChub3RlOiBpZiBmYWxzZSwgZS5wcmV2ZW50RGVmYXVsdCgpIHdpbGwgYmUgY2FsbGVkIHdoZW4gd2hlZWwgaXMgdXNlZCBvdmVyIHRoZSB2aWV3cG9ydClcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbc3RvcFByb3BhZ2F0aW9uPWZhbHNlXSB3aGV0aGVyIHRvIHN0b3BQcm9wYWdhdGlvbiBvZiBldmVudHMgdGhhdCBpbXBhY3QgdGhlIHZpZXdwb3J0IChleGNlcHQgd2hlZWwgZXZlbnRzLCBzZWUgb3B0aW9ucy5wYXNzaXZlV2hlZWwpXHJcbiAqIEBwcm9wZXJ0eSB7SGl0QXJlYX0gW2ZvcmNlSGl0QXJlYV0gY2hhbmdlIHRoZSBkZWZhdWx0IGhpdEFyZWEgZnJvbSB3b3JsZCBzaXplIHRvIGEgbmV3IHZhbHVlXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW25vVGlja2VyXSBzZXQgdGhpcyBpZiB5b3Ugd2FudCB0byBtYW51YWxseSBjYWxsIHVwZGF0ZSgpIGZ1bmN0aW9uIG9uIGVhY2ggZnJhbWVcclxuICogQHByb3BlcnR5IHtQSVhJLlRpY2tlcn0gW3RpY2tlcj1QSVhJLlRpY2tlci5zaGFyZWRdIHVzZSB0aGlzIFBJWEkudGlja2VyIGZvciB1cGRhdGVzXHJcbiAqIEBwcm9wZXJ0eSB7UElYSS5JbnRlcmFjdGlvbk1hbmFnZXJ9IFtpbnRlcmFjdGlvbj1udWxsXSBJbnRlcmFjdGlvbk1hbmFnZXIsIGF2YWlsYWJsZSBmcm9tIGluc3RhbnRpYXRlZCBXZWJHTFJlbmRlcmVyL0NhbnZhc1JlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb24gLSB1c2VkIHRvIGNhbGN1bGF0ZSBwb2ludGVyIHBvc3Rpb24gcmVsYXRpdmUgdG8gY2FudmFzIGxvY2F0aW9uIG9uIHNjcmVlblxyXG4gKiBAcHJvcGVydHkge0hUTUxFbGVtZW50fSBbZGl2V2hlZWw9ZG9jdW1lbnQuYm9keV0gZGl2IHRvIGF0dGFjaCB0aGUgd2hlZWwgZXZlbnRcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbZGlzYWJsZU9uQ29udGV4dE1lbnVdIHJlbW92ZSBvbmNvbnRleHRtZW51PSgpID0+IHt9IGZyb20gdGhlIGRpdldoZWVsIGVsZW1lbnRcclxuICovXHJcblxyXG5jb25zdCB2aWV3cG9ydE9wdGlvbnMgPSB7XHJcbiAgICBzY3JlZW5XaWR0aDogd2luZG93LmlubmVyV2lkdGgsXHJcbiAgICBzY3JlZW5IZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCxcclxuICAgIHdvcmxkV2lkdGg6IG51bGwsXHJcbiAgICB3b3JsZEhlaWdodDogbnVsbCxcclxuICAgIHRocmVzaG9sZDogNSxcclxuICAgIHBhc3NpdmVXaGVlbDogdHJ1ZSxcclxuICAgIHN0b3BQcm9wYWdhdGlvbjogZmFsc2UsXHJcbiAgICBmb3JjZUhpdEFyZWE6IG51bGwsXHJcbiAgICBub1RpY2tlcjogZmFsc2UsXHJcbiAgICBpbnRlcmFjdGlvbjogbnVsbCxcclxuICAgIGRpc2FibGVPbkNvbnRleHRNZW51OiBmYWxzZVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1haW4gY2xhc3MgdG8gdXNlIHdoZW4gY3JlYXRpbmcgYSBWaWV3cG9ydFxyXG4gKi9cclxuY2xhc3MgVmlld3BvcnQgZXh0ZW5kcyBDb250YWluZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge1ZpZXdwb3J0T3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAZmlyZXMgY2xpY2tlZFxyXG4gICAgICogQGZpcmVzIGRyYWctc3RhcnRcclxuICAgICAqIEBmaXJlcyBkcmFnLWVuZFxyXG4gICAgICogQGZpcmVzIGRyYWctcmVtb3ZlXHJcbiAgICAgKiBAZmlyZXMgcGluY2gtc3RhcnRcclxuICAgICAqIEBmaXJlcyBwaW5jaC1lbmRcclxuICAgICAqIEBmaXJlcyBwaW5jaC1yZW1vdmVcclxuICAgICAqIEBmaXJlcyBzbmFwLXN0YXJ0XHJcbiAgICAgKiBAZmlyZXMgc25hcC1lbmRcclxuICAgICAqIEBmaXJlcyBzbmFwLXJlbW92ZVxyXG4gICAgICogQGZpcmVzIHNuYXAtem9vbS1zdGFydFxyXG4gICAgICogQGZpcmVzIHNuYXAtem9vbS1lbmRcclxuICAgICAqIEBmaXJlcyBzbmFwLXpvb20tcmVtb3ZlXHJcbiAgICAgKiBAZmlyZXMgYm91bmNlLXgtc3RhcnRcclxuICAgICAqIEBmaXJlcyBib3VuY2UteC1lbmRcclxuICAgICAqIEBmaXJlcyBib3VuY2UteS1zdGFydFxyXG4gICAgICogQGZpcmVzIGJvdW5jZS15LWVuZFxyXG4gICAgICogQGZpcmVzIGJvdW5jZS1yZW1vdmVcclxuICAgICAqIEBmaXJlcyB3aGVlbFxyXG4gICAgICogQGZpcmVzIHdoZWVsLXJlbW92ZVxyXG4gICAgICogQGZpcmVzIHdoZWVsLXNjcm9sbFxyXG4gICAgICogQGZpcmVzIHdoZWVsLXNjcm9sbC1yZW1vdmVcclxuICAgICAqIEBmaXJlcyBtb3VzZS1lZGdlLXN0YXJ0XHJcbiAgICAgKiBAZmlyZXMgbW91c2UtZWRnZS1lbmRcclxuICAgICAqIEBmaXJlcyBtb3VzZS1lZGdlLXJlbW92ZVxyXG4gICAgICogQGZpcmVzIG1vdmVkXHJcbiAgICAgKiBAZmlyZXMgbW92ZWQtZW5kXHJcbiAgICAgKiBAZmlyZXMgem9vbWVkXHJcbiAgICAgKiBAZmlyZXMgem9vbWVkLWVuZFxyXG4gICAgICogQGZpcmVzIGZyYW1lLWVuZFxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHZpZXdwb3J0T3B0aW9ucywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIG5lZWRlZCB0byBwdWxsIHRoaXMgb3V0IG9mIHZpZXdwb3J0T3B0aW9ucyBiZWNhdXNlIG9mIHBpeGkuanMgdjQgc3VwcG9ydCAod2hpY2ggY2hhbmdlZCBmcm9tIFBJWEkudGlja2VyLnNoYXJlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQuLi5zaWdoKVxyXG4gICAgICAgIGlmIChvcHRpb25zLnRpY2tlcikge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGlja2VyID0gb3B0aW9ucy50aWNrZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB0byBhdm9pZCBSb2xsdXAgdHJhbnNmb3JtaW5nIG91ciBpbXBvcnQsIHNhdmUgcGl4aSBuYW1lc3BhY2UgaW4gYSB2YXJpYWJsZVxyXG4gICAgICAgICAgICAvLyBmcm9tIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvNTc1N1xyXG4gICAgICAgICAgICBsZXQgdGlja2VyO1xyXG4gICAgICAgICAgICBjb25zdCBwaXhpTlMgPSBQSVhJO1xyXG4gICAgICAgICAgICBpZiAocGFyc2VJbnQoL14oXFxkKylcXC4vLmV4ZWMoVkVSU0lPTilbMV0pIDwgNSkge1xyXG4gICAgICAgICAgICAgICAgdGlja2VyID0gcGl4aU5TLnRpY2tlci5zaGFyZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aWNrZXIgPSBwaXhpTlMuVGlja2VyLnNoYXJlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGlja2VyID0gb3B0aW9ucy50aWNrZXIgfHwgdGlja2VyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXHJcbiAgICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IHRoaXMub3B0aW9ucy5zY3JlZW5XaWR0aDtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXHJcbiAgICAgICAgdGhpcy5zY3JlZW5IZWlnaHQgPSB0aGlzLm9wdGlvbnMuc2NyZWVuSGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLl93b3JsZFdpZHRoID0gdGhpcy5vcHRpb25zLndvcmxkV2lkdGg7XHJcbiAgICAgICAgdGhpcy5fd29ybGRIZWlnaHQgPSB0aGlzLm9wdGlvbnMud29ybGRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5mb3JjZUhpdEFyZWEgPSB0aGlzLm9wdGlvbnMuZm9yY2VIaXRBcmVhO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBudW1iZXIgb2YgcGl4ZWxzIHRvIG1vdmUgdG8gdHJpZ2dlciBhbiBpbnB1dCBldmVudCAoZS5nLiwgZHJhZywgcGluY2gpIG9yIGRpc2FibGUgYSBjbGlja2VkIGV2ZW50XHJcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnRocmVzaG9sZCA9IHRoaXMub3B0aW9ucy50aHJlc2hvbGQ7XHJcblxyXG4gICAgICAgIHRoaXMub3B0aW9ucy5kaXZXaGVlbCA9IHRoaXMub3B0aW9ucy5kaXZXaGVlbCB8fCBkb2N1bWVudC5ib2R5O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVPbkNvbnRleHRNZW51KSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kaXZXaGVlbC5vbmNvbnRleHRtZW51ID0gZSA9PiBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5ub1RpY2tlcikge1xyXG4gICAgICAgICAgICB0aGlzLnRpY2tlckZ1bmN0aW9uID0gKCkgPT4gdGhpcy51cGRhdGUodGhpcy5vcHRpb25zLnRpY2tlci5lbGFwc2VkTVMpO1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudGlja2VyLmFkZCh0aGlzLnRpY2tlckZ1bmN0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQgPSBuZXcgSW5wdXRNYW5hZ2VyKHRoaXMpO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVc2UgdGhpcyB0byBhZGQgdXNlciBwbHVnaW5zIG9yIGFjY2VzcyBleGlzdGluZyBwbHVnaW5zIChlLmcuLCB0byBwYXVzZSwgcmVzdW1lLCBvciByZW1vdmUgdGhlbSlcclxuICAgICAgICAgKiBAdHlwZSB7UGx1Z2luTWFuYWdlcn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnBsdWdpbnMgPSBuZXcgUGx1Z2luTWFuYWdlcih0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIG92ZXJyaWRlcyBQSVhJLkNvbnRhaW5lcidzIGRlc3Ryb3kgdG8gYWxzbyByZW1vdmUgdGhlICd3aGVlbCcgYW5kIFBJWEkuVGlja2VyIGxpc3RlbmVyc1xyXG4gICAgICogQHBhcmFtIHsob2JqZWN0fGJvb2xlYW4pfSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlICAgICAqL1xyXG4gICAgZGVzdHJveShvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubm9UaWNrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRpY2tlci5yZW1vdmUodGhpcy50aWNrZXJGdW5jdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xyXG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB1cGRhdGUgdmlld3BvcnQgb24gZWFjaCBmcmFtZVxyXG4gICAgICogYnkgZGVmYXVsdCwgeW91IGRvIG5vdCBuZWVkIHRvIGNhbGwgdGhpcyB1bmxlc3MgeW91IHNldCBvcHRpb25zLm5vVGlja2VyPXRydWVcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIGxhc3QgdXBkYXRlXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZShlbGFwc2VkKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhdXNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGx1Z2lucy51cGRhdGUoZWxhcHNlZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0Vmlld3BvcnQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciBtb3ZlZC1lbmQgZXZlbnRcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RWaWV3cG9ydC54ICE9PSB0aGlzLnggfHwgdGhpcy5sYXN0Vmlld3BvcnQueSAhPT0gdGhpcy55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW92aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbW92ZWQtZW5kJywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHpvb21lZC1lbmQgZXZlbnRcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxhc3RWaWV3cG9ydC5zY2FsZVggIT09IHRoaXMuc2NhbGUueCB8fCB0aGlzLmxhc3RWaWV3cG9ydC5zY2FsZVkgIT09IHRoaXMuc2NhbGUueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuem9vbWluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy56b29taW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnem9vbWVkLWVuZCcsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnpvb21pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5mb3JjZUhpdEFyZWEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hpdEFyZWFEZWZhdWx0ID0gbmV3IFJlY3RhbmdsZSh0aGlzLmxlZnQsIHRoaXMudG9wLCB0aGlzLndvcmxkU2NyZWVuV2lkdGgsIHRoaXMud29ybGRTY3JlZW5IZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaXRBcmVhID0gdGhpcy5faGl0QXJlYURlZmF1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2RpcnR5ID0gdGhpcy5fZGlydHkgfHwgIXRoaXMubGFzdFZpZXdwb3J0IHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RWaWV3cG9ydC54ICE9PSB0aGlzLnggfHwgdGhpcy5sYXN0Vmlld3BvcnQueSAhPT0gdGhpcy55IHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RWaWV3cG9ydC5zY2FsZVggIT09IHRoaXMuc2NhbGUueCB8fCB0aGlzLmxhc3RWaWV3cG9ydC5zY2FsZVkgIT09IHRoaXMuc2NhbGUueTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGFzdFZpZXdwb3J0ID0ge1xyXG4gICAgICAgICAgICAgICAgeDogdGhpcy54LFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy55LFxyXG4gICAgICAgICAgICAgICAgc2NhbGVYOiB0aGlzLnNjYWxlLngsXHJcbiAgICAgICAgICAgICAgICBzY2FsZVk6IHRoaXMuc2NhbGUueVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2ZyYW1lLWVuZCcsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHVzZSB0aGlzIHRvIHNldCBzY3JlZW4gYW5kIHdvcmxkIHNpemVzLS1uZWVkZWQgZm9yIHBpbmNoL3doZWVsL2NsYW1wL2JvdW5jZVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY3JlZW5XaWR0aD13aW5kb3cuaW5uZXJXaWR0aF1cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NyZWVuSGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodF1cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd29ybGRXaWR0aF1cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd29ybGRIZWlnaHRdXHJcbiAgICAgKi9cclxuICAgIHJlc2l6ZShzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLCBzY3JlZW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsIHdvcmxkV2lkdGgsIHdvcmxkSGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5XaWR0aCA9IHNjcmVlbldpZHRoO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuSGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd29ybGRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhpcy5fd29ybGRXaWR0aCA9IHdvcmxkV2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygd29ybGRIZWlnaHQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3dvcmxkSGVpZ2h0ID0gd29ybGRIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGx1Z2lucy5yZXNpemUoKTtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHdvcmxkIHdpZHRoIGluIHBpeGVsc1xyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHdvcmxkV2lkdGgoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3dvcmxkV2lkdGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dvcmxkV2lkdGhcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndpZHRoIC8gdGhpcy5zY2FsZS54XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0IHdvcmxkV2lkdGgodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl93b3JsZFdpZHRoID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogd29ybGQgaGVpZ2h0IGluIHBpeGVsc1xyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHdvcmxkSGVpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLl93b3JsZEhlaWdodCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd29ybGRIZWlnaHRcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlaWdodCAvIHRoaXMuc2NhbGUueVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldCB3b3JsZEhlaWdodCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3dvcmxkSGVpZ2h0ID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHZpc2libGUgYm91bmRzIG9mIHZpZXdwb3J0XHJcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9XHJcbiAgICAgKi9cclxuICAgIGdldFZpc2libGVCb3VuZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy5sZWZ0LCB0aGlzLnRvcCwgdGhpcy53b3JsZFNjcmVlbldpZHRoLCB0aGlzLndvcmxkU2NyZWVuSGVpZ2h0KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2hhbmdlIGNvb3JkaW5hdGVzIGZyb20gc2NyZWVuIHRvIHdvcmxkXHJcbiAgICAgKiBAcGFyYW0geyhudW1iZXJ8UElYSS5Qb2ludCl9IHggb3IgcG9pbnRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeV1cclxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9XHJcbiAgICAgKi9cclxuICAgIHRvV29ybGQoeCwgeSkge1xyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvTG9jYWwobmV3IFBvaW50KHgsIHkpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Mb2NhbCh4KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoYW5nZSBjb29yZGluYXRlcyBmcm9tIHdvcmxkIHRvIHNjcmVlblxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfFBJWEkuUG9pbnQpfSB4IG9yIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ldXHJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fVxyXG4gICAgICovXHJcbiAgICB0b1NjcmVlbih4LCB5KSB7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9HbG9iYWwobmV3IFBvaW50KHgsIHkpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9HbG9iYWwoeClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzY3JlZW4gd2lkdGggaW4gd29ybGQgY29vcmRpbmF0ZXNcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCB3b3JsZFNjcmVlbldpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlbldpZHRoIC8gdGhpcy5zY2FsZS54XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzY3JlZW4gaGVpZ2h0IGluIHdvcmxkIGNvb3JkaW5hdGVzXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgd29ybGRTY3JlZW5IZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuSGVpZ2h0IC8gdGhpcy5zY2FsZS55XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB3b3JsZCB3aWR0aCBpbiBzY3JlZW4gY29vcmRpbmF0ZXNcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCBzY3JlZW5Xb3JsZFdpZHRoKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkV2lkdGggKiB0aGlzLnNjYWxlLnhcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHdvcmxkIGhlaWdodCBpbiBzY3JlZW4gY29vcmRpbmF0ZXNcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCBzY3JlZW5Xb3JsZEhlaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZEhlaWdodCAqIHRoaXMuc2NhbGUueVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2VudGVyIG9mIHNjcmVlbiBpbiB3b3JsZCBjb29yZGluYXRlc1xyXG4gICAgICogQHR5cGUge1BJWEkuUG9pbnR9XHJcbiAgICAgKi9cclxuICAgIGdldCBjZW50ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLndvcmxkU2NyZWVuV2lkdGggLyAyIC0gdGhpcy54IC8gdGhpcy5zY2FsZS54LCB0aGlzLndvcmxkU2NyZWVuSGVpZ2h0IC8gMiAtIHRoaXMueSAvIHRoaXMuc2NhbGUueSlcclxuICAgIH1cclxuICAgIHNldCBjZW50ZXIodmFsdWUpIHtcclxuICAgICAgICB0aGlzLm1vdmVDZW50ZXIodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbW92ZSBjZW50ZXIgb2Ygdmlld3BvcnQgdG8gcG9pbnRcclxuICAgICAqIEBwYXJhbSB7KG51bWJlcnxQSVhJLlBvaW50KX0geCBvciBwb2ludFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5XVxyXG4gICAgICogQHJldHVybiB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgbW92ZUNlbnRlcigpIHtcclxuICAgICAgICBsZXQgeCwgeTtcclxuICAgICAgICBpZiAoIWlzTmFOKGFyZ3VtZW50c1swXSkpIHtcclxuICAgICAgICAgICAgeCA9IGFyZ3VtZW50c1swXTtcclxuICAgICAgICAgICAgeSA9IGFyZ3VtZW50c1sxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHggPSBhcmd1bWVudHNbMF0ueDtcclxuICAgICAgICAgICAgeSA9IGFyZ3VtZW50c1swXS55O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBvc2l0aW9uLnNldCgodGhpcy53b3JsZFNjcmVlbldpZHRoIC8gMiAtIHgpICogdGhpcy5zY2FsZS54LCAodGhpcy53b3JsZFNjcmVlbkhlaWdodCAvIDIgLSB5KSAqIHRoaXMuc2NhbGUueSk7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRvcC1sZWZ0IGNvcm5lciBvZiBWaWV3cG9ydFxyXG4gICAgICogQHR5cGUge1BJWEkuUG9pbnR9XHJcbiAgICAgKi9cclxuICAgIGdldCBjb3JuZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCgtdGhpcy54IC8gdGhpcy5zY2FsZS54LCAtdGhpcy55IC8gdGhpcy5zY2FsZS55KVxyXG4gICAgfVxyXG4gICAgc2V0IGNvcm5lcih2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMubW92ZUNvcm5lcih2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBtb3ZlIHZpZXdwb3J0J3MgdG9wLWxlZnQgY29ybmVyOyBhbHNvIGNsYW1wcyBhbmQgcmVzZXRzIGRlY2VsZXJhdGUgYW5kIGJvdW5jZSAoYXMgbmVlZGVkKVxyXG4gICAgICogQHBhcmFtIHsobnVtYmVyfFBJWEkuUG9pbnQpfSB4IG9yIHBvaW50XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ldXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBtb3ZlQ29ybmVyKHgsIHkpIHtcclxuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnNldCgteC54ICogdGhpcy5zY2FsZS54LCAteC55ICogdGhpcy5zY2FsZS55KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24uc2V0KC14ICogdGhpcy5zY2FsZS54LCAteSAqIHRoaXMuc2NhbGUueSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGx1Z2lucy5yZXNldCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXQgaG93IG1hbnkgd29ybGQgcGl4ZWxzIGZpdCBpbiBzY3JlZW4ncyB3aWR0aFxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHNjcmVlbldpZHRoSW5Xb3JsZFBpeGVscygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5XaWR0aCAvIHRoaXMuc2NhbGUueFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0IGhvdyBtYW55IHdvcmxkIHBpeGVscyBmaXQgb24gc2NyZWVuJ3MgaGVpZ2h0XHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgc2NyZWVuSGVpZ2h0SW5Xb3JsZFBpeGVscygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5IZWlnaHQgLyB0aGlzLnNjYWxlLnlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZpbmQgdGhlIHNjYWxlIHZhbHVlIHRoYXQgZml0cyBhIHdvcmxkIHdpZHRoIG9uIHRoZSBzY3JlZW5cclxuICAgICAqIGRvZXMgbm90IGNoYW5nZSB0aGUgdmlld3BvcnQgKHVzZSBmaXQuLi4gdG8gY2hhbmdlKVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIGluIHdvcmxkIHBpeGVsc1xyXG4gICAgICogQHJldHVybnMge251bWJlcn0gc2NhbGVcclxuICAgICAqL1xyXG4gICAgZmluZEZpdFdpZHRoKHdpZHRoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuV2lkdGggLyB3aWR0aFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZmluZHMgdGhlIHNjYWxlIHZhbHVlIHRoYXQgZml0cyBhIHdvcmxkIGhlaWdodCBvbiB0aGUgc2NyZWVuc1xyXG4gICAgICogZG9lcyBub3QgY2hhbmdlIHRoZSB2aWV3cG9ydCAodXNlIGZpdC4uLiB0byBjaGFuZ2UpXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IGluIHdvcmxkIHBpeGVsc1xyXG4gICAgICogQHJldHVybnMge251bWJlcn0gc2NhbGVcclxuICAgICAqL1xyXG4gICAgZmluZEZpdEhlaWdodChoZWlnaHQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5IZWlnaHQgLyBoZWlnaHRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGZpbmRzIHRoZSBzY2FsZSB2YWx1ZSB0aGF0IGZpdHMgdGhlIHNtYWxsZXIgb2YgYSB3b3JsZCB3aWR0aCBhbmQgd29ybGQgaGVpZ2h0IG9uIHRoZSBzY3JlZW5cclxuICAgICAqIGRvZXMgbm90IGNoYW5nZSB0aGUgdmlld3BvcnQgKHVzZSBmaXQuLi4gdG8gY2hhbmdlKVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIGluIHdvcmxkIHBpeGVsc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBpbiB3b3JsZCBwaXhlbHNcclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHNjYWxlXHJcbiAgICAgKi9cclxuICAgIGZpbmRGaXQod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGNvbnN0IHNjYWxlWCA9IHRoaXMuc2NyZWVuV2lkdGggLyB3aWR0aDtcclxuICAgICAgICBjb25zdCBzY2FsZVkgPSB0aGlzLnNjcmVlbkhlaWdodCAvIGhlaWdodDtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmaW5kcyB0aGUgc2NhbGUgdmFsdWUgdGhhdCBmaXRzIHRoZSBsYXJnZXIgb2YgYSB3b3JsZCB3aWR0aCBhbmQgd29ybGQgaGVpZ2h0IG9uIHRoZSBzY3JlZW5cclxuICAgICAqIGRvZXMgbm90IGNoYW5nZSB0aGUgdmlld3BvcnQgKHVzZSBmaXQuLi4gdG8gY2hhbmdlKVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIGluIHdvcmxkIHBpeGVsc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBpbiB3b3JsZCBwaXhlbHNcclxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IHNjYWxlXHJcbiAgICAgKi9cclxuICAgIGZpbmRDb3Zlcih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVYID0gdGhpcy5zY3JlZW5XaWR0aCAvIHdpZHRoO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlWSA9IHRoaXMuc2NyZWVuSGVpZ2h0IC8gaGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1heChzY2FsZVgsIHNjYWxlWSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoYW5nZSB6b29tIHNvIHRoZSB3aWR0aCBmaXRzIGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD10aGlzLndvcmxkV2lkdGhdIGluIHdvcmxkIGNvb3JkaW5hdGVzXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjZW50ZXJdIG1haW50YWluIHRoZSBzYW1lIGNlbnRlclxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2NhbGVZPXRydWVdIHdoZXRoZXIgdG8gc2V0IHNjYWxlWT1zY2FsZVhcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25vQ2xhbXBdIHdoZXRoZXIgdG8gZGlzYWJsZSBjbGFtcC16b29tXHJcbiAgICAgKiBAcmV0dXJucyB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgZml0V2lkdGgod2lkdGgsIGNlbnRlciwgc2NhbGVZID0gdHJ1ZSwgbm9DbGFtcCkge1xyXG4gICAgICAgIGxldCBzYXZlO1xyXG4gICAgICAgIGlmIChjZW50ZXIpIHtcclxuICAgICAgICAgICAgc2F2ZSA9IHRoaXMuY2VudGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNjYWxlLnggPSB0aGlzLnNjcmVlbldpZHRoIC8gd2lkdGg7XHJcblxyXG4gICAgICAgIGlmIChzY2FsZVkpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gdGhpcy5zY2FsZS54O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY2xhbXBab29tID0gdGhpcy5wbHVnaW5zLmdldCgnY2xhbXAtem9vbScsIHRydWUpO1xyXG4gICAgICAgIGlmICghbm9DbGFtcCAmJiBjbGFtcFpvb20pIHtcclxuICAgICAgICAgICAgY2xhbXBab29tLmNsYW1wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUNlbnRlcihzYXZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoYW5nZSB6b29tIHNvIHRoZSBoZWlnaHQgZml0cyBpbiB0aGUgdmlld3BvcnRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PXRoaXMud29ybGRIZWlnaHRdIGluIHdvcmxkIGNvb3JkaW5hdGVzXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjZW50ZXJdIG1haW50YWluIHRoZSBzYW1lIGNlbnRlciBvZiB0aGUgc2NyZWVuIGFmdGVyIHpvb21cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NjYWxlWD10cnVlXSB3aGV0aGVyIHRvIHNldCBzY2FsZVggPSBzY2FsZVlcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25vQ2xhbXBdIHdoZXRoZXIgdG8gZGlzYWJsZSBjbGFtcC16b29tXHJcbiAgICAgKiBAcmV0dXJucyB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgZml0SGVpZ2h0KGhlaWdodCwgY2VudGVyLCBzY2FsZVggPSB0cnVlLCBub0NsYW1wKSB7XHJcbiAgICAgICAgbGV0IHNhdmU7XHJcbiAgICAgICAgaWYgKGNlbnRlcikge1xyXG4gICAgICAgICAgICBzYXZlID0gdGhpcy5jZW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NhbGUueSA9IHRoaXMuc2NyZWVuSGVpZ2h0IC8gaGVpZ2h0O1xyXG5cclxuICAgICAgICBpZiAoc2NhbGVYKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHRoaXMuc2NhbGUueTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNsYW1wWm9vbSA9IHRoaXMucGx1Z2lucy5nZXQoJ2NsYW1wLXpvb20nLCB0cnVlKTtcclxuICAgICAgICBpZiAoIW5vQ2xhbXAgJiYgY2xhbXBab29tKSB7XHJcbiAgICAgICAgICAgIGNsYW1wWm9vbS5jbGFtcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNlbnRlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVDZW50ZXIoc2F2ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGFuZ2Ugem9vbSBzbyBpdCBmaXRzIHRoZSBlbnRpcmUgd29ybGQgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNlbnRlciBtYWludGFpbiB0aGUgc2FtZSBjZW50ZXIgb2YgdGhlIHNjcmVlbiBhZnRlciB6b29tXHJcbiAgICAgKiBAcmV0dXJucyB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgZml0V29ybGQoY2VudGVyKSB7XHJcbiAgICAgICAgbGV0IHNhdmU7XHJcbiAgICAgICAgaWYgKGNlbnRlcikge1xyXG4gICAgICAgICAgICBzYXZlID0gdGhpcy5jZW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHRoaXMuc2NyZWVuV2lkdGggLyB0aGlzLndvcmxkV2lkdGg7XHJcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gdGhpcy5zY3JlZW5IZWlnaHQgLyB0aGlzLndvcmxkSGVpZ2h0O1xyXG4gICAgICAgIGlmICh0aGlzLnNjYWxlLnggPCB0aGlzLnNjYWxlLnkpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gdGhpcy5zY2FsZS54O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdGhpcy5zY2FsZS55O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY2xhbXBab29tID0gdGhpcy5wbHVnaW5zLmdldCgnY2xhbXAtem9vbScsIHRydWUpO1xyXG4gICAgICAgIGlmIChjbGFtcFpvb20pIHtcclxuICAgICAgICAgICAgY2xhbXBab29tLmNsYW1wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUNlbnRlcihzYXZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoYW5nZSB6b29tIHNvIGl0IGZpdHMgdGhlIHNpemUgb3IgdGhlIGVudGlyZSB3b3JsZCBpbiB0aGUgdmlld3BvcnRcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NlbnRlcl0gbWFpbnRhaW4gdGhlIHNhbWUgY2VudGVyIG9mIHRoZSBzY3JlZW4gYWZ0ZXIgem9vbVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD10aGlzLndvcmxkV2lkdGhdIGRlc2lyZWQgd2lkdGhcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PXRoaXMud29ybGRIZWlnaHRdIGRlc2lyZWQgaGVpZ2h0XHJcbiAgICAgKiBAcmV0dXJucyB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgZml0KGNlbnRlciwgd2lkdGggPSB0aGlzLndvcmxkV2lkdGgsIGhlaWdodCA9IHRoaXMud29ybGRIZWlnaHQpIHtcclxuICAgICAgICBsZXQgc2F2ZTtcclxuICAgICAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgICAgICAgIHNhdmUgPSB0aGlzLmNlbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2FsZS54ID0gdGhpcy5zY3JlZW5XaWR0aCAvIHdpZHRoO1xyXG4gICAgICAgIHRoaXMuc2NhbGUueSA9IHRoaXMuc2NyZWVuSGVpZ2h0IC8gaGVpZ2h0O1xyXG4gICAgICAgIGlmICh0aGlzLnNjYWxlLnggPCB0aGlzLnNjYWxlLnkpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gdGhpcy5zY2FsZS54O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdGhpcy5zY2FsZS55O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjbGFtcFpvb20gPSB0aGlzLnBsdWdpbnMuZ2V0KCdjbGFtcC16b29tJywgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKGNsYW1wWm9vbSkge1xyXG4gICAgICAgICAgICBjbGFtcFpvb20uY2xhbXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNlbnRlcikge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVDZW50ZXIoc2F2ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZpc2libGUodmFsdWUpIHtcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIudmlzaWJsZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogem9vbSB2aWV3cG9ydCB0byBzcGVjaWZpYyB2YWx1ZVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIHZhbHVlIChlLmcuLCAxIHdvdWxkIGJlIDEwMCUsIDAuMjUgd291bGQgYmUgMjUlKVxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2VudGVyXSBtYWludGFpbiB0aGUgc2FtZSBjZW50ZXIgb2YgdGhlIHNjcmVlbiBhZnRlciB6b29tXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBzZXRab29tKHNjYWxlLCBjZW50ZXIpIHtcclxuICAgICAgICBsZXQgc2F2ZTtcclxuICAgICAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgICAgICAgIHNhdmUgPSB0aGlzLmNlbnRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zY2FsZS5zZXQoc2NhbGUpO1xyXG4gICAgICAgIGNvbnN0IGNsYW1wWm9vbSA9IHRoaXMucGx1Z2lucy5nZXQoJ2NsYW1wLXpvb20nLCB0cnVlKTtcclxuICAgICAgICBpZiAoY2xhbXBab29tKSB7XHJcbiAgICAgICAgICAgIGNsYW1wWm9vbS5jbGFtcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2VudGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUNlbnRlcihzYXZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHpvb20gdmlld3BvcnQgYnkgYSBjZXJ0YWluIHBlcmNlbnQgKGluIGJvdGggeCBhbmQgeSBkaXJlY3Rpb24pXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudCBjaGFuZ2UgKGUuZy4sIDAuMjUgd291bGQgaW5jcmVhc2UgYSBzdGFydGluZyBzY2FsZSBvZiAxLjAgdG8gMS4yNSlcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NlbnRlcl0gbWFpbnRhaW4gdGhlIHNhbWUgY2VudGVyIG9mIHRoZSBzY3JlZW4gYWZ0ZXIgem9vbVxyXG4gICAgICogQHJldHVybiB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgem9vbVBlcmNlbnQocGVyY2VudCwgY2VudGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Wm9vbSh0aGlzLnNjYWxlLnggKyB0aGlzLnNjYWxlLnggKiBwZXJjZW50LCBjZW50ZXIpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB6b29tIHZpZXdwb3J0IGJ5IGluY3JlYXNpbmcvZGVjcmVhc2luZyB3aWR0aCBieSBhIGNlcnRhaW4gbnVtYmVyIG9mIHBpeGVsc1xyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNoYW5nZSBpbiBwaXhlbHNcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NlbnRlcl0gbWFpbnRhaW4gdGhlIHNhbWUgY2VudGVyIG9mIHRoZSBzY3JlZW4gYWZ0ZXIgem9vbVxyXG4gICAgICogQHJldHVybiB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgem9vbShjaGFuZ2UsIGNlbnRlcikge1xyXG4gICAgICAgIHRoaXMuZml0V2lkdGgoY2hhbmdlICsgdGhpcy53b3JsZFNjcmVlbldpZHRoLCBjZW50ZXIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjaGFuZ2VzIHNjYWxlIG9mIHZpZXdwb3J0IGFuZCBtYWludGFpbnMgY2VudGVyIG9mIHZpZXdwb3J0XHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBzZXQgc2NhbGVkKHNjYWxlKSB7XHJcbiAgICAgICAgdGhpcy5zZXRab29tKHNjYWxlLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGdldCBzY2FsZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueFxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtTbmFwWm9vbU9wdGlvbnN9IG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgc25hcFpvb20ob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5hZGQoJ3NuYXAtem9vbScsIG5ldyBTbmFwWm9vbSh0aGlzLCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGlzIGNvbnRhaW5lciBvdXQgb2Ygd29ybGQgYm91bmRzXHJcbiAgICAgKiBAcmV0dXJucyB7T3V0T2ZCb3VuZHN9XHJcbiAgICAgKi9cclxuICAgIE9PQigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsZWZ0OiB0aGlzLmxlZnQgPCAwLFxyXG4gICAgICAgICAgICByaWdodDogdGhpcy5yaWdodCA+IHRoaXMud29ybGRXaWR0aCxcclxuICAgICAgICAgICAgdG9wOiB0aGlzLnRvcCA8IDAsXHJcbiAgICAgICAgICAgIGJvdHRvbTogdGhpcy5ib3R0b20gPiB0aGlzLl93b3JsZEhlaWdodCxcclxuICAgICAgICAgICAgY29ybmVyUG9pbnQ6IG5ldyBQb2ludChcclxuICAgICAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAqIHRoaXMuc2NhbGUueCAtIHRoaXMuc2NyZWVuV2lkdGgsXHJcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkSGVpZ2h0ICogdGhpcy5zY2FsZS55IC0gdGhpcy5zY3JlZW5IZWlnaHRcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHdvcmxkIGNvb3JkaW5hdGVzIG9mIHRoZSByaWdodCBlZGdlIG9mIHRoZSBzY3JlZW5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldCByaWdodCgpIHtcclxuICAgICAgICByZXR1cm4gLXRoaXMueCAvIHRoaXMuc2NhbGUueCArIHRoaXMud29ybGRTY3JlZW5XaWR0aFxyXG4gICAgfVxyXG4gICAgc2V0IHJpZ2h0KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy54ID0gLXZhbHVlICogdGhpcy5zY2FsZS54ICsgdGhpcy5zY3JlZW5XaWR0aDtcclxuICAgICAgICB0aGlzLnBsdWdpbnMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHdvcmxkIGNvb3JkaW5hdGVzIG9mIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHNjcmVlblxyXG4gICAgICogQHR5cGUgeyBudW1iZXIgfVxyXG4gICAgICovXHJcbiAgICBnZXQgbGVmdCgpIHtcclxuICAgICAgICByZXR1cm4gLXRoaXMueCAvIHRoaXMuc2NhbGUueFxyXG4gICAgfVxyXG4gICAgc2V0IGxlZnQodmFsdWUpIHtcclxuICAgICAgICB0aGlzLnggPSAtdmFsdWUgKiB0aGlzLnNjYWxlLng7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB3b3JsZCBjb29yZGluYXRlcyBvZiB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHNjcmVlblxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgZ2V0IHRvcCgpIHtcclxuICAgICAgICByZXR1cm4gLXRoaXMueSAvIHRoaXMuc2NhbGUueVxyXG4gICAgfVxyXG4gICAgc2V0IHRvcCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMueSA9IC12YWx1ZSAqIHRoaXMuc2NhbGUueTtcclxuICAgICAgICB0aGlzLnBsdWdpbnMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHdvcmxkIGNvb3JkaW5hdGVzIG9mIHRoZSBib3R0b20gZWRnZSBvZiB0aGUgc2NyZWVuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBnZXQgYm90dG9tKCkge1xyXG4gICAgICAgIHJldHVybiAtdGhpcy55IC8gdGhpcy5zY2FsZS55ICsgdGhpcy53b3JsZFNjcmVlbkhlaWdodFxyXG4gICAgfVxyXG4gICAgc2V0IGJvdHRvbSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMueSA9IC12YWx1ZSAqIHRoaXMuc2NhbGUueSArIHRoaXMuc2NyZWVuSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5yZXNldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSB2aWV3cG9ydCBpcyBkaXJ0eSAoaS5lLiwgbmVlZHMgdG8gYmUgcmVuZGVyZXJlZCB0byB0aGUgc2NyZWVuIGJlY2F1c2Ugb2YgYSBjaGFuZ2UpXHJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cclxuICAgICAqL1xyXG4gICAgZ2V0IGRpcnR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXJ0eVxyXG4gICAgfVxyXG4gICAgc2V0IGRpcnR5KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fZGlydHkgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHBlcm1hbmVudGx5IGNoYW5nZXMgdGhlIFZpZXdwb3J0J3MgaGl0QXJlYVxyXG4gICAgICogTk9URTogaWYgbm90IHNldCB0aGVuIGhpdEFyZWEgPSBQSVhJLlJlY3RhbmdsZShWaWV3cG9ydC5sZWZ0LCBWaWV3cG9ydC50b3AsIFZpZXdwb3J0LndvcmxkU2NyZWVuV2lkdGgsIFZpZXdwb3J0LndvcmxkU2NyZWVuSGVpZ2h0KVxyXG4gICAgICogQHJldHVybnMge0hpdEFyZWF9XHJcbiAgICAgKi9cclxuICAgIGdldCBmb3JjZUhpdEFyZWEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvcmNlSGl0QXJlYVxyXG4gICAgfVxyXG4gICAgc2V0IGZvcmNlSGl0QXJlYSh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9mb3JjZUhpdEFyZWEgPSB2YWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5oaXRBcmVhID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9mb3JjZUhpdEFyZWEgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmhpdEFyZWEgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIHRoaXMud29ybGRXaWR0aCwgdGhpcy53b3JsZEhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZW5hYmxlIG9uZS1maW5nZXIgdG91Y2ggdG8gZHJhZ1xyXG4gICAgICogTk9URTogaWYgeW91IGV4cGVjdCB1c2VycyB0byB1c2UgcmlnaHQtY2xpY2sgZHJhZ2dpbmcsIHlvdSBzaG91bGQgZW5hYmxlIHZpZXdwb3J0Lm9wdGlvbnMuZGlzYWJsZU9uQ29udGV4dE1lbnUgdG8gYXZvaWQgdGhlIGNvbnRleHQgbWVudSBwb3BwaW5nIHVwIG9uIGVhY2ggcmlnaHQtY2xpY2sgZHJhZ1xyXG4gICAgICogQHBhcmFtIHtEcmFnT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAcmV0dXJucyB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgZHJhZyhvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmFkZCgnZHJhZycsIG5ldyBEcmFnKHRoaXMsIG9wdGlvbnMpKTtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2xhbXAgdG8gd29ybGQgYm91bmRhcmllcyBvciBvdGhlciBwcm92aWRlZCBib3VuZGFyaWVzXHJcbiAgICAgKiBOT1RFUzpcclxuICAgICAqICAgY2xhbXAgaXMgZGlzYWJsZWQgaWYgY2FsbGVkIHdpdGggbm8gb3B0aW9uczsgdXNlIHsgZGlyZWN0aW9uOiAnYWxsJyB9IGZvciBhbGwgZWRnZSBjbGFtcGluZ1xyXG4gICAgICogICBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0LCB3b3JsZFdpZHRoLCBhbmQgd29ybGRIZWlnaHQgbmVlZHMgdG8gYmUgc2V0IGZvciB0aGlzIHRvIHdvcmsgcHJvcGVybHlcclxuICAgICAqIEBwYXJhbSB7Q2xhbXBPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEByZXR1cm5zIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBjbGFtcChvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmFkZCgnY2xhbXAnLCBuZXcgQ2xhbXAodGhpcywgb3B0aW9ucykpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBkZWNlbGVyYXRlIGFmdGVyIGEgbW92ZVxyXG4gICAgICogTk9URTogdGhpcyBmaXJlcyAnbW92ZWQnIGV2ZW50IGR1cmluZyBkZWNlbGVyYXRpb25cclxuICAgICAqIEBwYXJhbSB7RGVjZWxlcmF0ZU9wdGlvbnN9IFtvcHRpb25zXVxyXG4gICAgICogQHJldHVybiB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgZGVjZWxlcmF0ZShvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmFkZCgnZGVjZWxlcmF0ZScsIG5ldyBEZWNlbGVyYXRlKHRoaXMsIG9wdGlvbnMpKTtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYm91bmNlIG9uIGJvcmRlcnNcclxuICAgICAqIE5PVEVTOlxyXG4gICAgICogICAgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCwgd29ybGRXaWR0aCwgYW5kIHdvcmxkSGVpZ2h0IG5lZWRzIHRvIGJlIHNldCBmb3IgdGhpcyB0byB3b3JrIHByb3Blcmx5XHJcbiAgICAgKiAgICBmaXJlcyAnbW92ZWQnLCAnYm91bmNlLXgtc3RhcnQnLCAnYm91bmNlLXktc3RhcnQnLCAnYm91bmNlLXgtZW5kJywgYW5kICdib3VuY2UteS1lbmQnIGV2ZW50c1xyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNpZGVzPWFsbF0gYWxsLCBob3Jpem9udGFsLCB2ZXJ0aWNhbCwgb3IgY29tYmluYXRpb24gb2YgdG9wLCBib3R0b20sIHJpZ2h0LCBsZWZ0IChlLmcuLCAndG9wLWJvdHRvbS1yaWdodCcpXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuZnJpY3Rpb249MC41XSBmcmljdGlvbiB0byBhcHBseSB0byBkZWNlbGVyYXRlIGlmIGFjdGl2ZVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbWU9MTUwXSB0aW1lIGluIG1zIHRvIGZpbmlzaCBib3VuY2VcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5ib3VuY2VCb3hdIHVzZSB0aGlzIGJvdW5jZUJveCBpbnN0ZWFkIG9mICgwLCAwLCB2aWV3cG9ydC53b3JsZFdpZHRoLCB2aWV3cG9ydC53b3JsZEhlaWdodClcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5ib3VuY2VCb3gueD0wXVxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJvdW5jZUJveC55PTBdXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYm91bmNlQm94LndpZHRoPXZpZXdwb3J0LndvcmxkV2lkdGhdXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYm91bmNlQm94LmhlaWdodD12aWV3cG9ydC53b3JsZEhlaWdodF1cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9ufSBbb3B0aW9ucy5lYXNlPWVhc2VJbk91dFNpbmVdIGVhc2UgZnVuY3Rpb24gb3IgbmFtZSAoc2VlIGh0dHA6Ly9lYXNpbmdzLm5ldC8gZm9yIHN1cHBvcnRlZCBuYW1lcylcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51bmRlcmZsb3c9Y2VudGVyXSAodG9wL2JvdHRvbS9jZW50ZXIgYW5kIGxlZnQvcmlnaHQvY2VudGVyLCBvciBjZW50ZXIpIHdoZXJlIHRvIHBsYWNlIHdvcmxkIGlmIHRvbyBzbWFsbCBmb3Igc2NyZWVuXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBib3VuY2Uob3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5hZGQoJ2JvdW5jZScsIG5ldyBCb3VuY2UodGhpcywgb3B0aW9ucykpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBlbmFibGUgcGluY2ggdG8gem9vbSBhbmQgdHdvLWZpbmdlciB0b3VjaCB0byBkcmFnXHJcbiAgICAgKiBAcGFyYW0ge1BpbmNoT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBwaW5jaChvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmFkZCgncGluY2gnLCBuZXcgUGluY2godGhpcywgb3B0aW9ucykpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzbmFwIHRvIGEgcG9pbnRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxyXG4gICAgICogQHBhcmFtIHtTbmFwT3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAcmV0dXJuIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBzbmFwKHgsIHksIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuYWRkKCdzbmFwJywgbmV3IFNuYXAodGhpcywgeCwgeSwgb3B0aW9ucykpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmb2xsb3cgYSB0YXJnZXRcclxuICAgICAqIE5PVEVTOlxyXG4gICAgICogICAgdXNlcyB0aGUgKHgsIHkpIGFzIHRoZSBjZW50ZXIgdG8gZm9sbG93OyBmb3IgUElYSS5TcHJpdGUgdG8gd29yayBwcm9wZXJseSwgdXNlIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSlcclxuICAgICAqICAgIG9wdGlvbnMuYWNjZWxlcmF0aW9uIGlzIG5vdCBwZXJmZWN0IGFzIGl0IGRvZXNuJ3Qga25vdyB0aGUgdmVsb2NpdHkgb2YgdGhlIHRhcmdldFxyXG4gICAgICogICAgaXQgYWRkcyBhY2NlbGVyYXRpb24gdG8gdGhlIHN0YXJ0IG9mIG1vdmVtZW50IGFuZCBkZWNlbGVyYXRpb24gdG8gdGhlIGVuZCBvZiBtb3ZlbWVudCB3aGVuIHRoZSB0YXJnZXQgaXMgc3RvcHBlZFxyXG4gICAgICogICAgZmlyZXMgJ21vdmVkJyBldmVudFxyXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCB0byBmb2xsb3dcclxuICAgICAqIEBwYXJhbSB7Rm9sbG93T3B0aW9uc30gW29wdGlvbnNdXHJcbiAgICAgKiBAcmV0dXJucyB7Vmlld3BvcnR9IHRoaXNcclxuICAgICAqL1xyXG4gICAgZm9sbG93KHRhcmdldCwgb3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMucGx1Z2lucy5hZGQoJ2ZvbGxvdycsIG5ldyBGb2xsb3codGhpcywgdGFyZ2V0LCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHpvb20gdXNpbmcgbW91c2Ugd2hlZWxcclxuICAgICAqIEBwYXJhbSB7V2hlZWxPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEByZXR1cm4ge1ZpZXdwb3J0fSB0aGlzXHJcbiAgICAgKi9cclxuICAgIHdoZWVsKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuYWRkKCd3aGVlbCcsIG5ldyBXaGVlbCh0aGlzLCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGFuaW1hdGUgdGhlIHBvc2l0aW9uIGFuZC9vciBzY2FsZSBvZiB0aGUgdmlld3BvcnRcclxuICAgICAqIEBwYXJhbSB7QW5pbWF0ZU9wdGlvbnN9IG9wdGlvbnNcclxuICAgICAqIEByZXR1cm5zIHtWaWV3cG9ydH0gdGhpc1xyXG4gICAgICovXHJcbiAgICBhbmltYXRlKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBsdWdpbnMuYWRkKCdhbmltYXRlJywgbmV3IEFuaW1hdGUodGhpcywgb3B0aW9ucykpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBlbmFibGUgY2xhbXBpbmcgb2Ygem9vbSB0byBjb25zdHJhaW50c1xyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGUgbWluV2lkdGgvSGVpZ2h0IHNldHRpbmdzIGFyZSBob3cgc21hbGwgdGhlIHdvcmxkIGNhbiBnZXQgKGFzIGl0IHdvdWxkIGFwcGVhciBvbiB0aGUgc2NyZWVuKVxyXG4gICAgICogYmVmb3JlIGNsYW1waW5nLiBUaGUgbWF4V2lkdGgvbWF4SGVpZ2h0IGlzIGhvdyBsYXJnZXIgdGhlIHdvcmxkIGNhbiBzY2FsZSAoYXMgaXQgd291bGQgYXBwZWFyIG9uXHJcbiAgICAgKiB0aGUgc2NyZWVuKSBiZWZvcmUgY2xhbXBpbmcuXHJcbiAgICAgKlxyXG4gICAgICogRm9yIGV4YW1wbGUsIGlmIHlvdSBoYXZlIGEgd29ybGQgc2l6ZSBvZiAxMDAwIHggMTAwMCBhbmQgYSBzY3JlZW4gc2l6ZSBvZiAxMDAgeCAxMDAsIGlmIHlvdSBzZXRcclxuICAgICAqIG1pbldpZHRoL0hlaWdodCA9IDEwMCB0aGVuIHRoZSB3b3JsZCB3aWxsIG5vdCBiZSBhYmxlIHRvIHpvb20gc21hbGxlciB0aGFuIHRoZSBzY3JlZW4gc2l6ZSAoaWUsXHJcbiAgICAgKiB6b29taW5nIG91dCBzbyBpdCBhcHBlYXJzIHNtYWxsZXIgdGhhbiB0aGUgc2NyZWVuKS4gU2ltaWxhcmx5LCBpZiB5b3Ugc2V0IG1heFdpZHRoL0hlaWdodCA9IDEwMFxyXG4gICAgICogdGhlIHdvcmxkIHdpbGwgbm90IGJlIGFibGUgdG8gem9vbSBsYXJnZXIgdGhhbiB0aGUgc2NyZWVuIHNpemUgKGllLCB6b29taW5nIGluIHNvIGl0IGFwcGVhcnNcclxuICAgICAqIGxhcmdlciB0aGFuIHRoZSBzY3JlZW4pLlxyXG4gICAgICogQHBhcmFtIHtDbGFtcFpvb21PcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqIEByZXR1cm4ge1ZpZXdwb3J0fSB0aGlzXHJcbiAgICAgKi9cclxuICAgIGNsYW1wWm9vbShvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmFkZCgnY2xhbXAtem9vbScsIG5ldyBDbGFtcFpvb20odGhpcywgb3B0aW9ucykpO1xyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTY3JvbGwgdmlld3BvcnQgd2hlbiBtb3VzZSBob3ZlcnMgbmVhciBvbmUgb2YgdGhlIGVkZ2VzIG9yIHJhZGl1cy1kaXN0YW5jZSBmcm9tIGNlbnRlciBvZiBzY3JlZW4uXHJcbiAgICAgKiBOT1RFOiBmaXJlcyAnbW92ZWQnIGV2ZW50XHJcbiAgICAgKiBAcGFyYW0ge01vdXNlRWRnZXNPcHRpb25zfSBbb3B0aW9uc11cclxuICAgICAqL1xyXG4gICAgbW91c2VFZGdlcyhvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wbHVnaW5zLmFkZCgnbW91c2UtZWRnZXMnLCBuZXcgTW91c2VFZGdlcyh0aGlzLCBvcHRpb25zKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHBhdXNlIHZpZXdwb3J0IChpbmNsdWRpbmcgYW5pbWF0aW9uIHVwZGF0ZXMgc3VjaCBhcyBkZWNlbGVyYXRlKVxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIGdldCBwYXVzZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGF1c2VcclxuICAgIH1cclxuICAgIHNldCBwYXVzZSh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3BhdXNlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5sYXN0Vmlld3BvcnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy56b29taW5nID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQucGF1c2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBtb3ZlIHRoZSB2aWV3cG9ydCBzbyB0aGUgYm91bmRpbmcgYm94IGlzIHZpc2libGVcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gbGVmdFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0b3BcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVzaXplVG9GaXRdIHJlc2l6ZSB0aGUgdmlld3BvcnQgc28gdGhlIGJveCBmaXRzIHdpdGhpbiB0aGUgdmlld3BvcnRcclxuICAgICAqL1xyXG4gICAgZW5zdXJlVmlzaWJsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByZXNpemVUb0ZpdCkge1xyXG4gICAgICAgIGlmIChyZXNpemVUb0ZpdCAmJiAod2lkdGggPiB0aGlzLndvcmxkU2NyZWVuV2lkdGggfHwgaGVpZ2h0ID4gdGhpcy53b3JsZFNjcmVlbkhlaWdodCkpIHtcclxuICAgICAgICAgICAgdGhpcy5maXQodHJ1ZSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnem9vbWVkJywgeyB2aWV3cG9ydDogdGhpcywgdHlwZTogJ2Vuc3VyZVZpc2libGUnIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAoeCA8IHRoaXMubGVmdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSB4O1xyXG4gICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHggKyB3aWR0aCA+IHRoaXMucmlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5yaWdodCA9IHggKyB3aWR0aDtcclxuICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeSA8IHRoaXMudG9wKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9wID0geTtcclxuICAgICAgICAgICAgbW92ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh5ICsgaGVpZ2h0ID4gdGhpcy5ib3R0b20pIHtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b20gPSB5ICsgaGVpZ2h0O1xyXG4gICAgICAgICAgICBtb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChtb3ZlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdmVkJywgeyB2aWV3cG9ydDogdGhpcywgdHlwZTogJ2Vuc3VyZVZpc2libGUnIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIGZpcmVzIGFmdGVyIGEgbW91c2Ugb3IgdG91Y2ggY2xpY2tcclxuICogQGV2ZW50IFZpZXdwb3J0I2NsaWNrZWRcclxuICogQHR5cGUge29iamVjdH1cclxuICogQHByb3BlcnR5IHtQSVhJLlBvaW50fSBzY3JlZW5cclxuICogQHByb3BlcnR5IHtQSVhJLlBvaW50fSB3b3JsZFxyXG4gKiBAcHJvcGVydHkge1ZpZXdwb3J0fSB2aWV3cG9ydFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgZHJhZyBzdGFydHNcclxuICogQGV2ZW50IFZpZXdwb3J0I2RyYWctc3RhcnRcclxuICogQHR5cGUge29iamVjdH1cclxuICogQHByb3BlcnR5IHtQSVhJLlBvaW50fSBzY3JlZW5cclxuICogQHByb3BlcnR5IHtQSVhJLlBvaW50fSB3b3JsZFxyXG4gKiBAcHJvcGVydHkge1ZpZXdwb3J0fSB2aWV3cG9ydFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgZHJhZyBlbmRzXHJcbiAqIEBldmVudCBWaWV3cG9ydCNkcmFnLWVuZFxyXG4gKiBAdHlwZSB7b2JqZWN0fVxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IHNjcmVlblxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IHdvcmxkXHJcbiAqIEBwcm9wZXJ0eSB7Vmlld3BvcnR9IHZpZXdwb3J0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gYSBwaW5jaCBzdGFydHNcclxuICogQGV2ZW50IFZpZXdwb3J0I3BpbmNoLXN0YXJ0XHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIHBpbmNoIGVuZFxyXG4gKiBAZXZlbnQgVmlld3BvcnQjcGluY2gtZW5kXHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIHNuYXAgc3RhcnRzXHJcbiAqIEBldmVudCBWaWV3cG9ydCNzbmFwLXN0YXJ0XHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIHNuYXAgZW5kc1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjc25hcC1lbmRcclxuICogQHR5cGUge1ZpZXdwb3J0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgc25hcC16b29tIHN0YXJ0c1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjc25hcC16b29tLXN0YXJ0XHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIHNuYXAtem9vbSBlbmRzXHJcbiAqIEBldmVudCBWaWV3cG9ydCNzbmFwLXpvb20tZW5kXHJcbiAqIEB0eXBlIHtWaWV3cG9ydH1cclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIGJvdW5jZSBzdGFydHMgaW4gdGhlIHggZGlyZWN0aW9uXHJcbiAqIEBldmVudCBWaWV3cG9ydCNib3VuY2UteC1zdGFydFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gYSBib3VuY2UgZW5kcyBpbiB0aGUgeCBkaXJlY3Rpb25cclxuICogQGV2ZW50IFZpZXdwb3J0I2JvdW5jZS14LWVuZFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gYSBib3VuY2Ugc3RhcnRzIGluIHRoZSB5IGRpcmVjdGlvblxyXG4gKiBAZXZlbnQgVmlld3BvcnQjYm91bmNlLXktc3RhcnRcclxuICogQHR5cGUge1ZpZXdwb3J0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGEgYm91bmNlIGVuZHMgaW4gdGhlIHkgZGlyZWN0aW9uXHJcbiAqIEBldmVudCBWaWV3cG9ydCNib3VuY2UteS1lbmRcclxuICogQHR5cGUge1ZpZXdwb3J0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIGZvciBhIG1vdXNlIHdoZWVsIGV2ZW50XHJcbiAqIEBldmVudCBWaWV3cG9ydCN3aGVlbFxyXG4gKiBAdHlwZSB7b2JqZWN0fVxyXG4gKiBAcHJvcGVydHkge29iamVjdH0gd2hlZWxcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdoZWVsLmR4XHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aGVlbC5keVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2hlZWwuZHpcclxuICogQHByb3BlcnR5IHtWaWV3cG9ydH0gdmlld3BvcnRcclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiBhIHdoZWVsLXNjcm9sbCBvY2N1cnNcclxuICogQGV2ZW50IFZpZXdwb3J0I3doZWVsLXNjcm9sbFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gYSBtb3VzZS1lZGdlIHN0YXJ0cyB0byBzY3JvbGxcclxuICogQGV2ZW50IFZpZXdwb3J0I21vdXNlLWVkZ2Utc3RhcnRcclxuICogQHR5cGUge1ZpZXdwb3J0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBmaXJlcyB3aGVuIHRoZSBtb3VzZS1lZGdlIHNjcm9sbGluZyBlbmRzXHJcbiAqIEBldmVudCBWaWV3cG9ydCNtb3VzZS1lZGdlLWVuZFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gdmlld3BvcnQgbW92ZXMgdGhyb3VnaCBVSSBpbnRlcmFjdGlvbiwgZGVjZWxlcmF0aW9uLCBlbnN1cmVWaXNpYmxlLCBvciBmb2xsb3dcclxuICogQGV2ZW50IFZpZXdwb3J0I21vdmVkXHJcbiAqIEB0eXBlIHtvYmplY3R9XHJcbiAqIEBwcm9wZXJ0eSB7Vmlld3BvcnR9IHZpZXdwb3J0XHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIChkcmFnLCBzbmFwLCBwaW5jaCwgZm9sbG93LCBib3VuY2UteCwgYm91bmNlLXksIGNsYW1wLXgsIGNsYW1wLXksIGRlY2VsZXJhdGUsIG1vdXNlLWVkZ2VzLCB3aGVlbCwgZW5zdXJlVmlzaWJsZSlcclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiB2aWV3cG9ydCBtb3ZlcyB0aHJvdWdoIFVJIGludGVyYWN0aW9uLCBkZWNlbGVyYXRpb24sIGVuc3VyZVZpc2libGUsIG9yIGZvbGxvd1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjem9vbWVkXHJcbiAqIEB0eXBlIHtvYmplY3R9XHJcbiAqIEBwcm9wZXJ0eSB7Vmlld3BvcnR9IHZpZXdwb3J0XHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIChkcmFnLXpvb20sIHBpbmNoLCB3aGVlbCwgY2xhbXAtem9vbSwgZW5zdXJlVmlzaWJsZSlcclxuICovXHJcblxyXG4vKipcclxuICogZmlyZXMgd2hlbiB2aWV3cG9ydCBzdG9wcyBtb3ZpbmdcclxuICogQGV2ZW50IFZpZXdwb3J0I21vdmVkLWVuZFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIGZpcmVzIHdoZW4gdmlld3BvcnQgc3RvcHMgem9vbWluZ1xyXG4gKiBAZXZlbnQgVmlld3BvcnQjem9vbWVkLWVuZFxyXG4gKiBAdHlwZSB7Vmlld3BvcnR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiogZmlyZXMgYXQgdGhlIGVuZCBvZiBhbiB1cGRhdGUgZnJhbWVcclxuKiBAZXZlbnQgVmlld3BvcnQjZnJhbWUtZW5kXHJcbiogQHR5cGUge1ZpZXdwb3J0fVxyXG4qL1xyXG5cclxuLyoqIEB0eXBlZGVmIEhpdEFyZWEgeyhQSVhJLlJlY3RhbmdsZSB8IFBJWEkuQ2lyY2xlIHwgUElYSS5FbGxpcHNlIHwgUElYSS5Qb2x5Z29uIHwgUElYSS5Sb3VuZGVkUmVjdGFuZ2xlKX0gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPdXRPZkJvdW5kc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGxlZnRcclxuICogQHByb3BlcnR5IHtib29sZWFufSByaWdodFxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHRvcFxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGJvdHRvbVxyXG4gKiBAcHJvcGVydHkge1BJWEkuUG9pbnR9IGNvcm5lclBvaW50XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExhc3RWaWV3cG9ydFxyXG4gKiBAcHJpdmF0ZVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0geFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0geVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2NhbGVYXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzY2FsZVlcclxuICovXG5cbmV4cG9ydCB7IFBsdWdpbiwgVmlld3BvcnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXdwb3J0LmVzLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==