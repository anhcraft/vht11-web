(self.webpackChunkvht11=self.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\@pixi\\mesh-extras\\lib\\mesh-extras.es"],{"./node_modules/@pixi/mesh-extras/lib/mesh-extras.es.js":(t,e,i)=>{"use strict";i.r(e),i.d(e,{NineSlicePlane:()=>g,PlaneGeometry:()=>a,RopeGeometry:()=>u,SimpleMesh:()=>p,SimplePlane:()=>f,SimpleRope:()=>d});var r=i("./node_modules/@pixi/mesh/lib/mesh.es.js"),h=i("./node_modules/@pixi/constants/lib/constants.es.js"),s=i("./node_modules/@pixi/core/lib/core.es.js"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function n(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var a=function(t){function e(e,i,r,h){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===h&&(h=10);var s=t.call(this)||this;return s.segWidth=r,s.segHeight=h,s.width=e,s.height=i,s.build(),s}return n(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],h=this.segWidth-1,s=this.segHeight-1,o=this.width/h,n=this.height/s,a=0;a<t;a++){var u=a%this.segWidth,d=a/this.segWidth|0;e.push(u*o,d*n),i.push(u/h,d/s)}var f=h*s;for(a=0;a<f;a++){var p=a%h,g=a/h|0,c=g*this.segWidth+p,l=g*this.segWidth+p+1,_=(g+1)*this.segWidth+p,y=(g+1)*this.segWidth+p+1;r.push(c,l,_,l,y,_)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(r.MeshGeometry),u=function(t){function e(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var h=t.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return h.points=i,h._width=e,h.textureScale=r,h.build(),h}return n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var h=i.data,s=r.data;h[0]=0,h[1]=0,h[2]=0,h[3]=1;for(var o=0,n=t[0],a=this._width*this.textureScale,u=t.length,d=0;d<u;d++){var f=4*d;if(this.textureScale>0){var p=n.x-t[d].x,g=n.y-t[d].y,c=Math.sqrt(p*p+g*g);n=t[d],o+=c/a}else o=d/(u-1);h[f]=o,h[f+1]=0,h[f+2]=o,h[f+3]=1}var l=0;for(d=0;d<u-1;d++){f=2*d;s[l++]=f,s[l++]=f+1,s[l++]=f+2,s[l++]=f+2,s[l++]=f+1,s[l++]=f+3}i.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,h=0,s=this.buffers[0].data,o=t.length,n=0;n<o;n++){var a=t[n],u=4*n;h=-((e=n<t.length-1?t[n+1]:a).x-i.x),r=e.y-i.y;var d=Math.sqrt(r*r+h*h),f=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=d,h/=d,r*=f,h*=f,s[u]=a.x+r,s[u+1]=a.y+h,s[u+2]=a.x-r,s[u+3]=a.y-h,i=a}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(r.MeshGeometry),d=function(t){function e(e,i,s){void 0===s&&(s=0);var o=this,n=new u(e.height,i,s),a=new r.MeshMaterial(e);return s>0&&(e.baseTexture.wrapMode=h.WRAP_MODES.REPEAT),(o=t.call(this,n,a)||this).autoUpdate=!0,o}return n(e,t),e.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),t.prototype._render.call(this,e)},e}(r.Mesh),f=function(t){function e(e,i,h){var o=this,n=new a(e.width,e.height,i,h),u=new r.MeshMaterial(s.Texture.WHITE);return(o=t.call(this,n,u)||this).texture=e,o}return n(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(r.Mesh),p=function(t){function e(e,i,h,o,n){void 0===e&&(e=s.Texture.EMPTY);var a=this,u=new r.MeshGeometry(i,h,o);u.getBuffer("aVertexPosition").static=!1;var d=new r.MeshMaterial(e);return(a=t.call(this,u,d,null,n)||this).autoUpdate=!0,a}return n(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(r.Mesh),g=function(t){function e(e,i,r,h,o){void 0===i&&(i=10),void 0===r&&(r=10),void 0===h&&(h=10),void 0===o&&(o=10);var n=t.call(this,s.Texture.WHITE,4,4)||this;return n._origWidth=e.orig.width,n._origHeight=e.orig.height,n._width=n._origWidth,n._height=n._origHeight,n._leftWidth=i,n._rightWidth=h,n._topHeight=r,n._bottomHeight=o,n.texture=e,n}return n(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,i=this._topHeight+this._bottomHeight,r=this._height>i?1:this._height/i;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(f)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoLWV4dHJhcy9saWIvbWVzaC1leHRyYXMuZXMuanMiXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fZXh0ZW5kcyIsIl9fIiwidGhpcyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiUGxhbmVHZW9tZXRyeSIsIl9zdXBlciIsIndpZHRoIiwiaGVpZ2h0Iiwic2VnV2lkdGgiLCJzZWdIZWlnaHQiLCJfdGhpcyIsImNhbGwiLCJidWlsZCIsInRvdGFsIiwidmVydHMiLCJ1dnMiLCJpbmRpY2VzIiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsImkiLCJ4IiwieSIsInB1c2giLCJ0b3RhbFN1YiIsInhwb3MiLCJ5cG9zIiwidmFsdWUiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJidWZmZXJzIiwiZGF0YSIsIkZsb2F0MzJBcnJheSIsImluZGV4QnVmZmVyIiwiVWludDE2QXJyYXkiLCJ1cGRhdGUiLCJNZXNoR2VvbWV0cnkiLCJSb3BlR2VvbWV0cnkiLCJwb2ludHMiLCJ0ZXh0dXJlU2NhbGUiLCJsZW5ndGgiLCJfd2lkdGgiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ2ZXJ0ZXhCdWZmZXIiLCJnZXRCdWZmZXIiLCJ1dkJ1ZmZlciIsImdldEluZGV4IiwiYW1vdW50IiwicHJldiIsInRleHR1cmVXaWR0aCIsImluZGV4IiwiZHgiLCJkeSIsImRpc3RhbmNlIiwiTWF0aCIsInNxcnQiLCJpbmRleENvdW50IiwidXBkYXRlVmVydGljZXMiLCJuZXh0UG9pbnQiLCJsYXN0UG9pbnQiLCJwZXJwWCIsInBlcnBZIiwidmVydGljZXMiLCJwb2ludCIsInBlcnBMZW5ndGgiLCJudW0iLCJTaW1wbGVSb3BlIiwidGV4dHVyZSIsInJvcGVHZW9tZXRyeSIsIm1lc2hNYXRlcmlhbCIsIk1lc2hNYXRlcmlhbCIsImJhc2VUZXh0dXJlIiwid3JhcE1vZGUiLCJXUkFQX01PREVTIiwiYXV0b1VwZGF0ZSIsIl9yZW5kZXIiLCJyZW5kZXJlciIsImdlb21ldHJ5Iiwic2hhZGVyIiwiTWVzaCIsIlNpbXBsZVBsYW5lIiwidmVydGljZXNYIiwidmVydGljZXNZIiwicGxhbmVHZW9tZXRyeSIsIlRleHR1cmUiLCJ0ZXh0dXJlVXBkYXRlZCIsIl90ZXh0dXJlSUQiLCJfdXBkYXRlSUQiLCJzZXQiLCJ2YWxpZCIsIm9uY2UiLCJkZXN0cm95Iiwib3B0aW9ucyIsIm9mZiIsIlNpbXBsZU1lc2giLCJkcmF3TW9kZSIsInN0YXRpYyIsIk5pbmVTbGljZVBsYW5lIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJvcmlnIiwiX29yaWdIZWlnaHQiLCJfaGVpZ2h0IiwiX2xlZnRXaWR0aCIsIl9yaWdodFdpZHRoIiwiX3RvcEhlaWdodCIsIl9ib3R0b21IZWlnaHQiLCJfcmVmcmVzaCIsInVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcyIsInNjYWxlIiwiX2dldE1pblNjYWxlIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsInciLCJzY2FsZVciLCJoIiwic2NhbGVIIiwibWluIiwiX3V2dyIsIl91dmgiXSwibWFwcGluZ3MiOiIwZ0JBMkJJQSxFQUFnQixTQUFTQyxFQUFHQyxHQUk1QixPQUhBRixFQUFnQkcsT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQVNBLEVBQUVNLGVBQWVELEtBQU1OLEVBQUVNLEdBQUtMLEVBQUVLLE1BQ3hETixFQUFHQyxJQUc1QixT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LElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQ3hDQSxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU04RyxFQUFPN0gsS0FBSytHLFdBQ25EaEcsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQUs4RyxFQUFPN0gsS0FBS2dILFlBQ3hEakcsRUFBSSxHQUFLQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNK0csRUFBTzlILEtBQUtpSCxXQUNuRGxHLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUFLK0csRUFBTzlILEtBQUtrSCxjQUN6RGxILEtBQUtvSCwyQkFDTHBILEtBQUt1SCx5QkFDTHZILEtBQUtrRixTQUFTbEQsUUFBUSxHQUFHSyxTQUN6QnJDLEtBQUtrRixTQUFTbEQsUUFBUSxHQUFHSyxVQUV0QmlFLEVBeE93QixDQXlPakNqQiIsImZpbGUiOiIwOWJmYTdlZDIyODg3ZTc1YmI1MS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQHBpeGkvbWVzaC1leHRyYXMgLSB2NS4zLjdcbiAqIENvbXBpbGVkIFR1ZSwgMjkgRGVjIDIwMjAgMTk6MzA6MTEgVVRDXG4gKlxuICogQHBpeGkvbWVzaC1leHRyYXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBNZXNoR2VvbWV0cnksIE1lc2hNYXRlcmlhbCwgTWVzaCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IHsgV1JBUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG52YXIgUGxhbmVHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGxhbmVHZW9tZXRyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQbGFuZUdlb21ldHJ5KHdpZHRoLCBoZWlnaHQsIHNlZ1dpZHRoLCBzZWdIZWlnaHQpIHtcbiAgICAgICAgaWYgKHdpZHRoID09PSB2b2lkIDApIHsgd2lkdGggPSAxMDA7IH1cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdm9pZCAwKSB7IGhlaWdodCA9IDEwMDsgfVxuICAgICAgICBpZiAoc2VnV2lkdGggPT09IHZvaWQgMCkgeyBzZWdXaWR0aCA9IDEwOyB9XG4gICAgICAgIGlmIChzZWdIZWlnaHQgPT09IHZvaWQgMCkgeyBzZWdIZWlnaHQgPSAxMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZWdXaWR0aCA9IHNlZ1dpZHRoO1xuICAgICAgICBfdGhpcy5zZWdIZWlnaHQgPSBzZWdIZWlnaHQ7XG4gICAgICAgIF90aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIF90aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgX3RoaXMuYnVpbGQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgcGxhbmUgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBsYW5lR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnNlZ1dpZHRoICogdGhpcy5zZWdIZWlnaHQ7XG4gICAgICAgIHZhciB2ZXJ0cyA9IFtdO1xuICAgICAgICB2YXIgdXZzID0gW107XG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XG4gICAgICAgIHZhciBzZWdtZW50c1ggPSB0aGlzLnNlZ1dpZHRoIC0gMTtcbiAgICAgICAgdmFyIHNlZ21lbnRzWSA9IHRoaXMuc2VnSGVpZ2h0IC0gMTtcbiAgICAgICAgdmFyIHNpemVYID0gKHRoaXMud2lkdGgpIC8gc2VnbWVudHNYO1xuICAgICAgICB2YXIgc2l6ZVkgPSAodGhpcy5oZWlnaHQpIC8gc2VnbWVudHNZO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gKGkgJSB0aGlzLnNlZ1dpZHRoKTtcbiAgICAgICAgICAgIHZhciB5ID0gKChpIC8gdGhpcy5zZWdXaWR0aCkgfCAwKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCAqIHNpemVYLCB5ICogc2l6ZVkpO1xuICAgICAgICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvdGFsU3ViID0gc2VnbWVudHNYICogc2VnbWVudHNZO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU3ViOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4cG9zID0gaSAlIHNlZ21lbnRzWDtcbiAgICAgICAgICAgIHZhciB5cG9zID0gKGkgLyBzZWdtZW50c1gpIHwgMDtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTMgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTQgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUsIHZhbHVlMiwgdmFsdWUzLCB2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydHMpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodXZzKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIudXBkYXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGxhbmVHZW9tZXRyeTtcbn0oTWVzaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogUm9wZUdlb21ldHJ5IGFsbG93cyB5b3UgdG8gZHJhdyBhIGdlb21ldHJ5IGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50cy5cbiAqXG4gKiBgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogY29uc3Qgcm9wZSA9IG5ldyBQSVhJLlJvcGVHZW9tZXRyeSgxMDAsIHBvaW50cyk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaEdlb21ldHJ5XG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFJvcGVHZW9tZXRyeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUm9wZUdlb21ldHJ5LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MjAwXSAtIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnRbXX0gW3BvaW50c10gLSBBbiBhcnJheSBvZiB7QGxpbmsgUElYSS5Qb2ludH0gb2JqZWN0cyB0byBjb25zdHJ1Y3QgdGhpcyByb3BlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGV4dHVyZVNjYWxlPTBdIC0gQnkgZGVmYXVsdCB0aGUgcm9wZSB0ZXh0dXJlIHdpbGwgYmUgc3RyZXRjaGVkIHRvIG1hdGNoXG4gICAgICogICAgIHJvcGUgbGVuZ3RoLiBJZiB0ZXh0dXJlU2NhbGUgaXMgcG9zaXRpdmUgdGhpcyB2YWx1ZSB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBzY2FsaW5nXG4gICAgICogICAgIGZhY3RvciBhbmQgdGhlIHRleHR1cmUgd2lsbCBwcmVzZXJ2ZSBpdHMgYXNwZWN0IHJhdGlvIGluc3RlYWQuIFRvIGNyZWF0ZSBhIHRpbGluZyByb3BlXG4gICAgICogICAgIHNldCBiYXNlVGV4dHVyZS53cmFwTW9kZSB0byB7QGxpbmsgUElYSS5XUkFQX01PREVTLlJFUEVBVH0gYW5kIHVzZSBhIHBvd2VyIG9mIHR3byB0ZXh0dXJlLFxuICAgICAqICAgICB0aGVuIHNldCB0ZXh0dXJlU2NhbGU9MSB0byBrZWVwIHRoZSBvcmlnaW5hbCB0ZXh0dXJlIHBpeGVsIHNpemUuXG4gICAgICogICAgIEluIG9yZGVyIHRvIHJlZHVjZSBhbHBoYSBjaGFubmVsIGFydGlmYWN0cyBwcm92aWRlIGEgbGFyZ2VyIHRleHR1cmUgYW5kIGRvd25zYW1wbGUgLVxuICAgICAqICAgICBpLmUuIHNldCB0ZXh0dXJlU2NhbGU9MC41IHRvIHNjYWxlIGl0IGRvd24gdHdpY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUm9wZUdlb21ldHJ5KHdpZHRoLCBwb2ludHMsIHRleHR1cmVTY2FsZSkge1xuICAgICAgICBpZiAod2lkdGggPT09IHZvaWQgMCkgeyB3aWR0aCA9IDIwMDsgfVxuICAgICAgICBpZiAodGV4dHVyZVNjYWxlID09PSB2b2lkIDApIHsgdGV4dHVyZVNjYWxlID0gMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KSwgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksIG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNikpIHx8IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdGhhdCBkZXRlcm1pbmUgdGhlIHJvcGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIChpLmUuLCB0aGlja25lc3MpIG9mIHRoZSByb3BlLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSb3BlIHRleHR1cmUgc2NhbGUsIGlmIHplcm8gdGhlbiB0aGUgcm9wZSB0ZXh0dXJlIGlzIHN0cmV0Y2hlZC5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLnRleHR1cmVTY2FsZSA9IHRleHR1cmVTY2FsZTtcbiAgICAgICAgX3RoaXMuYnVpbGQoKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUm9wZUdlb21ldHJ5LnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBSb3BlIGluZGljZXMgYW5kIHV2c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBpZiAoIXBvaW50cylcbiAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgIHZhciB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgIHZhciB1dkJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCdhVGV4dHVyZUNvb3JkJyk7XG4gICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IHRoaXMuZ2V0SW5kZXgoKTtcbiAgICAgICAgLy8gaWYgdG9vIGxpdHRsZSBwb2ludHMsIG9yIHRleHR1cmUgaGFzbid0IGdvdCBVVnMgc2V0IHlldCBqdXN0IG1vdmUgb24uXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcG9pbnRzIGhhcyBjaGFuZ2VkIHdlIHdpbGwgbmVlZCB0byByZWNyZWF0ZSB0aGUgYXJyYXlidWZmZXJzXG4gICAgICAgIGlmICh2ZXJ0ZXhCdWZmZXIuZGF0YS5sZW5ndGggLyA0ICE9PSBwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgdXZCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHV2cyA9IHV2QnVmZmVyLmRhdGE7XG4gICAgICAgIHZhciBpbmRpY2VzID0gaW5kZXhCdWZmZXIuZGF0YTtcbiAgICAgICAgdXZzWzBdID0gMDtcbiAgICAgICAgdXZzWzFdID0gMDtcbiAgICAgICAgdXZzWzJdID0gMDtcbiAgICAgICAgdXZzWzNdID0gMTtcbiAgICAgICAgdmFyIGFtb3VudCA9IDA7XG4gICAgICAgIHZhciBwcmV2ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgdGV4dHVyZVdpZHRoID0gdGhpcy5fd2lkdGggKiB0aGlzLnRleHR1cmVTY2FsZTtcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDsgLy8gLSAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICAgIC8vIHRpbWUgdG8gZG8gc29tZSBzbWFydCBkcmF3aW5nIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0dXJlU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHBpeGVsIGRpc3RhbmNlIGZyb20gcHJldmlvdXMgcG9pbnRcbiAgICAgICAgICAgICAgICB2YXIgZHggPSBwcmV2LnggLSBwb2ludHNbaV0ueDtcbiAgICAgICAgICAgICAgICB2YXIgZHkgPSBwcmV2LnkgLSBwb2ludHNbaV0ueTtcbiAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcbiAgICAgICAgICAgICAgICBwcmV2ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgICAgIGFtb3VudCArPSBkaXN0YW5jZSAvIHRleHR1cmVXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHN0cmV0Y2ggdGV4dHVyZVxuICAgICAgICAgICAgICAgIGFtb3VudCA9IGkgLyAodG90YWwgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHV2c1tpbmRleF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAxXSA9IDA7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXhDb3VudCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWwgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXg7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDE7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDI7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDI7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDE7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCArIDM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHV2QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVWZXJ0aWNlcygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlVmVydGljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIG5leHRQb2ludDtcbiAgICAgICAgdmFyIHBlcnBYID0gMDtcbiAgICAgICAgdmFyIHBlcnBZID0gMDtcbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5idWZmZXJzWzBdLmRhdGE7XG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVycFkgPSAtKG5leHRQb2ludC54IC0gbGFzdFBvaW50LngpO1xuICAgICAgICAgICAgcGVycFggPSBuZXh0UG9pbnQueSAtIGxhc3RQb2ludC55O1xuICAgICAgICAgICAgdmFyIHBlcnBMZW5ndGggPSBNYXRoLnNxcnQoKHBlcnBYICogcGVycFgpICsgKHBlcnBZICogcGVycFkpKTtcbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLnRleHR1cmVTY2FsZSA+IDAgPyB0aGlzLnRleHR1cmVTY2FsZSAqIHRoaXMuX3dpZHRoIC8gMiA6IHRoaXMuX3dpZHRoIC8gMjtcbiAgICAgICAgICAgIHBlcnBYIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWSAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgICAgICAgcGVycFkgKj0gbnVtO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXhdID0gcG9pbnQueCArIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAxXSA9IHBvaW50LnkgKyBwZXJwWTtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMl0gPSBwb2ludC54IC0gcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDNdID0gcG9pbnQueSAtIHBlcnBZO1xuICAgICAgICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgIH07XG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRleHR1cmVTY2FsZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoKTsgLy8gd2UgbmVlZCB0byB1cGRhdGUgVVZzXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBSb3BlR2VvbWV0cnk7XG59KE1lc2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFRoZSByb3BlIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IHJvcGUgPSBuZXcgUElYSS5TaW1wbGVSb3BlKFBJWEkuVGV4dHVyZS5mcm9tKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFNpbXBsZVJvcGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZVJvcGUsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IHBvaW50cyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0ZXh0dXJlU2NhbGU9MF0gLSBPcHRpb25hbC4gUG9zaXRpdmUgdmFsdWVzIHNjYWxlIHJvcGUgdGV4dHVyZVxuICAgICAqIGtlZXBpbmcgaXRzIGFzcGVjdCByYXRpby4gWW91IGNhbiByZWR1Y2UgYWxwaGEgY2hhbm5lbCBhcnRpZmFjdHMgYnkgcHJvdmlkaW5nIGEgbGFyZ2VyIHRleHR1cmVcbiAgICAgKiBhbmQgZG93bnNhbXBsaW5nIGhlcmUuIElmIHNldCB0byB6ZXJvLCB0ZXh0dXJlIHdpbGwgYmUgc3RyZWNoZWQgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVSb3BlKHRleHR1cmUsIHBvaW50cywgdGV4dHVyZVNjYWxlKSB7XG4gICAgICAgIGlmICh0ZXh0dXJlU2NhbGUgPT09IHZvaWQgMCkgeyB0ZXh0dXJlU2NhbGUgPSAwOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByb3BlR2VvbWV0cnkgPSBuZXcgUm9wZUdlb21ldHJ5KHRleHR1cmUuaGVpZ2h0LCBwb2ludHMsIHRleHR1cmVTY2FsZSk7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKHRleHR1cmUpO1xuICAgICAgICBpZiAodGV4dHVyZVNjYWxlID4gMCkge1xuICAgICAgICAgICAgLy8gYXR0ZW1wdCB0byBzZXQgVVYgd3JhcHBpbmcsIHdpbGwgZmFpbCBvbiBub24tcG93ZXIgb2YgdHdvIHRleHR1cmVzXG4gICAgICAgICAgICB0ZXh0dXJlLmJhc2VUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCByb3BlR2VvbWV0cnksIG1lc2hNYXRlcmlhbCkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlLWNhbGN1bGF0ZSB2ZXJ0aWNlcyBieSByb3BlIHBvaW50cyBlYWNoIGZyYW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTaW1wbGVSb3BlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlcmVyKSB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUgfHwgZ2VvbWV0cnkuX3dpZHRoICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodCkge1xuICAgICAgICAgICAgZ2VvbWV0cnkuX3dpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICBnZW9tZXRyeS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlUm9wZTtcbn0oTWVzaCkpO1xuXG4vKipcbiAqIFRoZSBTaW1wbGVQbGFuZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCBTaW1wbGVQbGFuZSA9IG5ldyBQSVhJLlNpbXBsZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFNpbXBsZVBsYW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTaW1wbGVQbGFuZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgU2ltcGxlUGxhbmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWCAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHgtYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2ZXJ0aWNlc1kgLSBUaGUgbnVtYmVyIG9mIHZlcnRpY2VzIGluIHRoZSB5LWF4aXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVQbGFuZSh0ZXh0dXJlLCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcGxhbmVHZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSk7XG4gICAgICAgIHZhciBtZXNoTWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuV0hJVEUpO1xuICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBsYW5lR2VvbWV0cnksIG1lc2hNYXRlcmlhbCkgfHwgdGhpcztcbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIF90aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB1c2VkIGZvciBvdmVycmlkZXMsIHRvIGRvIHNvbWV0aGluZyBpbiBjYXNlIHRleHR1cmUgZnJhbWUgd2FzIGNoYW5nZWQuXG4gICAgICogTWVzaGVzIGJhc2VkIG9uIHBsYW5lIGNhbiBvdmVycmlkZSBpdCBhbmQgY2hhbmdlIG1vcmUgZGV0YWlscyBiYXNlZCBvbiB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFNpbXBsZVBsYW5lLnByb3RvdHlwZS50ZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIGdlb21ldHJ5LndpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS53aWR0aDtcbiAgICAgICAgZ2VvbWV0cnkuaGVpZ2h0ID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgIGdlb21ldHJ5LmJ1aWxkKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2ltcGxlUGxhbmUucHJvdG90eXBlLCBcInRleHR1cmVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgLy8gVHJhY2sgdGV4dHVyZSBzYW1lIHdheSBzcHJpdGUgZG9lcy5cbiAgICAgICAgICAgIC8vIEZvciBnZW5lcmF0ZWQgbWVzaGVzIGxpa2UgTmluZVNsaWNlUGxhbmUgaXQgY2FuIGNoYW5nZSB0aGUgZ2VvbWV0cnkuXG4gICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGlzIG1ldGhvZCBtaWdodCBub3Qgd29yayBpZiB5b3UgZGlyZWN0bHkgY2hhbmdlIHRleHR1cmUgaW4gbWF0ZXJpYWwuXG4gICAgICAgICAgICBpZiAodGhpcy5zaGFkZXIudGV4dHVyZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMudGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLnRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlUGxhbmU7XG59KE1lc2gpKTtcblxuLyoqXG4gKiBUaGUgU2ltcGxlIE1lc2ggY2xhc3MgbWltaWNzIE1lc2ggaW4gUGl4aUpTIHY0LCBwcm92aWRpbmcgZWFzeS10by11c2UgY29uc3RydWN0b3IgYXJndW1lbnRzLlxuICogRm9yIG1vcmUgcm9idXN0IGN1c3RvbWl6YXRpb24sIHVzZSB7QGxpbmsgUElYSS5NZXNofS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNpbXBsZU1lc2ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZU1lc2gsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlPVRleHR1cmUuRU1QVFldIC0gVGhlIHRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt2ZXJ0aWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdXZzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHV2c1xuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IFtpbmRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGluZGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgTWVzaC5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNpbXBsZU1lc2godGV4dHVyZSwgdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpIHtcbiAgICAgICAgaWYgKHRleHR1cmUgPT09IHZvaWQgMCkgeyB0ZXh0dXJlID0gVGV4dHVyZS5FTVBUWTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgTWVzaEdlb21ldHJ5KHZlcnRpY2VzLCB1dnMsIGluZGljZXMpO1xuICAgICAgICBnZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnN0YXRpYyA9IGZhbHNlO1xuICAgICAgICB2YXIgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBnZW9tZXRyeSwgbWVzaE1hdGVyaWFsLCBudWxsLCBkcmF3TW9kZSkgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVwbG9hZCB2ZXJ0aWNlcyBidWZmZXIgZWFjaCBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNpbXBsZU1lc2gucHJvdG90eXBlLCBcInZlcnRpY2VzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgdmVydGljZXMgZGF0YS5cbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU2ltcGxlTWVzaC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZU1lc2g7XG59KE1lc2gpKTtcblxudmFyIERFRkFVTFRfQk9SREVSX1NJWkUgPSAxMDtcbi8qKlxuICogVGhlIE5pbmVTbGljZVBsYW5lIGFsbG93cyB5b3UgdG8gc3RyZXRjaCBhIHRleHR1cmUgdXNpbmcgOS1zbGljZSBzY2FsaW5nLiBUaGUgY29ybmVycyB3aWxsIHJlbWFpbiB1bnNjYWxlZCAodXNlZnVsXG4gKiBmb3IgYnV0dG9ucyB3aXRoIHJvdW5kZWQgY29ybmVycyBmb3IgZXhhbXBsZSkgYW5kIHRoZSBvdGhlciBhcmVhcyB3aWxsIGJlIHNjYWxlZCBob3Jpem9udGFsbHkgYW5kIG9yIHZlcnRpY2FsbHlcbiAqXG4gKmBgYGpzXG4gKiBsZXQgUGxhbmU5ID0gbmV3IFBJWEkuTmluZVNsaWNlUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oJ0JveFdpdGhSb3VuZGVkQ29ybmVycy5wbmcnKSwgMTUsIDE1LCAxNSwgMTUpO1xuICogIGBgYFxuICogPHByZT5cbiAqICAgICAgQSAgICAgICAgICAgICAgICAgICAgICAgICAgQlxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBDIHwgMSB8ICAgICAgICAgIDIgICAgICAgICAgIHwgMyB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgIHwgNCB8ICAgICAgICAgIDUgICAgICAgICAgIHwgNiB8XG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICBEIHwgNyB8ICAgICAgICAgIDggICAgICAgICAgIHwgOSB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuXG4gKiAgV2hlbiBjaGFuZ2luZyB0aGlzIG9iamVjdHMgd2lkdGggYW5kL29yIGhlaWdodDpcbiAqICAgICBhcmVhcyAxIDMgNyBhbmQgOSB3aWxsIHJlbWFpbiB1bnNjYWxlZC5cbiAqICAgICBhcmVhcyAyIGFuZCA4IHdpbGwgYmUgc3RyZXRjaGVkIGhvcml6b250YWxseVxuICogICAgIGFyZWFzIDQgYW5kIDYgd2lsbCBiZSBzdHJldGNoZWQgdmVydGljYWxseVxuICogICAgIGFyZWEgNSB3aWxsIGJlIHN0cmV0Y2hlZCBib3RoIGhvcml6b250YWxseSBhbmQgdmVydGljYWxseVxuICogPC9wcmU+XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNpbXBsZVBsYW5lXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIE5pbmVTbGljZVBsYW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOaW5lU2xpY2VQbGFuZSwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB0ZXh0dXJlIHRvIHVzZSBvbiB0aGUgTmluZVNsaWNlUGxhbmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZWZ0V2lkdGg9MTBdIC0gc2l6ZSBvZiB0aGUgbGVmdCB2ZXJ0aWNhbCBiYXIgKEEpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0b3BIZWlnaHQ9MTBdIC0gc2l6ZSBvZiB0aGUgdG9wIGhvcml6b250YWwgYmFyIChDKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmlnaHRXaWR0aD0xMF0gLSBzaXplIG9mIHRoZSByaWdodCB2ZXJ0aWNhbCBiYXIgKEIpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtib3R0b21IZWlnaHQ9MTBdIC0gc2l6ZSBvZiB0aGUgYm90dG9tIGhvcml6b250YWwgYmFyIChEKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE5pbmVTbGljZVBsYW5lKHRleHR1cmUsIGxlZnRXaWR0aCwgdG9wSGVpZ2h0LCByaWdodFdpZHRoLCBib3R0b21IZWlnaHQpIHtcbiAgICAgICAgaWYgKGxlZnRXaWR0aCA9PT0gdm9pZCAwKSB7IGxlZnRXaWR0aCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgaWYgKHRvcEhlaWdodCA9PT0gdm9pZCAwKSB7IHRvcEhlaWdodCA9IERFRkFVTFRfQk9SREVSX1NJWkU7IH1cbiAgICAgICAgaWYgKHJpZ2h0V2lkdGggPT09IHZvaWQgMCkgeyByaWdodFdpZHRoID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICBpZiAoYm90dG9tSGVpZ2h0ID09PSB2b2lkIDApIHsgYm90dG9tSGVpZ2h0ID0gREVGQVVMVF9CT1JERVJfU0laRTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBUZXh0dXJlLldISVRFLCA0LCA0KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICBfdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl93aWR0aCA9IF90aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5faGVpZ2h0ID0gX3RoaXMuX29yaWdIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uIChhKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGVmdFdpZHRoID0gbGVmdFdpZHRoO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4gKGIpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yaWdodFdpZHRoID0gcmlnaHRXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90b3BIZWlnaHQgPSB0b3BIZWlnaHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYm90dG9tSGVpZ2h0ID0gYm90dG9tSGVpZ2h0O1xuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgX3RoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ2ZXJ0aWNlc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9nZXRNaW5TY2FsZSgpO1xuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSAodGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2ZXJ0aWNhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNhbFZlcnRpY2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9nZXRNaW5TY2FsZSgpO1xuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzEwXSA9IHZlcnRpY2VzWzE4XSA9IHZlcnRpY2VzWzI2XSA9IHRoaXMuX2xlZnRXaWR0aCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1s0XSA9IHZlcnRpY2VzWzEyXSA9IHZlcnRpY2VzWzIwXSA9IHZlcnRpY2VzWzI4XSA9IHRoaXMuX3dpZHRoIC0gKHRoaXMuX3JpZ2h0V2lkdGggKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzZdID0gdmVydGljZXNbMTRdID0gdmVydGljZXNbMjJdID0gdmVydGljZXNbMzBdID0gdGhpcy5fd2lkdGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzbWFsbGVyIG9mIGEgc2V0IG9mIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIHNjYWxlIG9mIG5pbmUgc2xpY2UgY29ybmVycy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gU21hbGxlciBudW1iZXIgb2YgdmVydGljYWwgYW5kIGhvcml6b250YWwgc2NhbGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX2dldE1pblNjYWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdyA9IHRoaXMuX2xlZnRXaWR0aCArIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgICAgIHZhciBzY2FsZVcgPSB0aGlzLl93aWR0aCA+IHcgPyAxLjAgOiB0aGlzLl93aWR0aCAvIHc7XG4gICAgICAgIHZhciBoID0gdGhpcy5fdG9wSGVpZ2h0ICsgdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB2YXIgc2NhbGVIID0gdGhpcy5faGVpZ2h0ID4gaCA/IDEuMCA6IHRoaXMuX2hlaWdodCAvIGg7XG4gICAgICAgIHZhciBzY2FsZSA9IE1hdGgubWluKHNjYWxlVywgc2NhbGVIKTtcbiAgICAgICAgcmV0dXJuIHNjYWxlO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJ3aWR0aFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgXCJoZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwibGVmdFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcInJpZ2h0V2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUsIFwidG9wSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBcImJvdHRvbUhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIE5pbmVTbGljZVBsYW5lIGNvb3Jkcy4gQWxsIG9mIHRoZW0uXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMudGV4dHVyZTtcbiAgICAgICAgdmFyIHV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS5kYXRhO1xuICAgICAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgX3V2dyA9IDEuMCAvIHRoaXMuX29yaWdXaWR0aDtcbiAgICAgICAgdmFyIF91dmggPSAxLjAgLyB0aGlzLl9vcmlnSGVpZ2h0O1xuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuICAgICAgICB1dnNbMl0gPSB1dnNbMTBdID0gdXZzWzE4XSA9IHV2c1syNl0gPSBfdXZ3ICogdGhpcy5fbGVmdFdpZHRoO1xuICAgICAgICB1dnNbNF0gPSB1dnNbMTJdID0gdXZzWzIwXSA9IHV2c1syOF0gPSAxIC0gKF91dncgKiB0aGlzLl9yaWdodFdpZHRoKTtcbiAgICAgICAgdXZzWzldID0gdXZzWzExXSA9IHV2c1sxM10gPSB1dnNbMTVdID0gX3V2aCAqIHRoaXMuX3RvcEhlaWdodDtcbiAgICAgICAgdXZzWzE3XSA9IHV2c1sxOV0gPSB1dnNbMjFdID0gdXZzWzIzXSA9IDEgLSAoX3V2aCAqIHRoaXMuX2JvdHRvbUhlaWdodCk7XG4gICAgICAgIHRoaXMudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljYWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiBOaW5lU2xpY2VQbGFuZTtcbn0oU2ltcGxlUGxhbmUpKTtcblxuZXhwb3J0IHsgTmluZVNsaWNlUGxhbmUsIFBsYW5lR2VvbWV0cnksIFJvcGVHZW9tZXRyeSwgU2ltcGxlTWVzaCwgU2ltcGxlUGxhbmUsIFNpbXBsZVJvcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2gtZXh0cmFzLmVzLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==