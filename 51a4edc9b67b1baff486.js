(global.webpackChunkvht11=global.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\mathjax-full\\js\\output\\common\\Wrappers\\menclose"],{"./node_modules/mathjax-full/js/output/common/Wrappers/menclose.js":function(t,r,e){"use strict";var o,n=this&&this.__extends||(o=function(t,r){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)},function(t,r){function e(){this.constructor=t}o(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}),i=this&&this.__read||function(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var o,n,i=e.call(t),a=[];try{for(;(void 0===r||r-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return a},a=this&&this.__spread||function(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(i(arguments[r]));return t},s=this&&this.__values||function(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],o=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.CommonMencloseMixin=void 0;var h=e("./node_modules/mathjax-full/js/output/common/Notation.js"),l=e("./node_modules/mathjax-full/js/util/string.js");r.CommonMencloseMixin=function(t){return function(t){function r(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var o=t.apply(this,a(r))||this;return o.notations={},o.renderChild=null,o.msqrt=null,o.padding=h.PADDING,o.thickness=h.THICKNESS,o.arrowhead={x:h.ARROWX,y:h.ARROWY,dx:h.ARROWDX},o.getParameters(),o.getNotations(),o.removeRedundantNotations(),o.initializeNotations(),o}return n(r,t),r.prototype.getParameters=function(){var t=this.node.attributes,r=t.get("data-padding");void 0!==r&&(this.padding=this.length2em(r,h.PADDING));var e=t.get("data-thickness");void 0!==e&&(this.thickness=this.length2em(e,h.THICKNESS));var o=t.get("data-arrowhead");if(void 0!==o){var n=i(l.split(o),3),a=n[0],s=n[1],u=n[2];this.arrowhead={x:a?parseFloat(a):h.ARROWX,y:s?parseFloat(s):h.ARROWY,dx:u?parseFloat(u):h.ARROWDX}}},r.prototype.getNotations=function(){var t,r,e=this.constructor.notations;try{for(var o=s(l.split(this.node.attributes.get("notation"))),n=o.next();!n.done;n=o.next()){var i=n.value,a=e.get(i);a&&(this.notations[i]=a,a.renderChild&&(this.renderChild=a.renderer))}}catch(r){t={error:r}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},r.prototype.removeRedundantNotations=function(){var t,r,e,o;try{for(var n=s(Object.keys(this.notations)),i=n.next();!i.done;i=n.next()){var a=i.value;if(this.notations[a]){var h=this.notations[a].remove||"";try{for(var l=(e=void 0,s(h.split(/ /))),u=l.next();!u.done;u=l.next()){var d=u.value;delete this.notations[d]}}catch(t){e={error:t}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(e)throw e.error}}}}}catch(r){t={error:r}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},r.prototype.initializeNotations=function(){var t,r;try{for(var e=s(Object.keys(this.notations)),o=e.next();!o.done;o=e.next()){var n=o.value,i=this.notations[n].init;i&&i(this)}}catch(r){t={error:r}}finally{try{o&&!o.done&&(r=e.return)&&r.call(e)}finally{if(t)throw t.error}}},r.prototype.computeBBox=function(t,r){void 0===r&&(r=!1);var e=i(this.getBBoxExtenders(),4),o=e[0],n=e[1],a=e[2],s=e[3],h=this.childNodes[0].getBBox();t.combine(h,s,0),t.h+=o,t.d+=a,t.w+=n,this.setChildPWidths(r)},r.prototype.getBBoxExtenders=function(){var t,r,e=[0,0,0,0];try{for(var o=s(Object.keys(this.notations)),n=o.next();!n.done;n=o.next()){var i=n.value;this.maximizeEntries(e,this.notations[i].bbox(this))}}catch(r){t={error:r}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return e},r.prototype.getPadding=function(){var t,r,e=[0,0,0,0],o=[0,0,0,0];try{for(var n=s(Object.keys(this.notations)),i=n.next();!i.done;i=n.next()){var a=i.value;this.maximizeEntries(e,this.notations[a].bbox(this));var h=this.notations[a].border;h&&this.maximizeEntries(o,h(this))}}catch(r){t={error:r}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return[0,1,2,3].map((function(t){return e[t]-o[t]}))},r.prototype.maximizeEntries=function(t,r){for(var e=0;e<t.length;e++)t[e]<r[e]&&(t[e]=r[e])},r.prototype.getArgMod=function(t,r){return[Math.atan2(r,t),Math.sqrt(t*t+r*r)]},r.prototype.arrow=function(t,r,e){return void 0===e&&(e=!1),null},r.prototype.arrowData=function(){var t=i([this.padding,this.thickness],2),r=t[0],e=t[1]*(this.arrowhead.x+Math.max(1,this.arrowhead.dx)),o=this.childNodes[0].getBBox(),n=o.h,a=o.d,s=o.w,h=n+a,l=Math.sqrt(h*h+s*s),u=Math.max(r,e*s/l),d=Math.max(r,e*h/l),c=i(this.getArgMod(s+2*u,h+2*d),2);return{a:c[0],W:c[1],x:u,y:d}},r.prototype.createMsqrt=function(t){var r=this.node.factory.create("msqrt");r.inheritAttributesFrom(this.node),r.childNodes[0]=t.node;var e=this.wrap(r);return e.parent=this,e},r.prototype.sqrtTRBL=function(){var t=this.msqrt.getBBox(),r=this.msqrt.childNodes[0].getBBox();return[t.h-r.h,0,t.d-r.d,t.w-r.w]},r}(t)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9tYXRoamF4LWZ1bGwvanMvb3V0cHV0L2NvbW1vbi9XcmFwcGVycy9tZW5jbG9zZS5qcyJdLCJuYW1lcyI6WyJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwidGhpcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJfX3JlYWQiLCJvIiwibiIsIm0iLCJTeW1ib2wiLCJpdGVyYXRvciIsInIiLCJlIiwiaSIsImNhbGwiLCJhciIsIm5leHQiLCJkb25lIiwicHVzaCIsInZhbHVlIiwiZXJyb3IiLCJfX3NwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImNvbmNhdCIsIl9fdmFsdWVzIiwicyIsIlR5cGVFcnJvciIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIkNvbW1vbk1lbmNsb3NlTWl4aW4iLCJOb3RhdGlvbiIsInN0cmluZ19qc18xIiwiQmFzZSIsIl9zdXBlciIsImNsYXNzXzEiLCJhcmdzIiwiX2kiLCJfdGhpcyIsImFwcGx5Iiwibm90YXRpb25zIiwicmVuZGVyQ2hpbGQiLCJtc3FydCIsInBhZGRpbmciLCJQQURESU5HIiwidGhpY2tuZXNzIiwiVEhJQ0tORVNTIiwiYXJyb3doZWFkIiwieCIsIkFSUk9XWCIsInkiLCJBUlJPV1kiLCJkeCIsIkFSUk9XRFgiLCJnZXRQYXJhbWV0ZXJzIiwiZ2V0Tm90YXRpb25zIiwicmVtb3ZlUmVkdW5kYW50Tm90YXRpb25zIiwiaW5pdGlhbGl6ZU5vdGF0aW9ucyIsImF0dHJpYnV0ZXMiLCJub2RlIiwiZ2V0IiwidW5kZWZpbmVkIiwibGVuZ3RoMmVtIiwiX2IiLCJzcGxpdCIsInBhcnNlRmxvYXQiLCJlXzEiLCJOb3RhdGlvbnMiLCJfYyIsIl9kIiwibmFtZV8xIiwibm90YXRpb24iLCJyZW5kZXJlciIsImVfMV8xIiwicmV0dXJuIiwiZV8yIiwiZV8zIiwia2V5cyIsIl9lIiwibmFtZV8yIiwicmVtb3ZlIiwiX2YiLCJfZyIsImVfM18xIiwiZV8yXzEiLCJlXzQiLCJuYW1lXzMiLCJpbml0IiwiZV80XzEiLCJjb21wdXRlQkJveCIsImJib3giLCJyZWNvbXB1dGUiLCJnZXRCQm94RXh0ZW5kZXJzIiwiVCIsIlIiLCJCIiwiTCIsImNoaWxkIiwiY2hpbGROb2RlcyIsImdldEJCb3giLCJjb21iaW5lIiwiaCIsInciLCJzZXRDaGlsZFBXaWR0aHMiLCJlXzUiLCJUUkJMIiwibmFtZV80IiwibWF4aW1pemVFbnRyaWVzIiwiZV81XzEiLCJnZXRQYWRkaW5nIiwiZV82IiwiQlRSQkwiLCJuYW1lXzUiLCJib3JkZXIiLCJlXzZfMSIsIm1hcCIsIlgiLCJZIiwiZ2V0QXJnTW9kIiwiTWF0aCIsImF0YW4yIiwic3FydCIsImFycm93IiwiX3ciLCJfYSIsIl9kb3VibGUiLCJhcnJvd0RhdGEiLCJtYXgiLCJIIiwiYSIsIlciLCJjcmVhdGVNc3FydCIsIm1tbCIsImZhY3RvcnkiLCJpbmhlcml0QXR0cmlidXRlc0Zyb20iLCJ3cmFwIiwicGFyZW50Iiwic3FydFRSQkwiLCJjYm94Il0sIm1hcHBpbmdzIjoiOFFBQ0EsSUFDUUEsRUFESkMsRUFBYUMsTUFBUUEsS0FBS0QsWUFDdEJELEVBQWdCLFNBQVVHLEVBQUdDLEdBSTdCLE9BSEFKLEVBQWdCSyxPQUFPQyxnQkFDbEIsQ0FBRUMsVUFBVyxjQUFnQkMsT0FBUyxTQUFVTCxFQUFHQyxHQUFLRCxFQUFFSSxVQUFZSCxJQUN2RSxTQUFVRCxFQUFHQyxHQUFLLElBQUssSUFBSUssS0FBS0wsRUFBT0EsRUFBRU0sZUFBZUQsS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssTUFDcEROLEVBQUdDLElBRXJCLFNBQVVELEVBQUdDLEdBRWhCLFNBQVNPLElBQU9ULEtBQUtVLFlBQWNULEVBRG5DSCxFQUFjRyxFQUFHQyxHQUVqQkQsRUFBRVUsVUFBa0IsT0FBTlQsRUFBYUMsT0FBT1MsT0FBT1YsSUFBTU8sRUFBR0UsVUFBWVQsRUFBRVMsVUFBVyxJQUFJRixLQUduRkksRUFBVWIsTUFBUUEsS0FBS2EsUUFBVyxTQUFVQyxFQUFHQyxHQUMvQyxJQUFJQyxFQUFzQixtQkFBWEMsUUFBeUJILEVBQUVHLE9BQU9DLFVBQ2pELElBQUtGLEVBQUcsT0FBT0YsRUFDZixJQUFtQkssRUFBWUMsRUFBM0JDLEVBQUlMLEVBQUVNLEtBQUtSLEdBQU9TLEVBQUssR0FDM0IsSUFDSSxXQUFjLElBQU5SLEdBQWdCQSxLQUFNLE1BQVFJLEVBQUlFLEVBQUVHLFFBQVFDLE1BQU1GLEVBQUdHLEtBQUtQLEVBQUVRLE9BRXhFLE1BQU9DLEdBQVNSLEVBQUksQ0FBRVEsTUFBT0EsR0FDN0IsUUFDSSxJQUNRVCxJQUFNQSxFQUFFTSxPQUFTVCxFQUFJSyxFQUFVLFNBQUlMLEVBQUVNLEtBQUtELEdBRWxELFFBQVUsR0FBSUQsRUFBRyxNQUFNQSxFQUFFUSxPQUU3QixPQUFPTCxHQUVQTSxFQUFZN0IsTUFBUUEsS0FBSzZCLFVBQWEsV0FDdEMsSUFBSyxJQUFJTixFQUFLLEdBQUlGLEVBQUksRUFBR0EsRUFBSVMsVUFBVUMsT0FBUVYsSUFBS0UsRUFBS0EsRUFBR1MsT0FBT25CLEVBQU9pQixVQUFVVCxLQUNwRixPQUFPRSxHQUVQVSxFQUFZakMsTUFBUUEsS0FBS2lDLFVBQWEsU0FBU25CLEdBQy9DLElBQUlvQixFQUFzQixtQkFBWGpCLFFBQXlCQSxPQUFPQyxTQUFVRixFQUFJa0IsR0FBS3BCLEVBQUVvQixHQUFJYixFQUFJLEVBQzVFLEdBQUlMLEVBQUcsT0FBT0EsRUFBRU0sS0FBS1IsR0FDckIsR0FBSUEsR0FBeUIsaUJBQWJBLEVBQUVpQixPQUFxQixNQUFPLENBQzFDUCxLQUFNLFdBRUYsT0FESVYsR0FBS08sR0FBS1AsRUFBRWlCLFNBQVFqQixPQUFJLEdBQ3JCLENBQUVhLE1BQU9iLEdBQUtBLEVBQUVPLEtBQU1JLE1BQU9YLEtBRzVDLE1BQU0sSUFBSXFCLFVBQVVELEVBQUksMEJBQTRCLG9DQUV4RC9CLE9BQU9pQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRVYsT0FBTyxJQUN0RFUsRUFBUUMseUJBQXNCLEVBQzlCLElBQUlDLEVBQVcsRUFBUSw0REFDbkJDLEVBQWMsRUFBUSxpREE4TTFCSCxFQUFRQyxvQkE3TVIsU0FBNkJHLEdBQ3pCLE9BQVEsU0FBVUMsR0FFZCxTQUFTQyxJQUVMLElBREEsSUFBSUMsRUFBTyxHQUNGQyxFQUFLLEVBQUdBLEVBQUtmLFVBQVVDLE9BQVFjLElBQ3BDRCxFQUFLQyxHQUFNZixVQUFVZSxHQUV6QixJQUFJQyxFQUFRSixFQUFPSyxNQUFNL0MsS0FBTTZCLEVBQVNlLEtBQVU1QyxLQVdsRCxPQVZBOEMsRUFBTUUsVUFBWSxHQUNsQkYsRUFBTUcsWUFBYyxLQUNwQkgsRUFBTUksTUFBUSxLQUNkSixFQUFNSyxRQUFVWixFQUFTYSxRQUN6Qk4sRUFBTU8sVUFBWWQsRUFBU2UsVUFDM0JSLEVBQU1TLFVBQVksQ0FBRUMsRUFBR2pCLEVBQVNrQixPQUFRQyxFQUFHbkIsRUFBU29CLE9BQVFDLEdBQUlyQixFQUFTc0IsU0FDekVmLEVBQU1nQixnQkFDTmhCLEVBQU1pQixlQUNOakIsRUFBTWtCLDJCQUNObEIsRUFBTW1CLHNCQUNDbkIsRUF1TFgsT0F4TUEvQyxFQUFVNEMsRUFBU0QsR0FtQm5CQyxFQUFRaEMsVUFBVW1ELGNBQWdCLFdBQzlCLElBQUlJLEVBQWFsRSxLQUFLbUUsS0FBS0QsV0FDdkJmLEVBQVVlLEVBQVdFLElBQUkscUJBQ2JDLElBQVpsQixJQUNBbkQsS0FBS21ELFFBQVVuRCxLQUFLc0UsVUFBVW5CLEVBQVNaLEVBQVNhLFVBRXBELElBQUlDLEVBQVlhLEVBQVdFLElBQUksdUJBQ2JDLElBQWRoQixJQUNBckQsS0FBS3FELFVBQVlyRCxLQUFLc0UsVUFBVWpCLEVBQVdkLEVBQVNlLFlBRXhELElBQUlDLEVBQVlXLEVBQVdFLElBQUksa0JBQy9CLFFBQWtCQyxJQUFkZCxFQUF5QixDQUN6QixJQUFJZ0IsRUFBSzFELEVBQU8yQixFQUFZZ0MsTUFBTWpCLEdBQVksR0FBSUMsRUFBSWUsRUFBRyxHQUFJYixFQUFJYSxFQUFHLEdBQUlYLEVBQUtXLEVBQUcsR0FDaEZ2RSxLQUFLdUQsVUFBWSxDQUNiQyxFQUFJQSxFQUFJaUIsV0FBV2pCLEdBQUtqQixFQUFTa0IsT0FDakNDLEVBQUlBLEVBQUllLFdBQVdmLEdBQUtuQixFQUFTb0IsT0FDakNDLEdBQUtBLEVBQUthLFdBQVdiLEdBQU1yQixFQUFTc0IsV0FJaERsQixFQUFRaEMsVUFBVW9ELGFBQWUsV0FDN0IsSUFBSVcsRUFBS0gsRUFDTEksRUFBWTNFLEtBQUtVLFlBQVlzQyxVQUNqQyxJQUNJLElBQUssSUFBSTRCLEVBQUszQyxFQUFTTyxFQUFZZ0MsTUFBTXhFLEtBQUttRSxLQUFLRCxXQUFXRSxJQUFJLGNBQWVTLEVBQUtELEVBQUdwRCxRQUFTcUQsRUFBR3BELEtBQU1vRCxFQUFLRCxFQUFHcEQsT0FBUSxDQUN2SCxJQUFJc0QsRUFBU0QsRUFBR2xELE1BQ1pvRCxFQUFXSixFQUFVUCxJQUFJVSxHQUN6QkMsSUFDQS9FLEtBQUtnRCxVQUFVOEIsR0FBVUMsRUFDckJBLEVBQVM5QixjQUNUakQsS0FBS2lELFlBQWM4QixFQUFTQyxZQUs1QyxNQUFPQyxHQUFTUCxFQUFNLENBQUU5QyxNQUFPcUQsR0FDL0IsUUFDSSxJQUNRSixJQUFPQSxFQUFHcEQsT0FBUzhDLEVBQUtLLEVBQUdNLFNBQVNYLEVBQUdqRCxLQUFLc0QsR0FFcEQsUUFBVSxHQUFJRixFQUFLLE1BQU1BLEVBQUk5QyxTQUdyQ2UsRUFBUWhDLFVBQVVxRCx5QkFBMkIsV0FDekMsSUFBSW1CLEVBQUtaLEVBQUlhLEVBQUtSLEVBQ2xCLElBQ0ksSUFBSyxJQUFJQyxFQUFLNUMsRUFBUzlCLE9BQU9rRixLQUFLckYsS0FBS2dELFlBQWFzQyxFQUFLVCxFQUFHckQsUUFBUzhELEVBQUc3RCxLQUFNNkQsRUFBS1QsRUFBR3JELE9BQVEsQ0FDM0YsSUFBSStELEVBQVNELEVBQUczRCxNQUNoQixHQUFJM0IsS0FBS2dELFVBQVV1QyxHQUFTLENBQ3hCLElBQUlDLEVBQVN4RixLQUFLZ0QsVUFBVXVDLEdBQVFDLFFBQVUsR0FDOUMsSUFDSSxJQUFLLElBQUlDLEdBQU1MLE9BQU0sRUFBUW5ELEVBQVN1RCxFQUFPaEIsTUFBTSxPQUFRa0IsRUFBS0QsRUFBR2pFLFFBQVNrRSxFQUFHakUsS0FBTWlFLEVBQUtELEVBQUdqRSxPQUFRLENBQ2pHLElBQUl1RCxFQUFXVyxFQUFHL0QsYUFDWDNCLEtBQUtnRCxVQUFVK0IsSUFHOUIsTUFBT1ksR0FBU1AsRUFBTSxDQUFFeEQsTUFBTytELEdBQy9CLFFBQ0ksSUFDUUQsSUFBT0EsRUFBR2pFLE9BQVNtRCxFQUFLYSxFQUFHUCxTQUFTTixFQUFHdEQsS0FBS21FLEdBRXBELFFBQVUsR0FBSUwsRUFBSyxNQUFNQSxFQUFJeEQsVUFLN0MsTUFBT2dFLEdBQVNULEVBQU0sQ0FBRXZELE1BQU9nRSxHQUMvQixRQUNJLElBQ1FOLElBQU9BLEVBQUc3RCxPQUFTOEMsRUFBS00sRUFBR0ssU0FBU1gsRUFBR2pELEtBQUt1RCxHQUVwRCxRQUFVLEdBQUlNLEVBQUssTUFBTUEsRUFBSXZELFNBR3JDZSxFQUFRaEMsVUFBVXNELG9CQUFzQixXQUNwQyxJQUFJNEIsRUFBS3RCLEVBQ1QsSUFDSSxJQUFLLElBQUlLLEVBQUszQyxFQUFTOUIsT0FBT2tGLEtBQUtyRixLQUFLZ0QsWUFBYTZCLEVBQUtELEVBQUdwRCxRQUFTcUQsRUFBR3BELEtBQU1vRCxFQUFLRCxFQUFHcEQsT0FBUSxDQUMzRixJQUFJc0UsRUFBU2pCLEVBQUdsRCxNQUNab0UsRUFBTy9GLEtBQUtnRCxVQUFVOEMsR0FBUUMsS0FDbENBLEdBQVFBLEVBQUsvRixPQUdyQixNQUFPZ0csR0FBU0gsRUFBTSxDQUFFakUsTUFBT29FLEdBQy9CLFFBQ0ksSUFDUW5CLElBQU9BLEVBQUdwRCxPQUFTOEMsRUFBS0ssRUFBR00sU0FBU1gsRUFBR2pELEtBQUtzRCxHQUVwRCxRQUFVLEdBQUlpQixFQUFLLE1BQU1BLEVBQUlqRSxTQUdyQ2UsRUFBUWhDLFVBQVVzRixZQUFjLFNBQVVDLEVBQU1DLFFBQzFCLElBQWRBLElBQXdCQSxHQUFZLEdBQ3hDLElBQUk1QixFQUFLMUQsRUFBT2IsS0FBS29HLG1CQUFvQixHQUFJQyxFQUFJOUIsRUFBRyxHQUFJK0IsRUFBSS9CLEVBQUcsR0FBSWdDLEVBQUloQyxFQUFHLEdBQUlpQyxFQUFJakMsRUFBRyxHQUNqRmtDLEVBQVF6RyxLQUFLMEcsV0FBVyxHQUFHQyxVQUMvQlQsRUFBS1UsUUFBUUgsRUFBT0QsRUFBRyxHQUN2Qk4sRUFBS1csR0FBS1IsRUFDVkgsRUFBS2pHLEdBQUtzRyxFQUNWTCxFQUFLWSxHQUFLUixFQUNWdEcsS0FBSytHLGdCQUFnQlosSUFFekJ4RCxFQUFRaEMsVUFBVXlGLGlCQUFtQixXQUNqQyxJQUFJWSxFQUFLekMsRUFDTDBDLEVBQU8sQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUNyQixJQUNJLElBQUssSUFBSXJDLEVBQUszQyxFQUFTOUIsT0FBT2tGLEtBQUtyRixLQUFLZ0QsWUFBYTZCLEVBQUtELEVBQUdwRCxRQUFTcUQsRUFBR3BELEtBQU1vRCxFQUFLRCxFQUFHcEQsT0FBUSxDQUMzRixJQUFJMEYsRUFBU3JDLEVBQUdsRCxNQUNoQjNCLEtBQUttSCxnQkFBZ0JGLEVBQU1qSCxLQUFLZ0QsVUFBVWtFLEdBQVFoQixLQUFLbEcsUUFHL0QsTUFBT29ILEdBQVNKLEVBQU0sQ0FBRXBGLE1BQU93RixHQUMvQixRQUNJLElBQ1F2QyxJQUFPQSxFQUFHcEQsT0FBUzhDLEVBQUtLLEVBQUdNLFNBQVNYLEVBQUdqRCxLQUFLc0QsR0FFcEQsUUFBVSxHQUFJb0MsRUFBSyxNQUFNQSxFQUFJcEYsT0FFakMsT0FBT3FGLEdBRVh0RSxFQUFRaEMsVUFBVTBHLFdBQWEsV0FDM0IsSUFBSUMsRUFBSy9DLEVBQ0wwQyxFQUFPLENBQUMsRUFBRyxFQUFHLEVBQUcsR0FDakJNLEVBQVEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUN0QixJQUNJLElBQUssSUFBSTNDLEVBQUszQyxFQUFTOUIsT0FBT2tGLEtBQUtyRixLQUFLZ0QsWUFBYTZCLEVBQUtELEVBQUdwRCxRQUFTcUQsRUFBR3BELEtBQU1vRCxFQUFLRCxFQUFHcEQsT0FBUSxDQUMzRixJQUFJZ0csRUFBUzNDLEVBQUdsRCxNQUNoQjNCLEtBQUttSCxnQkFBZ0JGLEVBQU1qSCxLQUFLZ0QsVUFBVXdFLEdBQVF0QixLQUFLbEcsT0FDdkQsSUFBSXlILEVBQVN6SCxLQUFLZ0QsVUFBVXdFLEdBQVFDLE9BQ2hDQSxHQUNBekgsS0FBS21ILGdCQUFnQkksRUFBT0UsRUFBT3pILFFBSS9DLE1BQU8wSCxHQUFTSixFQUFNLENBQUUxRixNQUFPOEYsR0FDL0IsUUFDSSxJQUNRN0MsSUFBT0EsRUFBR3BELE9BQVM4QyxFQUFLSyxFQUFHTSxTQUFTWCxFQUFHakQsS0FBS3NELEdBRXBELFFBQVUsR0FBSTBDLEVBQUssTUFBTUEsRUFBSTFGLE9BRWpDLE1BQU8sQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUFHK0YsS0FBSSxTQUFVdEcsR0FBSyxPQUFPNEYsRUFBSzVGLEdBQUtrRyxFQUFNbEcsT0FFbEVzQixFQUFRaEMsVUFBVXdHLGdCQUFrQixTQUFVUyxFQUFHQyxHQUM3QyxJQUFLLElBQUl4RyxFQUFJLEVBQUdBLEVBQUl1RyxFQUFFN0YsT0FBUVYsSUFDdEJ1RyxFQUFFdkcsR0FBS3dHLEVBQUV4RyxLQUNUdUcsRUFBRXZHLEdBQUt3RyxFQUFFeEcsS0FJckJzQixFQUFRaEMsVUFBVW1ILFVBQVksU0FBVWhCLEVBQUdELEdBQ3ZDLE1BQU8sQ0FBQ2tCLEtBQUtDLE1BQU1uQixFQUFHQyxHQUFJaUIsS0FBS0UsS0FBS25CLEVBQUlBLEVBQUlELEVBQUlBLEtBRXBEbEUsRUFBUWhDLFVBQVV1SCxNQUFRLFNBQVVDLEVBQUlDLEVBQUlDLEdBRXhDLFlBRGdCLElBQVpBLElBQXNCQSxHQUFVLEdBQzdCLE1BRVgxRixFQUFRaEMsVUFBVTJILFVBQVksV0FDMUIsSUFBSS9ELEVBQUsxRCxFQUFPLENBQUNiLEtBQUttRCxRQUFTbkQsS0FBS3FELFdBQVksR0FBSTlDLEVBQUlnRSxFQUFHLEdBQ3ZEcEQsRUFEK0RvRCxFQUFHLElBQ3pEdkUsS0FBS3VELFVBQVVDLEVBQUl1RSxLQUFLUSxJQUFJLEVBQUd2SSxLQUFLdUQsVUFBVUssS0FDdkRnQixFQUFLNUUsS0FBSzBHLFdBQVcsR0FBR0MsVUFBV0UsRUFBSWpDLEVBQUdpQyxFQUFHNUcsRUFBSTJFLEVBQUczRSxFQUFHNkcsRUFBSWxDLEVBQUdrQyxFQUM5RDBCLEVBQUkzQixFQUFJNUcsRUFDUnFHLEVBQUl5QixLQUFLRSxLQUFLTyxFQUFJQSxFQUFJMUIsRUFBSUEsR0FDMUJ0RCxFQUFJdUUsS0FBS1EsSUFBSWhJLEVBQUdZLEVBQUkyRixFQUFJUixHQUN4QjVDLEVBQUlxRSxLQUFLUSxJQUFJaEksRUFBR1ksRUFBSXFILEVBQUlsQyxHQUN4QnpCLEVBQUtoRSxFQUFPYixLQUFLOEgsVUFBVWhCLEVBQUksRUFBSXRELEVBQUdnRixFQUFJLEVBQUk5RSxHQUFJLEdBQ3RELE1BQU8sQ0FBRStFLEVBRHFENUQsRUFBRyxHQUNsRDZELEVBRDBEN0QsRUFBRyxHQUN2RHJCLEVBQUdBLEVBQUdFLEVBQUdBLElBRWxDZixFQUFRaEMsVUFBVWdJLFlBQWMsU0FBVWxDLEdBQ3RDLElBQ0ltQyxFQURhNUksS0FBS21FLEtBQUswRSxRQUNOakksT0FBTyxTQUM1QmdJLEVBQUlFLHNCQUFzQjlJLEtBQUttRSxNQUMvQnlFLEVBQUlsQyxXQUFXLEdBQUtELEVBQU10QyxLQUMxQixJQUFJQSxFQUFPbkUsS0FBSytJLEtBQUtILEdBRXJCLE9BREF6RSxFQUFLNkUsT0FBU2hKLEtBQ1BtRSxHQUVYeEIsRUFBUWhDLFVBQVVzSSxTQUFXLFdBQ3pCLElBQUkvQyxFQUFPbEcsS0FBS2tELE1BQU15RCxVQUNsQnVDLEVBQU9sSixLQUFLa0QsTUFBTXdELFdBQVcsR0FBR0MsVUFDcEMsTUFBTyxDQUFDVCxFQUFLVyxFQUFJcUMsRUFBS3JDLEVBQUcsRUFBR1gsRUFBS2pHLEVBQUlpSixFQUFLakosRUFBR2lHLEVBQUtZLEVBQUlvQyxFQUFLcEMsSUFFeERuRSxFQXpNSixDQTBNTEYiLCJmaWxlIjoiNTFhNGVkYzliNjdiMWJhZmY0ODYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xudmFyIF9fc3ByZWFkID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZCkgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29tbW9uTWVuY2xvc2VNaXhpbiA9IHZvaWQgMDtcbnZhciBOb3RhdGlvbiA9IHJlcXVpcmUoXCIuLi9Ob3RhdGlvbi5qc1wiKTtcbnZhciBzdHJpbmdfanNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlsL3N0cmluZy5qc1wiKTtcbmZ1bmN0aW9uIENvbW1vbk1lbmNsb3NlTWl4aW4oQmFzZSkge1xuICAgIHJldHVybiAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoY2xhc3NfMSwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBfX3NwcmVhZChhcmdzKSkgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLm5vdGF0aW9ucyA9IHt9O1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyQ2hpbGQgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMubXNxcnQgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMucGFkZGluZyA9IE5vdGF0aW9uLlBBRERJTkc7XG4gICAgICAgICAgICBfdGhpcy50aGlja25lc3MgPSBOb3RhdGlvbi5USElDS05FU1M7XG4gICAgICAgICAgICBfdGhpcy5hcnJvd2hlYWQgPSB7IHg6IE5vdGF0aW9uLkFSUk9XWCwgeTogTm90YXRpb24uQVJST1dZLCBkeDogTm90YXRpb24uQVJST1dEWCB9O1xuICAgICAgICAgICAgX3RoaXMuZ2V0UGFyYW1ldGVycygpO1xuICAgICAgICAgICAgX3RoaXMuZ2V0Tm90YXRpb25zKCk7XG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVSZWR1bmRhbnROb3RhdGlvbnMoKTtcbiAgICAgICAgICAgIF90aGlzLmluaXRpYWxpemVOb3RhdGlvbnMoKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSB0aGlzLm5vZGUuYXR0cmlidXRlcztcbiAgICAgICAgICAgIHZhciBwYWRkaW5nID0gYXR0cmlidXRlcy5nZXQoJ2RhdGEtcGFkZGluZycpO1xuICAgICAgICAgICAgaWYgKHBhZGRpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IHRoaXMubGVuZ3RoMmVtKHBhZGRpbmcsIE5vdGF0aW9uLlBBRERJTkcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRoaWNrbmVzcyA9IGF0dHJpYnV0ZXMuZ2V0KCdkYXRhLXRoaWNrbmVzcycpO1xuICAgICAgICAgICAgaWYgKHRoaWNrbmVzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aGlja25lc3MgPSB0aGlzLmxlbmd0aDJlbSh0aGlja25lc3MsIE5vdGF0aW9uLlRISUNLTkVTUyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYXJyb3doZWFkID0gYXR0cmlidXRlcy5nZXQoJ2RhdGEtYXJyb3doZWFkJyk7XG4gICAgICAgICAgICBpZiAoYXJyb3doZWFkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQoc3RyaW5nX2pzXzEuc3BsaXQoYXJyb3doZWFkKSwgMyksIHggPSBfYlswXSwgeSA9IF9iWzFdLCBkeCA9IF9iWzJdO1xuICAgICAgICAgICAgICAgIHRoaXMuYXJyb3doZWFkID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiAoeCA/IHBhcnNlRmxvYXQoeCkgOiBOb3RhdGlvbi5BUlJPV1gpLFxuICAgICAgICAgICAgICAgICAgICB5OiAoeSA/IHBhcnNlRmxvYXQoeSkgOiBOb3RhdGlvbi5BUlJPV1kpLFxuICAgICAgICAgICAgICAgICAgICBkeDogKGR4ID8gcGFyc2VGbG9hdChkeCkgOiBOb3RhdGlvbi5BUlJPV0RYKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmdldE5vdGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlXzEsIF9iO1xuICAgICAgICAgICAgdmFyIE5vdGF0aW9ucyA9IHRoaXMuY29uc3RydWN0b3Iubm90YXRpb25zO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHN0cmluZ19qc18xLnNwbGl0KHRoaXMubm9kZS5hdHRyaWJ1dGVzLmdldCgnbm90YXRpb24nKSkpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lXzEgPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdGF0aW9uID0gTm90YXRpb25zLmdldChuYW1lXzEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm90YXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90YXRpb25zW25hbWVfMV0gPSBub3RhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RhdGlvbi5yZW5kZXJDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2hpbGQgPSBub3RhdGlvbi5yZW5kZXJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUucmVtb3ZlUmVkdW5kYW50Tm90YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVfMiwgX2IsIGVfMywgX2M7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9kID0gX192YWx1ZXMoT2JqZWN0LmtleXModGhpcy5ub3RhdGlvbnMpKSwgX2UgPSBfZC5uZXh0KCk7ICFfZS5kb25lOyBfZSA9IF9kLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZV8yID0gX2UudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vdGF0aW9uc1tuYW1lXzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlID0gdGhpcy5ub3RhdGlvbnNbbmFtZV8yXS5yZW1vdmUgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9mID0gKGVfMyA9IHZvaWQgMCwgX192YWx1ZXMocmVtb3ZlLnNwbGl0KC8gLykpKSwgX2cgPSBfZi5uZXh0KCk7ICFfZy5kb25lOyBfZyA9IF9mLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm90YXRpb24gPSBfZy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubm90YXRpb25zW25vdGF0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9nICYmICFfZy5kb25lICYmIChfYyA9IF9mLnJldHVybikpIF9jLmNhbGwoX2YpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9lICYmICFfZS5kb25lICYmIChfYiA9IF9kLnJldHVybikpIF9iLmNhbGwoX2QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmluaXRpYWxpemVOb3RhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZV80LCBfYjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyh0aGlzLm5vdGF0aW9ucykpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lXzMgPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluaXQgPSB0aGlzLm5vdGF0aW9uc1tuYW1lXzNdLmluaXQ7XG4gICAgICAgICAgICAgICAgICAgIGluaXQgJiYgaW5pdCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV80XzEpIHsgZV80ID0geyBlcnJvcjogZV80XzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYiA9IF9jLnJldHVybikpIF9iLmNhbGwoX2MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNCkgdGhyb3cgZV80LmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmNvbXB1dGVCQm94ID0gZnVuY3Rpb24gKGJib3gsIHJlY29tcHV0ZSkge1xuICAgICAgICAgICAgaWYgKHJlY29tcHV0ZSA9PT0gdm9pZCAwKSB7IHJlY29tcHV0ZSA9IGZhbHNlOyB9XG4gICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQodGhpcy5nZXRCQm94RXh0ZW5kZXJzKCksIDQpLCBUID0gX2JbMF0sIFIgPSBfYlsxXSwgQiA9IF9iWzJdLCBMID0gX2JbM107XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkTm9kZXNbMF0uZ2V0QkJveCgpO1xuICAgICAgICAgICAgYmJveC5jb21iaW5lKGNoaWxkLCBMLCAwKTtcbiAgICAgICAgICAgIGJib3guaCArPSBUO1xuICAgICAgICAgICAgYmJveC5kICs9IEI7XG4gICAgICAgICAgICBiYm94LncgKz0gUjtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hpbGRQV2lkdGhzKHJlY29tcHV0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmdldEJCb3hFeHRlbmRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZV81LCBfYjtcbiAgICAgICAgICAgIHZhciBUUkJMID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKE9iamVjdC5rZXlzKHRoaXMubm90YXRpb25zKSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVfNCA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1heGltaXplRW50cmllcyhUUkJMLCB0aGlzLm5vdGF0aW9uc1tuYW1lXzRdLmJib3godGhpcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV81KSB0aHJvdyBlXzUuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBUUkJMO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRQYWRkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVfNiwgX2I7XG4gICAgICAgICAgICB2YXIgVFJCTCA9IFswLCAwLCAwLCAwXTtcbiAgICAgICAgICAgIHZhciBCVFJCTCA9IFswLCAwLCAwLCAwXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyh0aGlzLm5vdGF0aW9ucykpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lXzUgPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXhpbWl6ZUVudHJpZXMoVFJCTCwgdGhpcy5ub3RhdGlvbnNbbmFtZV81XS5iYm94KHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvcmRlciA9IHRoaXMubm90YXRpb25zW25hbWVfNV0uYm9yZGVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYm9yZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1heGltaXplRW50cmllcyhCVFJCTCwgYm9yZGVyKHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzZfMSkgeyBlXzYgPSB7IGVycm9yOiBlXzZfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9iID0gX2MucmV0dXJuKSkgX2IuY2FsbChfYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV82KSB0aHJvdyBlXzYuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbMCwgMSwgMiwgM10ubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBUUkJMW2ldIC0gQlRSQkxbaV07IH0pO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5tYXhpbWl6ZUVudHJpZXMgPSBmdW5jdGlvbiAoWCwgWSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBYLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFhbaV0gPCBZW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIFhbaV0gPSBZW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0QXJnTW9kID0gZnVuY3Rpb24gKHcsIGgpIHtcbiAgICAgICAgICAgIHJldHVybiBbTWF0aC5hdGFuMihoLCB3KSwgTWF0aC5zcXJ0KHcgKiB3ICsgaCAqIGgpXTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoX3csIF9hLCBfZG91YmxlKSB7XG4gICAgICAgICAgICBpZiAoX2RvdWJsZSA9PT0gdm9pZCAwKSB7IF9kb3VibGUgPSBmYWxzZTsgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmFycm93RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYiA9IF9fcmVhZChbdGhpcy5wYWRkaW5nLCB0aGlzLnRoaWNrbmVzc10sIDIpLCBwID0gX2JbMF0sIHQgPSBfYlsxXTtcbiAgICAgICAgICAgIHZhciByID0gdCAqICh0aGlzLmFycm93aGVhZC54ICsgTWF0aC5tYXgoMSwgdGhpcy5hcnJvd2hlYWQuZHgpKTtcbiAgICAgICAgICAgIHZhciBfYyA9IHRoaXMuY2hpbGROb2Rlc1swXS5nZXRCQm94KCksIGggPSBfYy5oLCBkID0gX2MuZCwgdyA9IF9jLnc7XG4gICAgICAgICAgICB2YXIgSCA9IGggKyBkO1xuICAgICAgICAgICAgdmFyIFIgPSBNYXRoLnNxcnQoSCAqIEggKyB3ICogdyk7XG4gICAgICAgICAgICB2YXIgeCA9IE1hdGgubWF4KHAsIHIgKiB3IC8gUik7XG4gICAgICAgICAgICB2YXIgeSA9IE1hdGgubWF4KHAsIHIgKiBIIC8gUik7XG4gICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQodGhpcy5nZXRBcmdNb2QodyArIDIgKiB4LCBIICsgMiAqIHkpLCAyKSwgYSA9IF9kWzBdLCBXID0gX2RbMV07XG4gICAgICAgICAgICByZXR1cm4geyBhOiBhLCBXOiBXLCB4OiB4LCB5OiB5IH07XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmNyZWF0ZU1zcXJ0ID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICB2YXIgbW1sRmFjdG9yeSA9IHRoaXMubm9kZS5mYWN0b3J5O1xuICAgICAgICAgICAgdmFyIG1tbCA9IG1tbEZhY3RvcnkuY3JlYXRlKCdtc3FydCcpO1xuICAgICAgICAgICAgbW1sLmluaGVyaXRBdHRyaWJ1dGVzRnJvbSh0aGlzLm5vZGUpO1xuICAgICAgICAgICAgbW1sLmNoaWxkTm9kZXNbMF0gPSBjaGlsZC5ub2RlO1xuICAgICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLndyYXAobW1sKTtcbiAgICAgICAgICAgIG5vZGUucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5zcXJ0VFJCTCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBiYm94ID0gdGhpcy5tc3FydC5nZXRCQm94KCk7XG4gICAgICAgICAgICB2YXIgY2JveCA9IHRoaXMubXNxcnQuY2hpbGROb2Rlc1swXS5nZXRCQm94KCk7XG4gICAgICAgICAgICByZXR1cm4gW2Jib3guaCAtIGNib3guaCwgMCwgYmJveC5kIC0gY2JveC5kLCBiYm94LncgLSBjYm94LnddO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2xhc3NfMTtcbiAgICB9KEJhc2UpKTtcbn1cbmV4cG9ydHMuQ29tbW9uTWVuY2xvc2VNaXhpbiA9IENvbW1vbk1lbmNsb3NlTWl4aW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZW5jbG9zZS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9