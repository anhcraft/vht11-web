(self.webpackChunkvht11=self.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\mathjax-full\\js\\output\\common\\Wrappers\\mtable"],{"./node_modules/mathjax-full/js/output/common/Wrappers/mtable.js":function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s},s=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.CommonMtableMixin=void 0;var h=i("./node_modules/mathjax-full/js/util/BBox.js"),u=i("./node_modules/mathjax-full/js/util/string.js"),l=i("./node_modules/mathjax-full/js/util/numeric.js");e.CommonMtableMixin=function(t){return function(t){function e(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=t.apply(this,s(e))||this;n.numCols=0,n.numRows=0,n.data=null,n.pwidthCells=[],n.pWidth=0,n.numCols=l.max(n.tableRows.map((function(t){return t.numCells}))),n.numRows=n.childNodes.length,n.hasLabels=n.childNodes.reduce((function(t,e){return t||e.node.isKind("mlabeledtr")}),!1),n.findContainer(),n.isTop=!n.container||n.container.node.isKind("math")&&!n.container.parent,n.isTop&&(n.jax.table=n),n.getPercentageWidth();var r=n.node.attributes;return n.frame="none"!==r.get("frame"),n.fLine=n.frame?.07:0,n.fSpace=n.frame?n.convertLengths(n.getAttributeArray("framespacing")):[0,0],n.cSpace=n.convertLengths(n.getColumnAttributes("columnspacing")),n.rSpace=n.convertLengths(n.getRowAttributes("rowspacing")),n.cLines=n.getColumnAttributes("columnlines").map((function(t){return"none"===t?0:.07})),n.rLines=n.getRowAttributes("rowlines").map((function(t){return"none"===t?0:.07})),n.cWidths=n.getColumnWidths(),n.stretchRows(),n.stretchColumns(),n}return r(e,t),Object.defineProperty(e.prototype,"tableRows",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),e.prototype.findContainer=function(){for(var t=this,e=t.parent;e&&(e.node.notParent||e.node.isKind("mrow"));)t=e,e=e.parent;this.container=e,this.containerI=t.node.childPosition()},e.prototype.getPercentageWidth=function(){if(this.hasLabels)this.bbox.pwidth=h.BBox.fullWidth;else{var t=this.node.attributes.get("width");u.isPercent(t)&&(this.bbox.pwidth=t)}},e.prototype.stretchRows=function(){for(var t=this.node.attributes.get("equalrows"),e=t?this.getEqualRowHeight():0,i=t?this.getTableData():{H:[0],D:[0]},n=i.H,r=i.D,o=this.tableRows,s=0;s<this.numRows;s++){var a=t?[(e+n[s]-r[s])/2,(e-n[s]+r[s])/2]:null;o[s].stretchChildren(a)}},e.prototype.stretchColumns=function(){for(var t=0;t<this.numCols;t++){var e="number"==typeof this.cWidths[t]?this.cWidths[t]:null;this.stretchColumn(t,e)}},e.prototype.stretchColumn=function(t,e){var i,n,r,o,s,h,u=[];try{for(var l=a(this.tableRows),c=l.next();!c.done;c=l.next()){if(v=c.value.getChild(t))0===(C=v.childNodes[0]).stretch.dir&&C.canStretch(2)&&u.push(C)}}catch(t){i={error:t}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}var f=u.length,p=this.childNodes.length;if(f&&p>1){if(null===e){e=0;var d=f>1&&f===p;try{for(var g=a(this.tableRows),m=g.next();!m.done;m=g.next()){var v;if(v=m.value.getChild(t)){var y=0===(C=v.childNodes[0]).stretch.dir;if(d||y){var b=C.getBBox(y).w;b>e&&(e=b)}}}}catch(t){r={error:t}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}}try{for(var w=a(u),x=w.next();!x.done;x=w.next()){var C;(C=x.value).coreMO().getStretchedVariant([e])}}catch(t){s={error:t}}finally{try{x&&!x.done&&(h=w.return)&&h.call(w)}finally{if(s)throw s.error}}}},e.prototype.getTableData=function(){if(this.data)return this.data;for(var t=new Array(this.numRows).fill(0),e=new Array(this.numRows).fill(0),i=new Array(this.numCols).fill(0),n=new Array(this.numRows),r=new Array(this.numRows),o=[0],s=this.tableRows,a=0;a<s.length;a++){for(var h=s[a],u=0;u<h.numCells;u++){var l=h.getChild(u);this.updateHDW(l,u,a,t,e,i),this.recordPWidthCell(l,u)}n[a]=t[a],r[a]=e[a],h.labeled&&this.updateHDW(h.childNodes[0],0,a,t,e,o)}var c=o[0];return this.data={H:t,D:e,W:i,NH:n,ND:r,L:c},this.data},e.prototype.updateHDW=function(t,e,i,n,r,o){void 0===o&&(o=null);var s=t.getBBox(),a=s.h,h=s.d,u=s.w;a<.75&&(a=.75),h<.25&&(h=.25),a>n[i]&&(n[i]=a),h>r[i]&&(r[i]=h),o&&u>o[e]&&(o[e]=u)},e.prototype.recordPWidthCell=function(t,e){t.childNodes[0]&&t.childNodes[0].getBBox().pwidth&&this.pwidthCells.push([t,e])},e.prototype.computeBBox=function(t,e){void 0===e&&(e=!1);var i,n,r=this.getTableData(),s=r.H,a=r.D;if(this.node.attributes.get("equalrows")){var h=this.getEqualRowHeight();i=l.sum([].concat(this.rLines,this.rSpace))+h*this.numRows}else i=l.sum(s.concat(a,this.rLines,this.rSpace));i+=2*(this.fLine+this.fSpace[1]);var c=this.getComputedWidths();n=l.sum(c.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]);var f=this.node.attributes.get("width");"auto"!==f&&(n=Math.max(this.length2em(f,0)+2*this.fLine,n));var p=o(this.getBBoxHD(i),2),d=p[0],g=p[1];t.h=d,t.d=g,t.w=n;var m=o(this.getBBoxLR(),2),v=m[0],y=m[1];t.L=v,t.R=y,u.isPercent(f)||this.setColumnPWidths()},e.prototype.setChildPWidths=function(t,e,i){var n=this.node.attributes.get("width");if(!u.isPercent(n))return!1;this.hasLabels||(this.bbox.pwidth="",this.container.bbox.pwidth="");var r=this.bbox,o=r.w,s=r.L,a=r.R,h=Math.max(o,this.length2em(n,Math.max(e,s+o+a))),c=this.node.attributes.get("equalcolumns")?Array(this.numCols).fill(this.percent(1/Math.max(1,this.numCols))):this.getColumnAttributes("columnwidth",0);this.cWidths=this.getColumnWidthsFixed(c,h);var f=this.getComputedWidths();return this.pWidth=l.sum(f.concat(this.cLines,this.cSpace))+2*(this.fLine+this.fSpace[0]),this.isTop&&(this.bbox.w=this.pWidth),this.setColumnPWidths(),this.pWidth!==o&&this.parent.invalidateBBox(),this.pWidth!==o},e.prototype.setColumnPWidths=function(){var t,e,i=this.cWidths;try{for(var n=a(this.pwidthCells),r=n.next();!r.done;r=n.next()){var s=o(r.value,2),h=s[0],u=s[1];h.setChildPWidths(!1,i[u])&&(h.invalidateBBox(),h.getBBox())}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.getBBoxHD=function(t){var e=o(this.getAlignmentRow(),2),i=e[0],n=e[1];if(null===n){var r=this.font.params.axis_height,s=t/2;return{top:[0,t],center:[s,s],bottom:[t,0],baseline:[s,s],axis:[s+r,s-r]}[i]||[s,s]}var a=this.getVerticalPosition(n,i);return[a,t-a]},e.prototype.getBBoxLR=function(){if(this.hasLabels){var t=this.node.attributes.get("side"),e=o(this.getPadAlignShift(t),2),i=e[0];return"center"===e[1]?[i,i]:"left"===t?[i,0]:[0,i]}return[0,0]},e.prototype.getPadAlignShift=function(t){var e=this.getTableData().L+this.length2em(this.node.attributes.get("minlabelspacing")),i=o(null==this.styles?["",""]:[this.styles.get("padding-left"),this.styles.get("padding-right")],2),n=i[0],r=i[1];(n||r)&&(e=Math.max(e,this.length2em(n||"0"),this.length2em(r||"0")));var s=o(this.getAlignShift(),2),a=s[0],h=s[1];return a===t&&(h="left"===t?Math.max(e,h)-e:Math.min(-e,h)+e),[e,a,h]},e.prototype.getAlignShift=function(){return this.isTop?t.prototype.getAlignShift.call(this):[this.container.getChildAlign(this.containerI),0]},e.prototype.getWidth=function(){return this.pWidth||this.getBBox().w},e.prototype.getEqualRowHeight=function(){var t=this.getTableData(),e=t.H,i=t.D,n=Array.from(e.keys()).map((function(t){return e[t]+i[t]}));return Math.max.apply(Math,n)},e.prototype.getComputedWidths=function(){var t=this,e=this.getTableData().W,i=Array.from(e.keys()).map((function(i){return"number"==typeof t.cWidths[i]?t.cWidths[i]:e[i]}));return this.node.attributes.get("equalcolumns")&&(i=Array(i.length).fill(l.max(i))),i},e.prototype.getColumnWidths=function(){var t=this.node.attributes.get("width");if(this.node.attributes.get("equalcolumns"))return this.getEqualColumns(t);var e=this.getColumnAttributes("columnwidth",0);return"auto"===t?this.getColumnWidthsAuto(e):u.isPercent(t)?this.getColumnWidthsPercent(e):this.getColumnWidthsFixed(e,this.length2em(t))},e.prototype.getEqualColumns=function(t){var e,i=Math.max(1,this.numCols);if("auto"===t){var n=this.getTableData().W;e=l.max(n)}else if(u.isPercent(t))e=this.percent(1/i);else{var r=l.sum([].concat(this.cLines,this.cSpace))+2*this.fSpace[0];e=Math.max(0,this.length2em(t)-r)/i}return Array(this.numCols).fill(e)},e.prototype.getColumnWidthsAuto=function(t){var e=this;return t.map((function(t){return"auto"===t||"fit"===t?null:u.isPercent(t)?t:e.length2em(t)}))},e.prototype.getColumnWidthsPercent=function(t){var e=this,i=t.indexOf("fit")>=0,n=(i?this.getTableData():{W:null}).W;return Array.from(t.keys()).map((function(r){var o=t[r];return"fit"===o?null:"auto"===o?i?n[r]:null:u.isPercent(o)?o:e.length2em(o)}))},e.prototype.getColumnWidthsFixed=function(t,e){var i=this,n=Array.from(t.keys()),r=n.filter((function(e){return"fit"===t[e]})),o=n.filter((function(e){return"auto"===t[e]})),s=r.length||o.length,a=(s?this.getTableData():{W:null}).W,h=e-l.sum([].concat(this.cLines,this.cSpace))-2*this.fSpace[0],u=h;n.forEach((function(n){var r=t[n];u-="fit"===r||"auto"===r?a[n]:i.length2em(r,e)}));var c=s&&u>0?u/s:0;return n.map((function(e){var n=t[e];return"fit"===n?a[e]+c:"auto"===n?a[e]+(0===r.length?c:0):i.length2em(n,h)}))},e.prototype.getVerticalPosition=function(t,e){for(var i=this.node.attributes.get("equalrows"),n=this.getTableData(),r=n.H,s=n.D,a=i?this.getEqualRowHeight():0,h=this.getRowHalfSpacing(),u=this.fLine,l=0;l<t;l++)u+=h[l]+(i?a:r[l]+s[l])+h[l+1]+this.rLines[l];var c=o(i?[(a+r[t]-s[t])/2,(a-r[t]+s[t])/2]:[r[t],s[t]],2),f=c[0],p=c[1];return u+={top:0,center:h[t]+(f+p)/2,bottom:h[t]+f+p+h[t+1],baseline:h[t]+f,axis:h[t]+f-.25}[e]||0},e.prototype.getEmHalfSpacing=function(t,e){var i=this.em(t),n=this.addEm(e,2);return n.unshift(i),n.push(i),n},e.prototype.getRowHalfSpacing=function(){var t=this.rSpace.map((function(t){return t/2}));return t.unshift(this.fSpace[1]),t.push(this.fSpace[1]),t},e.prototype.getColumnHalfSpacing=function(){var t=this.cSpace.map((function(t){return t/2}));return t.unshift(this.fSpace[0]),t.push(this.fSpace[0]),t},e.prototype.getAlignmentRow=function(){var t=o(u.split(this.node.attributes.get("align")),2),e=t[0],i=t[1];if(null==i)return[e,null];var n=parseInt(i);return n<0&&(n+=this.numRows+1),[e,n<1||n>this.numRows?null:n-1]},e.prototype.getColumnAttributes=function(t,e){void 0===e&&(e=1);var i=this.numCols-e,n=this.getAttributeArray(t);if(0===n.length)return null;for(;n.length<i;)n.push(n[n.length-1]);return n.length>i&&n.splice(i),n},e.prototype.getRowAttributes=function(t,e){void 0===e&&(e=1);var i=this.numRows-e,n=this.getAttributeArray(t);if(0===n.length)return null;for(;n.length<i;)n.push(n[n.length-1]);return n.length>i&&n.splice(i),n},e.prototype.getAttributeArray=function(t){var e=this.node.attributes.get(t);return e?u.split(e):[this.node.attributes.getDefault(t)]},e.prototype.addEm=function(t,e){var i=this;return void 0===e&&(e=1),t?t.map((function(t){return i.em(t/e)})):null},e.prototype.convertLengths=function(t){var e=this;return t?t.map((function(t){return e.length2em(t)})):null},e}(t)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9tYXRoamF4LWZ1bGwvanMvb3V0cHV0L2NvbW1vbi9XcmFwcGVycy9tdGFibGUuanMiXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiX19yZWFkIiwibyIsIm4iLCJtIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJyIiwiZSIsImkiLCJjYWxsIiwiYXIiLCJuZXh0IiwiZG9uZSIsInB1c2giLCJ2YWx1ZSIsImVycm9yIiwiX19zcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJjb25jYXQiLCJfX3ZhbHVlcyIsInMiLCJUeXBlRXJyb3IiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJDb21tb25NdGFibGVNaXhpbiIsIkJCb3hfanNfMSIsInN0cmluZ19qc18xIiwibnVtZXJpY19qc18xIiwiQmFzZSIsIl9zdXBlciIsImNsYXNzXzEiLCJhcmdzIiwiX2kiLCJfdGhpcyIsImFwcGx5IiwibnVtQ29scyIsIm51bVJvd3MiLCJkYXRhIiwicHdpZHRoQ2VsbHMiLCJwV2lkdGgiLCJtYXgiLCJ0YWJsZVJvd3MiLCJtYXAiLCJyb3ciLCJudW1DZWxscyIsImNoaWxkTm9kZXMiLCJoYXNMYWJlbHMiLCJyZWR1Y2UiLCJub2RlIiwiaXNLaW5kIiwiZmluZENvbnRhaW5lciIsImlzVG9wIiwiY29udGFpbmVyIiwicGFyZW50IiwiamF4IiwidGFibGUiLCJnZXRQZXJjZW50YWdlV2lkdGgiLCJhdHRyaWJ1dGVzIiwiZnJhbWUiLCJnZXQiLCJmTGluZSIsImZTcGFjZSIsImNvbnZlcnRMZW5ndGhzIiwiZ2V0QXR0cmlidXRlQXJyYXkiLCJjU3BhY2UiLCJnZXRDb2x1bW5BdHRyaWJ1dGVzIiwiclNwYWNlIiwiZ2V0Um93QXR0cmlidXRlcyIsImNMaW5lcyIsIngiLCJyTGluZXMiLCJjV2lkdGhzIiwiZ2V0Q29sdW1uV2lkdGhzIiwic3RyZXRjaFJvd3MiLCJzdHJldGNoQ29sdW1ucyIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJub3RQYXJlbnQiLCJjb250YWluZXJJIiwiY2hpbGRQb3NpdGlvbiIsImJib3giLCJwd2lkdGgiLCJCQm94IiwiZnVsbFdpZHRoIiwid2lkdGgiLCJpc1BlcmNlbnQiLCJlcXVhbCIsIkhEIiwiZ2V0RXF1YWxSb3dIZWlnaHQiLCJfYSIsImdldFRhYmxlRGF0YSIsIkgiLCJEIiwicm93cyIsImhkIiwic3RyZXRjaENoaWxkcmVuIiwic3RyZXRjaENvbHVtbiIsIlciLCJlXzEiLCJlXzIiLCJfYiIsImVfMyIsIl9jIiwic3RyZXRjaHkiLCJfZCIsIl9lIiwiY2VsbCIsImdldENoaWxkIiwiY2hpbGQiLCJzdHJldGNoIiwiZGlyIiwiY2FuU3RyZXRjaCIsImVfMV8xIiwicmV0dXJuIiwiY291bnQiLCJub2RlQ291bnQiLCJhbGwiLCJfZiIsIl9nIiwibm9TdHJldGNoIiwidyIsImdldEJCb3giLCJlXzJfMSIsInN0cmV0Y2h5XzEiLCJzdHJldGNoeV8xXzEiLCJjb3JlTU8iLCJnZXRTdHJldGNoZWRWYXJpYW50IiwiZV8zXzEiLCJmaWxsIiwiTkgiLCJORCIsIkxXIiwiaiIsInVwZGF0ZUhEVyIsInJlY29yZFBXaWR0aENlbGwiLCJsYWJlbGVkIiwiTCIsImgiLCJjb21wdXRlQkJveCIsIl9yZWNvbXB1dGUiLCJoZWlnaHQiLCJzdW0iLCJDVyIsImdldENvbXB1dGVkV2lkdGhzIiwiTWF0aCIsImxlbmd0aDJlbSIsImdldEJCb3hIRCIsImdldEJCb3hMUiIsIlIiLCJzZXRDb2x1bW5QV2lkdGhzIiwic2V0Q2hpbGRQV2lkdGhzIiwiY3dpZHRoIiwiX2NsZWFyIiwiY29scyIsInBlcmNlbnQiLCJnZXRDb2x1bW5XaWR0aHNGaXhlZCIsImludmFsaWRhdGVCQm94IiwiZV80IiwiZV80XzEiLCJnZXRBbGlnbm1lbnRSb3ciLCJhbGlnbiIsImEiLCJmb250IiwicGFyYW1zIiwiYXhpc19oZWlnaHQiLCJoMiIsInRvcCIsImNlbnRlciIsImJvdHRvbSIsImJhc2VsaW5lIiwiYXhpcyIsInkiLCJnZXRWZXJ0aWNhbFBvc2l0aW9uIiwic2lkZSIsImdldFBhZEFsaWduU2hpZnQiLCJwYWQiLCJzdHlsZXMiLCJscGFkIiwicnBhZCIsImdldEFsaWduU2hpZnQiLCJzaGlmdCIsIm1pbiIsImdldENoaWxkQWxpZ24iLCJnZXRXaWR0aCIsImZyb20iLCJrZXlzIiwiZ2V0RXF1YWxDb2x1bW5zIiwic3dpZHRocyIsImdldENvbHVtbldpZHRoc0F1dG8iLCJnZXRDb2x1bW5XaWR0aHNQZXJjZW50IiwiaGFzRml0IiwiaW5kZXhPZiIsImluZGljZXMiLCJmaXQiLCJmaWx0ZXIiLCJhdXRvIiwiZHciLCJmb3JFYWNoIiwiZnciLCJzcGFjZSIsImdldFJvd0hhbGZTcGFjaW5nIiwiZ2V0RW1IYWxmU3BhY2luZyIsImZzcGFjZSIsImZzcGFjZUVtIiwiZW0iLCJzcGFjZUVtIiwiYWRkRW0iLCJ1bnNoaWZ0IiwiZ2V0Q29sdW1uSGFsZlNwYWNpbmciLCJzcGxpdCIsInBhcnNlSW50IiwibmFtZSIsImNvbHVtbnMiLCJzcGxpY2UiLCJnZXREZWZhdWx0IiwibGlzdCJdLCJtYXBwaW5ncyI6InNRQUNBLElBQ1FBLEVBREpDLEVBQWFDLE1BQVFBLEtBQUtELFlBQ3RCRCxFQUFnQixTQUFVRyxFQUFHQyxHQUk3QixPQUhBSixFQUFnQkssT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQU9BLEVBQUVNLGVBQWVELEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLE1BQ3BETixFQUFHQyxJQUVyQixTQUFVRCxFQUFHQyxHQUVoQixTQUFTTyxJQUFPVCxLQUFLVSxZQUFjVCxFQURuQ0gsRUFBY0csRUFBR0MsR0FFakJELEVBQUVVLFVBQWtCLE9BQU5ULEVBQWFDLE9BQU9TLE9BQU9WLElBQU1PLEVBQUdFLFVBQVlULEVBQUVTLFVBQVcsSUFBSUYsS0FHbkZJLEVBQVViLE1BQVFBLEtBQUthLFFBQVcsU0FBVUMsRUFBR0MsR0FDL0MsSUFBSUMsRUFBc0IsbUJBQVhDLFFBQXlCSCxFQUFFRyxPQUFPQyxVQUNqRCxJQUFLRixFQUFHLE9BQU9GLEVBQ2YsSUFBbUJLLEVBQVlDLEVBQTNCQyxFQUFJTCxFQUFFTSxLQUFLUixHQUFPUyxFQUFLLEdBQzNCLElBQ0ksV0FBYyxJQUFOUixHQUFnQkEsS0FBTSxNQUFRSSxFQUFJRSxFQUFFRyxRQUFRQyxNQUFNRixFQUFHRyxLQUFLUCxFQUFFUSxPQUV4RSxNQUFPQyxHQUFTUixFQUFJLENBQUVRLE1BQU9BLEdBQzdCLFFBQ0ksSUFDUVQsSUFBTUEsRUFBRU0sT0FBU1QsRUFBSUssRUFBVSxTQUFJTCxFQUFFTSxLQUFLRCxHQUVsRCxRQUFVLEdBQUlELEVBQUcsTUFBTUEsRUFBRVEsT0FFN0IsT0FBT0wsR0FFUE0sRUFBWTdCLE1BQVFBLEtBQUs2QixVQUFhLFdBQ3RDLElBQUssSUFBSU4sRUFBSyxHQUFJRixFQUFJLEVBQUdBLEVBQUlTLFVBQVVDLE9BQVFWLElBQUtFLEVBQUtBLEVBQUdTLE9BQU9uQixFQUFPaUIsVUFBVVQsS0FDcEYsT0FBT0UsR0FFUFUsRUFBWWpDLE1BQVFBLEtBQUtpQyxVQUFhLFNBQVNuQixHQUMvQyxJQUFJb0IsRUFBc0IsbUJBQVhqQixRQUF5QkEsT0FBT0MsU0FBVUYsRUFBSWtCLEdBQUtwQixFQUFFb0IsR0FBSWIsRUFBSSxFQUM1RSxHQUFJTCxFQUFHLE9BQU9BLEVBQUVNLEtBQUtSLEdBQ3JCLEdBQUlBLEdBQXlCLGlCQUFiQSxFQUFFaUIsT0FBcUIsTUFBTyxDQUMxQ1AsS0FBTSxXQUVGLE9BRElWLEdBQUtPLEdBQUtQLEVBQUVpQixTQUFRakIsT0FBSSxHQUNyQixDQUFFYSxNQUFPYixHQUFLQSxFQUFFTyxLQUFNSSxNQUFPWCxLQUc1QyxNQUFNLElBQUlxQixVQUFVRCxFQUFJLDBCQUE0QixvQ0FFeEQvQixPQUFPaUMsZUFBZUMsRUFBUyxhQUFjLENBQUVWLE9BQU8sSUFDdERVLEVBQVFDLHVCQUFvQixFQUM1QixJQUFJQyxFQUFZLEVBQVEsK0NBQ3BCQyxFQUFjLEVBQVEsaURBQ3RCQyxFQUFlLEVBQVEsa0RBZ2dCM0JKLEVBQVFDLGtCQS9mUixTQUEyQkksR0FDdkIsT0FBUSxTQUFVQyxHQUVkLFNBQVNDLElBRUwsSUFEQSxJQUFJQyxFQUFPLEdBQ0ZDLEVBQUssRUFBR0EsRUFBS2hCLFVBQVVDLE9BQVFlLElBQ3BDRCxFQUFLQyxHQUFNaEIsVUFBVWdCLEdBRXpCLElBQUlDLEVBQVFKLEVBQU9LLE1BQU1oRCxLQUFNNkIsRUFBU2dCLEtBQVU3QyxLQUNsRCtDLEVBQU1FLFFBQVUsRUFDaEJGLEVBQU1HLFFBQVUsRUFDaEJILEVBQU1JLEtBQU8sS0FDYkosRUFBTUssWUFBYyxHQUNwQkwsRUFBTU0sT0FBUyxFQUNmTixFQUFNRSxRQUFVUixFQUFhYSxJQUFJUCxFQUFNUSxVQUFVQyxLQUFJLFNBQVVDLEdBQU8sT0FBT0EsRUFBSUMsYUFDakZYLEVBQU1HLFFBQVVILEVBQU1ZLFdBQVc1QixPQUNqQ2dCLEVBQU1hLFVBQVliLEVBQU1ZLFdBQVdFLFFBQU8sU0FBVWxDLEVBQU84QixHQUFPLE9BQU85QixHQUFTOEIsRUFBSUssS0FBS0MsT0FBTyxpQkFBa0IsR0FDcEhoQixFQUFNaUIsZ0JBQ05qQixFQUFNa0IsT0FBU2xCLEVBQU1tQixXQUFjbkIsRUFBTW1CLFVBQVVKLEtBQUtDLE9BQU8sVUFBWWhCLEVBQU1tQixVQUFVQyxPQUN2RnBCLEVBQU1rQixRQUNObEIsRUFBTXFCLElBQUlDLE1BQVF0QixHQUV0QkEsRUFBTXVCLHFCQUNOLElBQUlDLEVBQWF4QixFQUFNZSxLQUFLUyxXQVc1QixPQVZBeEIsRUFBTXlCLE1BQW9DLFNBQTVCRCxFQUFXRSxJQUFJLFNBQzdCMUIsRUFBTTJCLE1BQVMzQixFQUFNeUIsTUFBUSxJQUFNLEVBQ25DekIsRUFBTTRCLE9BQVU1QixFQUFNeUIsTUFBUXpCLEVBQU02QixlQUFlN0IsRUFBTThCLGtCQUFrQixpQkFBbUIsQ0FBQyxFQUFHLEdBQ2xHOUIsRUFBTStCLE9BQVMvQixFQUFNNkIsZUFBZTdCLEVBQU1nQyxvQkFBb0Isa0JBQzlEaEMsRUFBTWlDLE9BQVNqQyxFQUFNNkIsZUFBZTdCLEVBQU1rQyxpQkFBaUIsZUFDM0RsQyxFQUFNbUMsT0FBU25DLEVBQU1nQyxvQkFBb0IsZUFBZXZCLEtBQUksU0FBVTJCLEdBQUssTUFBYyxTQUFOQSxFQUFlLEVBQUksT0FDdEdwQyxFQUFNcUMsT0FBU3JDLEVBQU1rQyxpQkFBaUIsWUFBWXpCLEtBQUksU0FBVTJCLEdBQUssTUFBYyxTQUFOQSxFQUFlLEVBQUksT0FDaEdwQyxFQUFNc0MsUUFBVXRDLEVBQU11QyxrQkFDdEJ2QyxFQUFNd0MsY0FDTnhDLEVBQU15QyxpQkFDQ3pDLEVBMGRYLE9BMWZBaEQsRUFBVTZDLEVBQVNELEdBa0NuQnhDLE9BQU9pQyxlQUFlUSxFQUFRakMsVUFBVyxZQUFhLENBQ2xEOEQsSUFBSyxXQUNELE9BQU96RSxLQUFLMkQsWUFFaEI4QixZQUFZLEVBQ1pDLGNBQWMsSUFFbEI5QyxFQUFRakMsVUFBVXFELGNBQWdCLFdBRzlCLElBRkEsSUFBSUYsRUFBTzlELEtBQ1BtRSxFQUFTTCxFQUFLSyxPQUNYQSxJQUFXQSxFQUFPTCxLQUFLNkIsV0FBYXhCLEVBQU9MLEtBQUtDLE9BQU8sVUFDMURELEVBQU9LLEVBQ1BBLEVBQVNBLEVBQU9BLE9BRXBCbkUsS0FBS2tFLFVBQVlDLEVBQ2pCbkUsS0FBSzRGLFdBQWE5QixFQUFLQSxLQUFLK0IsaUJBRWhDakQsRUFBUWpDLFVBQVUyRCxtQkFBcUIsV0FDbkMsR0FBSXRFLEtBQUs0RCxVQUNMNUQsS0FBSzhGLEtBQUtDLE9BQVN4RCxFQUFVeUQsS0FBS0MsY0FFakMsQ0FDRCxJQUFJQyxFQUFRbEcsS0FBSzhELEtBQUtTLFdBQVdFLElBQUksU0FDakNqQyxFQUFZMkQsVUFBVUQsS0FDdEJsRyxLQUFLOEYsS0FBS0MsT0FBU0csS0FJL0J0RCxFQUFRakMsVUFBVTRFLFlBQWMsV0FLNUIsSUFKQSxJQUFJYSxFQUFRcEcsS0FBSzhELEtBQUtTLFdBQVdFLElBQUksYUFDakM0QixFQUFNRCxFQUFRcEcsS0FBS3NHLG9CQUFzQixFQUN6Q0MsRUFBTUgsRUFBUXBHLEtBQUt3RyxlQUFpQixDQUFFQyxFQUFHLENBQUMsR0FBSUMsRUFBRyxDQUFDLElBQU9ELEVBQUlGLEVBQUdFLEVBQUdDLEVBQUlILEVBQUdHLEVBQzFFQyxFQUFPM0csS0FBS3VELFVBQ1BsQyxFQUFJLEVBQUdBLEVBQUlyQixLQUFLa0QsUUFBUzdCLElBQUssQ0FDbkMsSUFBSXVGLEVBQU1SLEVBQVEsRUFBRUMsRUFBS0ksRUFBRXBGLEdBQUtxRixFQUFFckYsSUFBTSxHQUFJZ0YsRUFBS0ksRUFBRXBGLEdBQUtxRixFQUFFckYsSUFBTSxHQUFLLEtBQ3JFc0YsRUFBS3RGLEdBQUd3RixnQkFBZ0JELEtBR2hDaEUsRUFBUWpDLFVBQVU2RSxlQUFpQixXQUMvQixJQUFLLElBQUluRSxFQUFJLEVBQUdBLEVBQUlyQixLQUFLaUQsUUFBUzVCLElBQUssQ0FDbkMsSUFBSTZFLEVBQW9DLGlCQUFwQmxHLEtBQUtxRixRQUFRaEUsR0FBa0JyQixLQUFLcUYsUUFBUWhFLEdBQUssS0FDckVyQixLQUFLOEcsY0FBY3pGLEVBQUc2RSxLQUc5QnRELEVBQVFqQyxVQUFVbUcsY0FBZ0IsU0FBVXpGLEVBQUcwRixHQUMzQyxJQUFJQyxFQUFLVCxFQUFJVSxFQUFLQyxFQUFJQyxFQUFLQyxFQUN2QkMsRUFBVyxHQUNmLElBQ0ksSUFBSyxJQUFJQyxFQUFLckYsRUFBU2pDLEtBQUt1RCxXQUFZZ0UsRUFBS0QsRUFBRzlGLFFBQVMrRixFQUFHOUYsS0FBTThGLEVBQUtELEVBQUc5RixPQUFRLENBRzlFLEdBRElnRyxFQURNRCxFQUFHNUYsTUFDRThGLFNBQVNwRyxHQUdNLEtBRHRCcUcsRUFBUUYsRUFBSzdELFdBQVcsSUFDbEJnRSxRQUFRQyxLQUNkRixFQUFNRyxXQUFXLElBQ2pCUixFQUFTM0YsS0FBS2dHLElBSzlCLE1BQU9JLEdBQVNkLEVBQU0sQ0FBRXBGLE1BQU9rRyxHQUMvQixRQUNJLElBQ1FQLElBQU9BLEVBQUc5RixPQUFTOEUsRUFBS2UsRUFBR1MsU0FBU3hCLEVBQUdqRixLQUFLZ0csR0FFcEQsUUFBVSxHQUFJTixFQUFLLE1BQU1BLEVBQUlwRixPQUVqQyxJQUFJb0csRUFBUVgsRUFBU3RGLE9BQ2pCa0csRUFBWWpJLEtBQUsyRCxXQUFXNUIsT0FDaEMsR0FBSWlHLEdBQVNDLEVBQVksRUFBRyxDQUN4QixHQUFVLE9BQU5sQixFQUFZLENBQ1pBLEVBQUksRUFDSixJQUFJbUIsRUFBT0YsRUFBUSxHQUFLQSxJQUFVQyxFQUNsQyxJQUNJLElBQUssSUFBSUUsRUFBS2xHLEVBQVNqQyxLQUFLdUQsV0FBWTZFLEVBQUtELEVBQUczRyxRQUFTNEcsRUFBRzNHLEtBQU0yRyxFQUFLRCxFQUFHM0csT0FBUSxDQUM5RSxJQUNJZ0csRUFDSixHQURJQSxFQURNWSxFQUFHekcsTUFDRThGLFNBQVNwRyxHQUNkLENBQ04sSUFDSWdILEVBQW1DLEtBRG5DWCxFQUFRRixFQUFLN0QsV0FBVyxJQUNMZ0UsUUFBUUMsSUFDL0IsR0FBSU0sR0FBT0csRUFBVyxDQUNsQixJQUFJQyxFQUFJWixFQUFNYSxRQUFRRixHQUFXQyxFQUM3QkEsRUFBSXZCLElBQ0pBLEVBQUl1QixNQU14QixNQUFPRSxHQUFTdkIsRUFBTSxDQUFFckYsTUFBTzRHLEdBQy9CLFFBQ0ksSUFDUUosSUFBT0EsRUFBRzNHLE9BQVN5RixFQUFLaUIsRUFBR0osU0FBU2IsRUFBRzVGLEtBQUs2RyxHQUVwRCxRQUFVLEdBQUlsQixFQUFLLE1BQU1BLEVBQUlyRixRQUdyQyxJQUNJLElBQUssSUFBSTZHLEVBQWF4RyxFQUFTb0YsR0FBV3FCLEVBQWVELEVBQVdqSCxRQUFTa0gsRUFBYWpILEtBQU1pSCxFQUFlRCxFQUFXakgsT0FBUSxDQUM5SCxJQUFJa0csS0FBUWdCLEVBQWEvRyxPQUNuQmdILFNBQVNDLG9CQUFvQixDQUFDN0IsS0FHNUMsTUFBTzhCLEdBQVMxQixFQUFNLENBQUV2RixNQUFPaUgsR0FDL0IsUUFDSSxJQUNRSCxJQUFpQkEsRUFBYWpILE9BQVMyRixFQUFLcUIsRUFBV1YsU0FBU1gsRUFBRzlGLEtBQUttSCxHQUVoRixRQUFVLEdBQUl0QixFQUFLLE1BQU1BLEVBQUl2RixVQUl6Q2dCLEVBQVFqQyxVQUFVNkYsYUFBZSxXQUM3QixHQUFJeEcsS0FBS21ELEtBQ0wsT0FBT25ELEtBQUttRCxLQVNoQixJQVBBLElBQUlzRCxFQUFJLElBQUluRyxNQUFNTixLQUFLa0QsU0FBUzRGLEtBQUssR0FDakNwQyxFQUFJLElBQUlwRyxNQUFNTixLQUFLa0QsU0FBUzRGLEtBQUssR0FDakMvQixFQUFJLElBQUl6RyxNQUFNTixLQUFLaUQsU0FBUzZGLEtBQUssR0FDakNDLEVBQUssSUFBSXpJLE1BQU1OLEtBQUtrRCxTQUNwQjhGLEVBQUssSUFBSTFJLE1BQU1OLEtBQUtrRCxTQUNwQitGLEVBQUssQ0FBQyxHQUNOdEMsRUFBTzNHLEtBQUt1RCxVQUNQMkYsRUFBSSxFQUFHQSxFQUFJdkMsRUFBSzVFLE9BQVFtSCxJQUFLLENBRWxDLElBREEsSUFBSXpGLEVBQU1rRCxFQUFLdUMsR0FDTjdILEVBQUksRUFBR0EsRUFBSW9DLEVBQUlDLFNBQVVyQyxJQUFLLENBQ25DLElBQUltRyxFQUFPL0QsRUFBSWdFLFNBQVNwRyxHQUN4QnJCLEtBQUttSixVQUFVM0IsRUFBTW5HLEVBQUc2SCxFQUFHekMsRUFBR0MsRUFBR0ssR0FDakMvRyxLQUFLb0osaUJBQWlCNUIsRUFBTW5HLEdBRWhDMEgsRUFBR0csR0FBS3pDLEVBQUV5QyxHQUNWRixFQUFHRSxHQUFLeEMsRUFBRXdDLEdBQ056RixFQUFJNEYsU0FDSnJKLEtBQUttSixVQUFVMUYsRUFBSUUsV0FBVyxHQUFJLEVBQUd1RixFQUFHekMsRUFBR0MsRUFBR3VDLEdBR3RELElBQUlLLEVBQUlMLEVBQUcsR0FFWCxPQURBakosS0FBS21ELEtBQU8sQ0FBRXNELEVBQUdBLEVBQUdDLEVBQUdBLEVBQUdLLEVBQUdBLEVBQUdnQyxHQUFJQSxFQUFJQyxHQUFJQSxFQUFJTSxFQUFHQSxHQUM1Q3RKLEtBQUttRCxNQUVoQlAsRUFBUWpDLFVBQVV3SSxVQUFZLFNBQVUzQixFQUFNbkcsRUFBRzZILEVBQUd6QyxFQUFHQyxFQUFHSyxRQUM1QyxJQUFOQSxJQUFnQkEsRUFBSSxNQUN4QixJQUFJUixFQUFLaUIsRUFBS2UsVUFBV2dCLEVBQUloRCxFQUFHZ0QsRUFBR3RKLEVBQUlzRyxFQUFHdEcsRUFBR3FJLEVBQUkvQixFQUFHK0IsRUFDaERpQixFQUFJLE1BQ0pBLEVBQUksS0FDSnRKLEVBQUksTUFDSkEsRUFBSSxLQUNKc0osRUFBSTlDLEVBQUV5QyxLQUNOekMsRUFBRXlDLEdBQUtLLEdBQ1B0SixFQUFJeUcsRUFBRXdDLEtBQ054QyxFQUFFd0MsR0FBS2pKLEdBQ1A4RyxHQUFLdUIsRUFBSXZCLEVBQUUxRixLQUNYMEYsRUFBRTFGLEdBQUtpSCxJQUVmMUYsRUFBUWpDLFVBQVV5SSxpQkFBbUIsU0FBVTVCLEVBQU1uRyxHQUM3Q21HLEVBQUs3RCxXQUFXLElBQU02RCxFQUFLN0QsV0FBVyxHQUFHNEUsVUFBVXhDLFFBQ25EL0YsS0FBS29ELFlBQVkxQixLQUFLLENBQUM4RixFQUFNbkcsS0FHckN1QixFQUFRakMsVUFBVTZJLFlBQWMsU0FBVTFELEVBQU0yRCxRQUN6QixJQUFmQSxJQUF5QkEsR0FBYSxHQUMxQyxJQUNJQyxFQUFReEQsRUFEUkssRUFBS3ZHLEtBQUt3RyxlQUFnQkMsRUFBSUYsRUFBR0UsRUFBR0MsRUFBSUgsRUFBR0csRUFFL0MsR0FBSTFHLEtBQUs4RCxLQUFLUyxXQUFXRSxJQUFJLGFBQWMsQ0FDdkMsSUFBSTRCLEVBQUtyRyxLQUFLc0csb0JBQ2RvRCxFQUFTakgsRUFBYWtILElBQUksR0FBRzNILE9BQU9oQyxLQUFLb0YsT0FBUXBGLEtBQUtnRixTQUFXcUIsRUFBS3JHLEtBQUtrRCxhQUczRXdHLEVBQVNqSCxFQUFha0gsSUFBSWxELEVBQUV6RSxPQUFPMEUsRUFBRzFHLEtBQUtvRixPQUFRcEYsS0FBS2dGLFNBRTVEMEUsR0FBVSxHQUFLMUosS0FBSzBFLE1BQVExRSxLQUFLMkUsT0FBTyxJQUN4QyxJQUFJaUYsRUFBSzVKLEtBQUs2SixvQkFDZDNELEVBQVF6RCxFQUFha0gsSUFBSUMsRUFBRzVILE9BQU9oQyxLQUFLa0YsT0FBUWxGLEtBQUs4RSxTQUFXLEdBQUs5RSxLQUFLMEUsTUFBUTFFLEtBQUsyRSxPQUFPLElBQzlGLElBQUkyRCxFQUFJdEksS0FBSzhELEtBQUtTLFdBQVdFLElBQUksU0FDdkIsU0FBTjZELElBQ0FwQyxFQUFRNEQsS0FBS3hHLElBQUl0RCxLQUFLK0osVUFBVXpCLEVBQUcsR0FBSyxFQUFJdEksS0FBSzBFLE1BQU93QixJQUU1RCxJQUFJZ0IsRUFBS3JHLEVBQU9iLEtBQUtnSyxVQUFVTixHQUFTLEdBQUlILEVBQUlyQyxFQUFHLEdBQUlqSCxFQUFJaUgsRUFBRyxHQUM5RHBCLEVBQUt5RCxFQUFJQSxFQUNUekQsRUFBSzdGLEVBQUlBLEVBQ1Q2RixFQUFLd0MsRUFBSXBDLEVBQ1QsSUFBSWtCLEVBQUt2RyxFQUFPYixLQUFLaUssWUFBYSxHQUFJWCxFQUFJbEMsRUFBRyxHQUFJOEMsRUFBSTlDLEVBQUcsR0FDeER0QixFQUFLd0QsRUFBSUEsRUFDVHhELEVBQUtvRSxFQUFJQSxFQUNKMUgsRUFBWTJELFVBQVVtQyxJQUN2QnRJLEtBQUttSyxvQkFHYnZILEVBQVFqQyxVQUFVeUosZ0JBQWtCLFNBQVVYLEVBQVlZLEVBQVFDLEdBQzlELElBQUlwRSxFQUFRbEcsS0FBSzhELEtBQUtTLFdBQVdFLElBQUksU0FDckMsSUFBS2pDLEVBQVkyRCxVQUFVRCxHQUN2QixPQUFPLEVBQ05sRyxLQUFLNEQsWUFDTjVELEtBQUs4RixLQUFLQyxPQUFTLEdBQ25CL0YsS0FBS2tFLFVBQVU0QixLQUFLQyxPQUFTLElBRWpDLElBQUlRLEVBQUt2RyxLQUFLOEYsS0FBTXdDLEVBQUkvQixFQUFHK0IsRUFBR2dCLEVBQUkvQyxFQUFHK0MsRUFBR1ksRUFBSTNELEVBQUcyRCxFQUMzQ25ELEVBQUkrQyxLQUFLeEcsSUFBSWdGLEVBQUd0SSxLQUFLK0osVUFBVTdELEVBQU80RCxLQUFLeEcsSUFBSStHLEVBQVFmLEVBQUloQixFQUFJNEIsS0FDL0RLLEVBQVF2SyxLQUFLOEQsS0FBS1MsV0FBV0UsSUFBSSxnQkFDakNuRSxNQUFNTixLQUFLaUQsU0FBUzZGLEtBQUs5SSxLQUFLd0ssUUFBUSxFQUFJVixLQUFLeEcsSUFBSSxFQUFHdEQsS0FBS2lELFdBQzNEakQsS0FBSytFLG9CQUFvQixjQUFlLEdBQzVDL0UsS0FBS3FGLFFBQVVyRixLQUFLeUsscUJBQXFCRixFQUFNeEQsR0FDL0MsSUFBSTZDLEVBQUs1SixLQUFLNkosb0JBU2QsT0FSQTdKLEtBQUtxRCxPQUFTWixFQUFha0gsSUFBSUMsRUFBRzVILE9BQU9oQyxLQUFLa0YsT0FBUWxGLEtBQUs4RSxTQUFXLEdBQUs5RSxLQUFLMEUsTUFBUTFFLEtBQUsyRSxPQUFPLElBQ2hHM0UsS0FBS2lFLFFBQ0xqRSxLQUFLOEYsS0FBS3dDLEVBQUl0SSxLQUFLcUQsUUFFdkJyRCxLQUFLbUssbUJBQ0RuSyxLQUFLcUQsU0FBV2lGLEdBQ2hCdEksS0FBS21FLE9BQU91RyxpQkFFVDFLLEtBQUtxRCxTQUFXaUYsR0FFM0IxRixFQUFRakMsVUFBVXdKLGlCQUFtQixXQUNqQyxJQUFJUSxFQUFLcEUsRUFDTFEsRUFBSS9HLEtBQUtxRixRQUNiLElBQ0ksSUFBSyxJQUFJNkIsRUFBS2pGLEVBQVNqQyxLQUFLb0QsYUFBY2dFLEVBQUtGLEVBQUcxRixRQUFTNEYsRUFBRzNGLEtBQU0yRixFQUFLRixFQUFHMUYsT0FBUSxDQUNoRixJQUFJOEYsRUFBS3pHLEVBQU91RyxFQUFHekYsTUFBTyxHQUFJNkYsRUFBT0YsRUFBRyxHQUFJakcsRUFBSWlHLEVBQUcsR0FDL0NFLEVBQUs0QyxpQkFBZ0IsRUFBT3JELEVBQUUxRixNQUM5Qm1HLEVBQUtrRCxpQkFDTGxELEVBQUtlLFlBSWpCLE1BQU9xQyxHQUFTRCxFQUFNLENBQUUvSSxNQUFPZ0osR0FDL0IsUUFDSSxJQUNReEQsSUFBT0EsRUFBRzNGLE9BQVM4RSxFQUFLVyxFQUFHYSxTQUFTeEIsRUFBR2pGLEtBQUs0RixHQUVwRCxRQUFVLEdBQUl5RCxFQUFLLE1BQU1BLEVBQUkvSSxTQUdyQ2dCLEVBQVFqQyxVQUFVcUosVUFBWSxTQUFVTixHQUNwQyxJQUFJbkQsRUFBSzFGLEVBQU9iLEtBQUs2SyxrQkFBbUIsR0FBSUMsRUFBUXZFLEVBQUcsR0FBSTlDLEVBQU04QyxFQUFHLEdBQ3BFLEdBQVksT0FBUjlDLEVBQWMsQ0FDZCxJQUFJc0gsRUFBSS9LLEtBQUtnTCxLQUFLQyxPQUFPQyxZQUNyQkMsRUFBS3pCLEVBQVMsRUFRbEIsTUFQUyxDQUNMMEIsSUFBSyxDQUFDLEVBQUcxQixHQUNUMkIsT0FBUSxDQUFDRixFQUFJQSxHQUNiRyxPQUFRLENBQUM1QixFQUFRLEdBQ2pCNkIsU0FBVSxDQUFDSixFQUFJQSxHQUNmSyxLQUFNLENBQUNMLEVBQUtKLEVBQUdJLEVBQUtKLElBRWRELElBQVUsQ0FBQ0ssRUFBSUEsR0FHekIsSUFBSU0sRUFBSXpMLEtBQUswTCxvQkFBb0JqSSxFQUFLcUgsR0FDdEMsTUFBTyxDQUFDVyxFQUFHL0IsRUFBUytCLElBRzVCN0ksRUFBUWpDLFVBQVVzSixVQUFZLFdBQzFCLEdBQUlqSyxLQUFLNEQsVUFBVyxDQUNoQixJQUFJK0gsRUFBTzNMLEtBQUs4RCxLQUFLUyxXQUFXRSxJQUFJLFFBQ2hDOEIsRUFBSzFGLEVBQU9iLEtBQUs0TCxpQkFBaUJELEdBQU8sR0FBSUUsRUFBTXRGLEVBQUcsR0FDMUQsTUFBa0IsV0FEb0RBLEVBQUcsR0FDNUMsQ0FBQ3NGLEVBQUtBLEdBQ3RCLFNBQVRGLEVBQWtCLENBQUNFLEVBQUssR0FBSyxDQUFDLEVBQUdBLEdBRXpDLE1BQU8sQ0FBQyxFQUFHLElBRWZqSixFQUFRakMsVUFBVWlMLGlCQUFtQixTQUFVRCxHQUMzQyxJQUVJRSxFQUZJN0wsS0FBS3dHLGVBQWU4QyxFQUNsQnRKLEtBQUsrSixVQUFVL0osS0FBSzhELEtBQUtTLFdBQVdFLElBQUksb0JBRTlDOEIsRUFBSzFGLEVBQXVCLE1BQWZiLEtBQUs4TCxPQUFpQixDQUFDLEdBQUksSUFDeEMsQ0FBQzlMLEtBQUs4TCxPQUFPckgsSUFBSSxnQkFBaUJ6RSxLQUFLOEwsT0FBT3JILElBQUksa0JBQW9CLEdBQUlzSCxFQUFPeEYsRUFBRyxHQUFJeUYsRUFBT3pGLEVBQUcsSUFDbEd3RixHQUFRQyxLQUNSSCxFQUFNL0IsS0FBS3hHLElBQUl1SSxFQUFLN0wsS0FBSytKLFVBQVVnQyxHQUFRLEtBQU0vTCxLQUFLK0osVUFBVWlDLEdBQVEsT0FFNUUsSUFBSTlFLEVBQUtyRyxFQUFPYixLQUFLaU0sZ0JBQWlCLEdBQUluQixFQUFRNUQsRUFBRyxHQUFJZ0YsRUFBUWhGLEVBQUcsR0FJcEUsT0FISTRELElBQVVhLElBQ1ZPLEVBQWtCLFNBQVRQLEVBQWtCN0IsS0FBS3hHLElBQUl1SSxFQUFLSyxHQUFTTCxFQUFNL0IsS0FBS3FDLEtBQUtOLEVBQUtLLEdBQVNMLEdBRTdFLENBQUNBLEVBQUtmLEVBQU9vQixJQUV4QnRKLEVBQVFqQyxVQUFVc0wsY0FBZ0IsV0FDOUIsT0FBUWpNLEtBQUtpRSxNQUFRdEIsRUFBT2hDLFVBQVVzTCxjQUFjM0ssS0FBS3RCLE1BQ3JELENBQUNBLEtBQUtrRSxVQUFVa0ksY0FBY3BNLEtBQUs0RixZQUFhLElBRXhEaEQsRUFBUWpDLFVBQVUwTCxTQUFXLFdBQ3pCLE9BQU9yTSxLQUFLcUQsUUFBVXJELEtBQUt1SSxVQUFVRCxHQUV6QzFGLEVBQVFqQyxVQUFVMkYsa0JBQW9CLFdBQ2xDLElBQUlDLEVBQUt2RyxLQUFLd0csZUFBZ0JDLEVBQUlGLEVBQUdFLEVBQUdDLEVBQUlILEVBQUdHLEVBQzNDTCxFQUFLL0YsTUFBTWdNLEtBQUs3RixFQUFFOEYsUUFBUS9JLEtBQUksU0FBVW5DLEdBQUssT0FBT29GLEVBQUVwRixHQUFLcUYsRUFBRXJGLE1BQ2pFLE9BQU95SSxLQUFLeEcsSUFBSU4sTUFBTThHLEtBQU16RCxJQUVoQ3pELEVBQVFqQyxVQUFVa0osa0JBQW9CLFdBQ2xDLElBQUk5RyxFQUFRL0MsS0FDUitHLEVBQUkvRyxLQUFLd0csZUFBZU8sRUFDeEI2QyxFQUFLdEosTUFBTWdNLEtBQUt2RixFQUFFd0YsUUFBUS9JLEtBQUksU0FBVW5DLEdBQ3hDLE1BQW9DLGlCQUFyQjBCLEVBQU1zQyxRQUFRaEUsR0FBa0IwQixFQUFNc0MsUUFBUWhFLEdBQUswRixFQUFFMUYsTUFLeEUsT0FISXJCLEtBQUs4RCxLQUFLUyxXQUFXRSxJQUFJLGtCQUN6Qm1GLEVBQUt0SixNQUFNc0osRUFBRzdILFFBQVErRyxLQUFLckcsRUFBYWEsSUFBSXNHLEtBRXpDQSxHQUVYaEgsRUFBUWpDLFVBQVUyRSxnQkFBa0IsV0FDaEMsSUFBSVksRUFBUWxHLEtBQUs4RCxLQUFLUyxXQUFXRSxJQUFJLFNBQ3JDLEdBQUl6RSxLQUFLOEQsS0FBS1MsV0FBV0UsSUFBSSxnQkFDekIsT0FBT3pFLEtBQUt3TSxnQkFBZ0J0RyxHQUVoQyxJQUFJdUcsRUFBVXpNLEtBQUsrRSxvQkFBb0IsY0FBZSxHQUN0RCxNQUFjLFNBQVZtQixFQUNPbEcsS0FBSzBNLG9CQUFvQkQsR0FFaENqSyxFQUFZMkQsVUFBVUQsR0FDZmxHLEtBQUsyTSx1QkFBdUJGLEdBRWhDek0sS0FBS3lLLHFCQUFxQmdDLEVBQVN6TSxLQUFLK0osVUFBVTdELEtBRTdEdEQsRUFBUWpDLFVBQVU2TCxnQkFBa0IsU0FBVXRHLEdBQzFDLElBQ0ltRSxFQURBdEosRUFBSStJLEtBQUt4RyxJQUFJLEVBQUd0RCxLQUFLaUQsU0FFekIsR0FBYyxTQUFWaUQsRUFBa0IsQ0FDbEIsSUFBSWEsRUFBSS9HLEtBQUt3RyxlQUFlTyxFQUM1QnNELEVBQVM1SCxFQUFhYSxJQUFJeUQsUUFFekIsR0FBSXZFLEVBQVkyRCxVQUFVRCxHQUMzQm1FLEVBQVNySyxLQUFLd0ssUUFBUSxFQUFJekosT0FFekIsQ0FDRCxJQUFJdUgsRUFBSTdGLEVBQWFrSCxJQUFJLEdBQUczSCxPQUFPaEMsS0FBS2tGLE9BQVFsRixLQUFLOEUsU0FBVyxFQUFJOUUsS0FBSzJFLE9BQU8sR0FDaEYwRixFQUFTUCxLQUFLeEcsSUFBSSxFQUFHdEQsS0FBSytKLFVBQVU3RCxHQUFTb0MsR0FBS3ZILEVBRXRELE9BQU9ULE1BQU1OLEtBQUtpRCxTQUFTNkYsS0FBS3VCLElBRXBDekgsRUFBUWpDLFVBQVUrTCxvQkFBc0IsU0FBVUQsR0FDOUMsSUFBSTFKLEVBQVEvQyxLQUNaLE9BQU95TSxFQUFRakosS0FBSSxTQUFVMkIsR0FDekIsTUFBVSxTQUFOQSxHQUFzQixRQUFOQSxFQUNULEtBQ1AzQyxFQUFZMkQsVUFBVWhCLEdBQ2ZBLEVBQ0pwQyxFQUFNZ0gsVUFBVTVFLE9BRy9CdkMsRUFBUWpDLFVBQVVnTSx1QkFBeUIsU0FBVUYsR0FDakQsSUFBSTFKLEVBQVEvQyxLQUNSNE0sRUFBU0gsRUFBUUksUUFBUSxRQUFVLEVBQ25DOUYsR0FBSzZGLEVBQVM1TSxLQUFLd0csZUFBaUIsQ0FBRU8sRUFBRyxPQUFRQSxFQUNyRCxPQUFPekcsTUFBTWdNLEtBQUtHLEVBQVFGLFFBQVEvSSxLQUFJLFNBQVVuQyxHQUM1QyxJQUFJOEQsRUFBSXNILEVBQVFwTCxHQUNoQixNQUFVLFFBQU44RCxFQUNPLEtBQ0QsU0FBTkEsRUFDUXlILEVBQVM3RixFQUFFMUYsR0FBSyxLQUN4Qm1CLEVBQVkyRCxVQUFVaEIsR0FDZkEsRUFDSnBDLEVBQU1nSCxVQUFVNUUsT0FHL0J2QyxFQUFRakMsVUFBVThKLHFCQUF1QixTQUFVZ0MsRUFBU3ZHLEdBQ3hELElBQUluRCxFQUFRL0MsS0FDUjhNLEVBQVV4TSxNQUFNZ00sS0FBS0csRUFBUUYsUUFDN0JRLEVBQU1ELEVBQVFFLFFBQU8sU0FBVTNMLEdBQUssTUFBc0IsUUFBZm9MLEVBQVFwTCxNQUNuRDRMLEVBQU9ILEVBQVFFLFFBQU8sU0FBVTNMLEdBQUssTUFBc0IsU0FBZm9MLEVBQVFwTCxNQUNwRE4sRUFBSWdNLEVBQUloTCxRQUFVa0wsRUFBS2xMLE9BQ3ZCZ0YsR0FBS2hHLEVBQUlmLEtBQUt3RyxlQUFpQixDQUFFTyxFQUFHLE9BQVFBLEVBQzVDc0QsRUFBU25FLEVBQVF6RCxFQUFha0gsSUFBSSxHQUFHM0gsT0FBT2hDLEtBQUtrRixPQUFRbEYsS0FBSzhFLFNBQVcsRUFBSTlFLEtBQUsyRSxPQUFPLEdBQ3pGdUksRUFBSzdDLEVBQ1R5QyxFQUFRSyxTQUFRLFNBQVU5TCxHQUN0QixJQUFJOEQsRUFBSXNILEVBQVFwTCxHQUNoQjZMLEdBQWEsUUFBTi9ILEdBQXFCLFNBQU5BLEVBQWU0QixFQUFFMUYsR0FBSzBCLEVBQU1nSCxVQUFVNUUsRUFBR2UsTUFFbkUsSUFBSWtILEVBQU1yTSxHQUFLbU0sRUFBSyxFQUFJQSxFQUFLbk0sRUFBSSxFQUNqQyxPQUFPK0wsRUFBUXRKLEtBQUksU0FBVW5DLEdBQ3pCLElBQUk4RCxFQUFJc0gsRUFBUXBMLEdBQ2hCLE1BQVUsUUFBTjhELEVBQ080QixFQUFFMUYsR0FBSytMLEVBQ1IsU0FBTmpJLEVBQ080QixFQUFFMUYsSUFBcUIsSUFBZjBMLEVBQUloTCxPQUFlcUwsRUFBSyxHQUNwQ3JLLEVBQU1nSCxVQUFVNUUsRUFBR2tGLE9BR2xDekgsRUFBUWpDLFVBQVUrSyxvQkFBc0IsU0FBVXJLLEVBQUd5SixHQU1qRCxJQUxBLElBQUkxRSxFQUFRcEcsS0FBSzhELEtBQUtTLFdBQVdFLElBQUksYUFDakM4QixFQUFLdkcsS0FBS3dHLGVBQWdCQyxFQUFJRixFQUFHRSxFQUFHQyxFQUFJSCxFQUFHRyxFQUMzQ0wsRUFBTUQsRUFBUXBHLEtBQUtzRyxvQkFBc0IsRUFDekMrRyxFQUFRck4sS0FBS3NOLG9CQUNiN0IsRUFBSXpMLEtBQUswRSxNQUNKd0UsRUFBSSxFQUFHQSxFQUFJN0gsRUFBRzZILElBQ25CdUMsR0FBSzRCLEVBQU1uRSxJQUFNOUMsRUFBUUMsRUFBS0ksRUFBRXlDLEdBQUt4QyxFQUFFd0MsSUFBTW1FLEVBQU1uRSxFQUFJLEdBQUtsSixLQUFLb0YsT0FBTzhELEdBRTVFLElBQUloQyxFQUFLckcsRUFBUXVGLEVBQVEsRUFBRUMsRUFBS0ksRUFBRXBGLEdBQUtxRixFQUFFckYsSUFBTSxHQUFJZ0YsRUFBS0ksRUFBRXBGLEdBQUtxRixFQUFFckYsSUFBTSxHQUFLLENBQUNvRixFQUFFcEYsR0FBSXFGLEVBQUVyRixJQUFNLEdBQUlrSSxFQUFJckMsRUFBRyxHQUFJakgsRUFBSWlILEVBQUcsR0FTakgsT0FEQXVFLEdBUGEsQ0FDVEwsSUFBSyxFQUNMQyxPQUFRZ0MsRUFBTWhNLElBQU1rSSxFQUFJdEosR0FBSyxFQUM3QnFMLE9BQVErQixFQUFNaE0sR0FBS2tJLEVBQUl0SixFQUFJb04sRUFBTWhNLEVBQUksR0FDckNrSyxTQUFVOEIsRUFBTWhNLEdBQUtrSSxFQUNyQmlDLEtBQU02QixFQUFNaE0sR0FBS2tJLEVBQUksS0FFYnVCLElBQVUsR0FHMUJsSSxFQUFRakMsVUFBVTRNLGlCQUFtQixTQUFVQyxFQUFRSCxHQUNuRCxJQUFJSSxFQUFXek4sS0FBSzBOLEdBQUdGLEdBQ25CRyxFQUFVM04sS0FBSzROLE1BQU1QLEVBQU8sR0FHaEMsT0FGQU0sRUFBUUUsUUFBUUosR0FDaEJFLEVBQVFqTSxLQUFLK0wsR0FDTkUsR0FFWC9LLEVBQVFqQyxVQUFVMk0sa0JBQW9CLFdBQ2xDLElBQUlELEVBQVFyTixLQUFLZ0YsT0FBT3hCLEtBQUksU0FBVTJCLEdBQUssT0FBT0EsRUFBSSxLQUd0RCxPQUZBa0ksRUFBTVEsUUFBUTdOLEtBQUsyRSxPQUFPLElBQzFCMEksRUFBTTNMLEtBQUsxQixLQUFLMkUsT0FBTyxJQUNoQjBJLEdBRVh6SyxFQUFRakMsVUFBVW1OLHFCQUF1QixXQUNyQyxJQUFJVCxFQUFRck4sS0FBSzhFLE9BQU90QixLQUFJLFNBQVUyQixHQUFLLE9BQU9BLEVBQUksS0FHdEQsT0FGQWtJLEVBQU1RLFFBQVE3TixLQUFLMkUsT0FBTyxJQUMxQjBJLEVBQU0zTCxLQUFLMUIsS0FBSzJFLE9BQU8sSUFDaEIwSSxHQUVYekssRUFBUWpDLFVBQVVrSyxnQkFBa0IsV0FDaEMsSUFBSXRFLEVBQUsxRixFQUFPMkIsRUFBWXVMLE1BQU0vTixLQUFLOEQsS0FBS1MsV0FBV0UsSUFBSSxVQUFXLEdBQUlxRyxFQUFRdkUsRUFBRyxHQUFJOUMsRUFBTThDLEVBQUcsR0FDbEcsR0FBVyxNQUFQOUMsRUFDQSxNQUFPLENBQUNxSCxFQUFPLE1BQ25CLElBQUl6SixFQUFJMk0sU0FBU3ZLLEdBR2pCLE9BRklwQyxFQUFJLElBQ0pBLEdBQUtyQixLQUFLa0QsUUFBVSxHQUNqQixDQUFDNEgsRUFBT3pKLEVBQUksR0FBS0EsRUFBSXJCLEtBQUtrRCxRQUFVLEtBQU83QixFQUFJLElBRTFEdUIsRUFBUWpDLFVBQVVvRSxvQkFBc0IsU0FBVWtKLEVBQU01TSxRQUMxQyxJQUFOQSxJQUFnQkEsRUFBSSxHQUN4QixJQUFJTixFQUFJZixLQUFLaUQsUUFBVTVCLEVBQ25CNk0sRUFBVWxPLEtBQUs2RSxrQkFBa0JvSixHQUNyQyxHQUF1QixJQUFuQkMsRUFBUW5NLE9BQ1IsT0FBTyxLQUNYLEtBQU9tTSxFQUFRbk0sT0FBU2hCLEdBQ3BCbU4sRUFBUXhNLEtBQUt3TSxFQUFRQSxFQUFRbk0sT0FBUyxJQUsxQyxPQUhJbU0sRUFBUW5NLE9BQVNoQixHQUNqQm1OLEVBQVFDLE9BQU9wTixHQUVabU4sR0FFWHRMLEVBQVFqQyxVQUFVc0UsaUJBQW1CLFNBQVVnSixFQUFNNU0sUUFDdkMsSUFBTkEsSUFBZ0JBLEVBQUksR0FDeEIsSUFBSU4sRUFBSWYsS0FBS2tELFFBQVU3QixFQUNuQnNGLEVBQU8zRyxLQUFLNkUsa0JBQWtCb0osR0FDbEMsR0FBb0IsSUFBaEJ0SCxFQUFLNUUsT0FDTCxPQUFPLEtBQ1gsS0FBTzRFLEVBQUs1RSxPQUFTaEIsR0FDakI0RixFQUFLakYsS0FBS2lGLEVBQUtBLEVBQUs1RSxPQUFTLElBS2pDLE9BSEk0RSxFQUFLNUUsT0FBU2hCLEdBQ2Q0RixFQUFLd0gsT0FBT3BOLEdBRVQ0RixHQUVYL0QsRUFBUWpDLFVBQVVrRSxrQkFBb0IsU0FBVW9KLEdBQzVDLElBQUl0TSxFQUFRM0IsS0FBSzhELEtBQUtTLFdBQVdFLElBQUl3SixHQUNyQyxPQUFLdE0sRUFFRWEsRUFBWXVMLE1BQU1wTSxHQURkLENBQUMzQixLQUFLOEQsS0FBS1MsV0FBVzZKLFdBQVdILEtBR2hEckwsRUFBUWpDLFVBQVVpTixNQUFRLFNBQVVTLEVBQU10TixHQUN0QyxJQUFJZ0MsRUFBUS9DLEtBRVosWUFEVSxJQUFOZSxJQUFnQkEsRUFBSSxHQUNuQnNOLEVBRUVBLEVBQUs3SyxLQUFJLFNBQVUyQixHQUFLLE9BQU9wQyxFQUFNMkssR0FBR3ZJLEVBQUlwRSxNQUR4QyxNQUdmNkIsRUFBUWpDLFVBQVVpRSxlQUFpQixTQUFVeUosR0FDekMsSUFBSXRMLEVBQVEvQyxLQUNaLE9BQUtxTyxFQUVFQSxFQUFLN0ssS0FBSSxTQUFVMkIsR0FBSyxPQUFPcEMsRUFBTWdILFVBQVU1RSxNQUQzQyxNQUdSdkMsRUEzZkosQ0E0ZkxGIiwiZmlsZSI6IjFmZDZhYjc2MmM2OWQ0NjZlODcyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX3JlYWQgPSAodGhpcyAmJiB0aGlzLl9fcmVhZCkgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gICAgaWYgKCFtKSByZXR1cm4gbztcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgICB0cnkge1xuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIGFyO1xufTtcbnZhciBfX3NwcmVhZCA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWQpIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICAgIHJldHVybiBhcjtcbn07XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbW1vbk10YWJsZU1peGluID0gdm9pZCAwO1xudmFyIEJCb3hfanNfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlsL0JCb3guanNcIik7XG52YXIgc3RyaW5nX2pzXzEgPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbC9zdHJpbmcuanNcIik7XG52YXIgbnVtZXJpY19qc18xID0gcmVxdWlyZShcIi4uLy4uLy4uL3V0aWwvbnVtZXJpYy5qc1wiKTtcbmZ1bmN0aW9uIENvbW1vbk10YWJsZU1peGluKEJhc2UpIHtcbiAgICByZXR1cm4gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKGNsYXNzXzEsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIGNsYXNzXzEoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgX19zcHJlYWQoYXJncykpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5udW1Db2xzID0gMDtcbiAgICAgICAgICAgIF90aGlzLm51bVJvd3MgPSAwO1xuICAgICAgICAgICAgX3RoaXMuZGF0YSA9IG51bGw7XG4gICAgICAgICAgICBfdGhpcy5wd2lkdGhDZWxscyA9IFtdO1xuICAgICAgICAgICAgX3RoaXMucFdpZHRoID0gMDtcbiAgICAgICAgICAgIF90aGlzLm51bUNvbHMgPSBudW1lcmljX2pzXzEubWF4KF90aGlzLnRhYmxlUm93cy5tYXAoZnVuY3Rpb24gKHJvdykgeyByZXR1cm4gcm93Lm51bUNlbGxzOyB9KSk7XG4gICAgICAgICAgICBfdGhpcy5udW1Sb3dzID0gX3RoaXMuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBfdGhpcy5oYXNMYWJlbHMgPSBfdGhpcy5jaGlsZE5vZGVzLnJlZHVjZShmdW5jdGlvbiAodmFsdWUsIHJvdykgeyByZXR1cm4gdmFsdWUgfHwgcm93Lm5vZGUuaXNLaW5kKCdtbGFiZWxlZHRyJyk7IH0sIGZhbHNlKTtcbiAgICAgICAgICAgIF90aGlzLmZpbmRDb250YWluZXIoKTtcbiAgICAgICAgICAgIF90aGlzLmlzVG9wID0gIV90aGlzLmNvbnRhaW5lciB8fCAoX3RoaXMuY29udGFpbmVyLm5vZGUuaXNLaW5kKCdtYXRoJykgJiYgIV90aGlzLmNvbnRhaW5lci5wYXJlbnQpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzVG9wKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuamF4LnRhYmxlID0gX3RoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5nZXRQZXJjZW50YWdlV2lkdGgoKTtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVzID0gX3RoaXMubm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICAgICAgX3RoaXMuZnJhbWUgPSBhdHRyaWJ1dGVzLmdldCgnZnJhbWUnKSAhPT0gJ25vbmUnO1xuICAgICAgICAgICAgX3RoaXMuZkxpbmUgPSAoX3RoaXMuZnJhbWUgPyAuMDcgOiAwKTtcbiAgICAgICAgICAgIF90aGlzLmZTcGFjZSA9IChfdGhpcy5mcmFtZSA/IF90aGlzLmNvbnZlcnRMZW5ndGhzKF90aGlzLmdldEF0dHJpYnV0ZUFycmF5KCdmcmFtZXNwYWNpbmcnKSkgOiBbMCwgMF0pO1xuICAgICAgICAgICAgX3RoaXMuY1NwYWNlID0gX3RoaXMuY29udmVydExlbmd0aHMoX3RoaXMuZ2V0Q29sdW1uQXR0cmlidXRlcygnY29sdW1uc3BhY2luZycpKTtcbiAgICAgICAgICAgIF90aGlzLnJTcGFjZSA9IF90aGlzLmNvbnZlcnRMZW5ndGhzKF90aGlzLmdldFJvd0F0dHJpYnV0ZXMoJ3Jvd3NwYWNpbmcnKSk7XG4gICAgICAgICAgICBfdGhpcy5jTGluZXMgPSBfdGhpcy5nZXRDb2x1bW5BdHRyaWJ1dGVzKCdjb2x1bW5saW5lcycpLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHggPT09ICdub25lJyA/IDAgOiAuMDcpOyB9KTtcbiAgICAgICAgICAgIF90aGlzLnJMaW5lcyA9IF90aGlzLmdldFJvd0F0dHJpYnV0ZXMoJ3Jvd2xpbmVzJykubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiAoeCA9PT0gJ25vbmUnID8gMCA6IC4wNyk7IH0pO1xuICAgICAgICAgICAgX3RoaXMuY1dpZHRocyA9IF90aGlzLmdldENvbHVtbldpZHRocygpO1xuICAgICAgICAgICAgX3RoaXMuc3RyZXRjaFJvd3MoKTtcbiAgICAgICAgICAgIF90aGlzLnN0cmV0Y2hDb2x1bW5zKCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNsYXNzXzEucHJvdG90eXBlLCBcInRhYmxlUm93c1wiLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZE5vZGVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5maW5kQ29udGFpbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50O1xuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCAmJiAocGFyZW50Lm5vZGUubm90UGFyZW50IHx8IHBhcmVudC5ub2RlLmlzS2luZCgnbXJvdycpKSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gcGFyZW50O1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJJID0gbm9kZS5ub2RlLmNoaWxkUG9zaXRpb24oKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0UGVyY2VudGFnZVdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzTGFiZWxzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYm94LnB3aWR0aCA9IEJCb3hfanNfMS5CQm94LmZ1bGxXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMubm9kZS5hdHRyaWJ1dGVzLmdldCgnd2lkdGgnKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RyaW5nX2pzXzEuaXNQZXJjZW50KHdpZHRoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJib3gucHdpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5zdHJldGNoUm93cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlcXVhbCA9IHRoaXMubm9kZS5hdHRyaWJ1dGVzLmdldCgnZXF1YWxyb3dzJyk7XG4gICAgICAgICAgICB2YXIgSEQgPSAoZXF1YWwgPyB0aGlzLmdldEVxdWFsUm93SGVpZ2h0KCkgOiAwKTtcbiAgICAgICAgICAgIHZhciBfYSA9IChlcXVhbCA/IHRoaXMuZ2V0VGFibGVEYXRhKCkgOiB7IEg6IFswXSwgRDogWzBdIH0pLCBIID0gX2EuSCwgRCA9IF9hLkQ7XG4gICAgICAgICAgICB2YXIgcm93cyA9IHRoaXMudGFibGVSb3dzO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm51bVJvd3M7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBoZCA9IChlcXVhbCA/IFsoSEQgKyBIW2ldIC0gRFtpXSkgLyAyLCAoSEQgLSBIW2ldICsgRFtpXSkgLyAyXSA6IG51bGwpO1xuICAgICAgICAgICAgICAgIHJvd3NbaV0uc3RyZXRjaENoaWxkcmVuKGhkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuc3RyZXRjaENvbHVtbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubnVtQ29sczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gKHR5cGVvZiB0aGlzLmNXaWR0aHNbaV0gPT09ICdudW1iZXInID8gdGhpcy5jV2lkdGhzW2ldIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJldGNoQ29sdW1uKGksIHdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuc3RyZXRjaENvbHVtbiA9IGZ1bmN0aW9uIChpLCBXKSB7XG4gICAgICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYiwgZV8zLCBfYztcbiAgICAgICAgICAgIHZhciBzdHJldGNoeSA9IFtdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfZCA9IF9fdmFsdWVzKHRoaXMudGFibGVSb3dzKSwgX2UgPSBfZC5uZXh0KCk7ICFfZS5kb25lOyBfZSA9IF9kLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gX2UudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gcm93LmdldENoaWxkKGkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2VsbC5jaGlsZE5vZGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnN0cmV0Y2guZGlyID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuY2FuU3RyZXRjaCgyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmV0Y2h5LnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZSAmJiAhX2UuZG9uZSAmJiAoX2EgPSBfZC5yZXR1cm4pKSBfYS5jYWxsKF9kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvdW50ID0gc3RyZXRjaHkubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIG5vZGVDb3VudCA9IHRoaXMuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY291bnQgJiYgbm9kZUNvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgIGlmIChXID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIFcgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsID0gKGNvdW50ID4gMSAmJiBjb3VudCA9PT0gbm9kZUNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9mID0gX192YWx1ZXModGhpcy50YWJsZVJvd3MpLCBfZyA9IF9mLm5leHQoKTsgIV9nLmRvbmU7IF9nID0gX2YubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IF9nLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gcm93LmdldENoaWxkKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNlbGwuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vU3RyZXRjaCA9IChjaGlsZC5zdHJldGNoLmRpciA9PT0gMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGwgfHwgbm9TdHJldGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IGNoaWxkLmdldEJCb3gobm9TdHJldGNoKS53O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPiBXKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVyA9IHc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZyAmJiAhX2cuZG9uZSAmJiAoX2IgPSBfZi5yZXR1cm4pKSBfYi5jYWxsKF9mKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzdHJldGNoeV8xID0gX192YWx1ZXMoc3RyZXRjaHkpLCBzdHJldGNoeV8xXzEgPSBzdHJldGNoeV8xLm5leHQoKTsgIXN0cmV0Y2h5XzFfMS5kb25lOyBzdHJldGNoeV8xXzEgPSBzdHJldGNoeV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gc3RyZXRjaHlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuY29yZU1PKCkuZ2V0U3RyZXRjaGVkVmFyaWFudChbV10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyZXRjaHlfMV8xICYmICFzdHJldGNoeV8xXzEuZG9uZSAmJiAoX2MgPSBzdHJldGNoeV8xLnJldHVybikpIF9jLmNhbGwoc3RyZXRjaHlfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0VGFibGVEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgSCA9IG5ldyBBcnJheSh0aGlzLm51bVJvd3MpLmZpbGwoMCk7XG4gICAgICAgICAgICB2YXIgRCA9IG5ldyBBcnJheSh0aGlzLm51bVJvd3MpLmZpbGwoMCk7XG4gICAgICAgICAgICB2YXIgVyA9IG5ldyBBcnJheSh0aGlzLm51bUNvbHMpLmZpbGwoMCk7XG4gICAgICAgICAgICB2YXIgTkggPSBuZXcgQXJyYXkodGhpcy5udW1Sb3dzKTtcbiAgICAgICAgICAgIHZhciBORCA9IG5ldyBBcnJheSh0aGlzLm51bVJvd3MpO1xuICAgICAgICAgICAgdmFyIExXID0gWzBdO1xuICAgICAgICAgICAgdmFyIHJvd3MgPSB0aGlzLnRhYmxlUm93cztcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciByb3cgPSByb3dzW2pdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93Lm51bUNlbGxzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGwgPSByb3cuZ2V0Q2hpbGQoaSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSERXKGNlbGwsIGksIGosIEgsIEQsIFcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZFBXaWR0aENlbGwoY2VsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE5IW2pdID0gSFtqXTtcbiAgICAgICAgICAgICAgICBORFtqXSA9IERbal07XG4gICAgICAgICAgICAgICAgaWYgKHJvdy5sYWJlbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSERXKHJvdy5jaGlsZE5vZGVzWzBdLCAwLCBqLCBILCBELCBMVyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIEwgPSBMV1swXTtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHsgSDogSCwgRDogRCwgVzogVywgTkg6IE5ILCBORDogTkQsIEw6IEwgfTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLnVwZGF0ZUhEVyA9IGZ1bmN0aW9uIChjZWxsLCBpLCBqLCBILCBELCBXKSB7XG4gICAgICAgICAgICBpZiAoVyA9PT0gdm9pZCAwKSB7IFcgPSBudWxsOyB9XG4gICAgICAgICAgICB2YXIgX2EgPSBjZWxsLmdldEJCb3goKSwgaCA9IF9hLmgsIGQgPSBfYS5kLCB3ID0gX2EudztcbiAgICAgICAgICAgIGlmIChoIDwgLjc1KVxuICAgICAgICAgICAgICAgIGggPSAuNzU7XG4gICAgICAgICAgICBpZiAoZCA8IC4yNSlcbiAgICAgICAgICAgICAgICBkID0gLjI1O1xuICAgICAgICAgICAgaWYgKGggPiBIW2pdKVxuICAgICAgICAgICAgICAgIEhbal0gPSBoO1xuICAgICAgICAgICAgaWYgKGQgPiBEW2pdKVxuICAgICAgICAgICAgICAgIERbal0gPSBkO1xuICAgICAgICAgICAgaWYgKFcgJiYgdyA+IFdbaV0pXG4gICAgICAgICAgICAgICAgV1tpXSA9IHc7XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLnJlY29yZFBXaWR0aENlbGwgPSBmdW5jdGlvbiAoY2VsbCwgaSkge1xuICAgICAgICAgICAgaWYgKGNlbGwuY2hpbGROb2Rlc1swXSAmJiBjZWxsLmNoaWxkTm9kZXNbMF0uZ2V0QkJveCgpLnB3aWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMucHdpZHRoQ2VsbHMucHVzaChbY2VsbCwgaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5jb21wdXRlQkJveCA9IGZ1bmN0aW9uIChiYm94LCBfcmVjb21wdXRlKSB7XG4gICAgICAgICAgICBpZiAoX3JlY29tcHV0ZSA9PT0gdm9pZCAwKSB7IF9yZWNvbXB1dGUgPSBmYWxzZTsgfVxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5nZXRUYWJsZURhdGEoKSwgSCA9IF9hLkgsIEQgPSBfYS5EO1xuICAgICAgICAgICAgdmFyIGhlaWdodCwgd2lkdGg7XG4gICAgICAgICAgICBpZiAodGhpcy5ub2RlLmF0dHJpYnV0ZXMuZ2V0KCdlcXVhbHJvd3MnKSkge1xuICAgICAgICAgICAgICAgIHZhciBIRCA9IHRoaXMuZ2V0RXF1YWxSb3dIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBudW1lcmljX2pzXzEuc3VtKFtdLmNvbmNhdCh0aGlzLnJMaW5lcywgdGhpcy5yU3BhY2UpKSArIEhEICogdGhpcy5udW1Sb3dzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gbnVtZXJpY19qc18xLnN1bShILmNvbmNhdChELCB0aGlzLnJMaW5lcywgdGhpcy5yU3BhY2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhlaWdodCArPSAyICogKHRoaXMuZkxpbmUgKyB0aGlzLmZTcGFjZVsxXSk7XG4gICAgICAgICAgICB2YXIgQ1cgPSB0aGlzLmdldENvbXB1dGVkV2lkdGhzKCk7XG4gICAgICAgICAgICB3aWR0aCA9IG51bWVyaWNfanNfMS5zdW0oQ1cuY29uY2F0KHRoaXMuY0xpbmVzLCB0aGlzLmNTcGFjZSkpICsgMiAqICh0aGlzLmZMaW5lICsgdGhpcy5mU3BhY2VbMF0pO1xuICAgICAgICAgICAgdmFyIHcgPSB0aGlzLm5vZGUuYXR0cmlidXRlcy5nZXQoJ3dpZHRoJyk7XG4gICAgICAgICAgICBpZiAodyAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1heCh0aGlzLmxlbmd0aDJlbSh3LCAwKSArIDIgKiB0aGlzLmZMaW5lLCB3aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQodGhpcy5nZXRCQm94SEQoaGVpZ2h0KSwgMiksIGggPSBfYlswXSwgZCA9IF9iWzFdO1xuICAgICAgICAgICAgYmJveC5oID0gaDtcbiAgICAgICAgICAgIGJib3guZCA9IGQ7XG4gICAgICAgICAgICBiYm94LncgPSB3aWR0aDtcbiAgICAgICAgICAgIHZhciBfYyA9IF9fcmVhZCh0aGlzLmdldEJCb3hMUigpLCAyKSwgTCA9IF9jWzBdLCBSID0gX2NbMV07XG4gICAgICAgICAgICBiYm94LkwgPSBMO1xuICAgICAgICAgICAgYmJveC5SID0gUjtcbiAgICAgICAgICAgIGlmICghc3RyaW5nX2pzXzEuaXNQZXJjZW50KHcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb2x1bW5QV2lkdGhzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLnNldENoaWxkUFdpZHRocyA9IGZ1bmN0aW9uIChfcmVjb21wdXRlLCBjd2lkdGgsIF9jbGVhcikge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5ub2RlLmF0dHJpYnV0ZXMuZ2V0KCd3aWR0aCcpO1xuICAgICAgICAgICAgaWYgKCFzdHJpbmdfanNfMS5pc1BlcmNlbnQod2lkdGgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYXNMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJib3gucHdpZHRoID0gJyc7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYmJveC5wd2lkdGggPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuYmJveCwgdyA9IF9hLncsIEwgPSBfYS5MLCBSID0gX2EuUjtcbiAgICAgICAgICAgIHZhciBXID0gTWF0aC5tYXgodywgdGhpcy5sZW5ndGgyZW0od2lkdGgsIE1hdGgubWF4KGN3aWR0aCwgTCArIHcgKyBSKSkpO1xuICAgICAgICAgICAgdmFyIGNvbHMgPSAodGhpcy5ub2RlLmF0dHJpYnV0ZXMuZ2V0KCdlcXVhbGNvbHVtbnMnKSA/XG4gICAgICAgICAgICAgICAgQXJyYXkodGhpcy5udW1Db2xzKS5maWxsKHRoaXMucGVyY2VudCgxIC8gTWF0aC5tYXgoMSwgdGhpcy5udW1Db2xzKSkpIDpcbiAgICAgICAgICAgICAgICB0aGlzLmdldENvbHVtbkF0dHJpYnV0ZXMoJ2NvbHVtbndpZHRoJywgMCkpO1xuICAgICAgICAgICAgdGhpcy5jV2lkdGhzID0gdGhpcy5nZXRDb2x1bW5XaWR0aHNGaXhlZChjb2xzLCBXKTtcbiAgICAgICAgICAgIHZhciBDVyA9IHRoaXMuZ2V0Q29tcHV0ZWRXaWR0aHMoKTtcbiAgICAgICAgICAgIHRoaXMucFdpZHRoID0gbnVtZXJpY19qc18xLnN1bShDVy5jb25jYXQodGhpcy5jTGluZXMsIHRoaXMuY1NwYWNlKSkgKyAyICogKHRoaXMuZkxpbmUgKyB0aGlzLmZTcGFjZVswXSk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1RvcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmJveC53ID0gdGhpcy5wV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldENvbHVtblBXaWR0aHMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBXaWR0aCAhPT0gdykge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmludmFsaWRhdGVCQm94KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wV2lkdGggIT09IHc7XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLnNldENvbHVtblBXaWR0aHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZV80LCBfYTtcbiAgICAgICAgICAgIHZhciBXID0gdGhpcy5jV2lkdGhzO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMucHdpZHRoQ2VsbHMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZCA9IF9fcmVhZChfYy52YWx1ZSwgMiksIGNlbGwgPSBfZFswXSwgaSA9IF9kWzFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC5zZXRDaGlsZFBXaWR0aHMoZmFsc2UsIFdbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmludmFsaWRhdGVCQm94KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmdldEJCb3goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzRfMSkgeyBlXzQgPSB7IGVycm9yOiBlXzRfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0QkJveEhEID0gZnVuY3Rpb24gKGhlaWdodCkge1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHRoaXMuZ2V0QWxpZ25tZW50Um93KCksIDIpLCBhbGlnbiA9IF9hWzBdLCByb3cgPSBfYVsxXTtcbiAgICAgICAgICAgIGlmIChyb3cgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMuZm9udC5wYXJhbXMuYXhpc19oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIGgyID0gaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICB2YXIgSEQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogWzAsIGhlaWdodF0sXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlcjogW2gyLCBoMl0sXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogW2hlaWdodCwgMF0sXG4gICAgICAgICAgICAgICAgICAgIGJhc2VsaW5lOiBbaDIsIGgyXSxcbiAgICAgICAgICAgICAgICAgICAgYXhpczogW2gyICsgYSwgaDIgLSBhXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIEhEW2FsaWduXSB8fCBbaDIsIGgyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB5ID0gdGhpcy5nZXRWZXJ0aWNhbFBvc2l0aW9uKHJvdywgYWxpZ24pO1xuICAgICAgICAgICAgICAgIHJldHVybiBbeSwgaGVpZ2h0IC0geV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmdldEJCb3hMUiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc0xhYmVscykge1xuICAgICAgICAgICAgICAgIHZhciBzaWRlID0gdGhpcy5ub2RlLmF0dHJpYnV0ZXMuZ2V0KCdzaWRlJyk7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKHRoaXMuZ2V0UGFkQWxpZ25TaGlmdChzaWRlKSwgMiksIHBhZCA9IF9hWzBdLCBhbGlnbiA9IF9hWzFdO1xuICAgICAgICAgICAgICAgIHJldHVybiAoYWxpZ24gPT09ICdjZW50ZXInID8gW3BhZCwgcGFkXSA6XG4gICAgICAgICAgICAgICAgICAgIHNpZGUgPT09ICdsZWZ0JyA/IFtwYWQsIDBdIDogWzAsIHBhZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFswLCAwXTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0UGFkQWxpZ25TaGlmdCA9IGZ1bmN0aW9uIChzaWRlKSB7XG4gICAgICAgICAgICB2YXIgTCA9IHRoaXMuZ2V0VGFibGVEYXRhKCkuTDtcbiAgICAgICAgICAgIHZhciBzZXAgPSB0aGlzLmxlbmd0aDJlbSh0aGlzLm5vZGUuYXR0cmlidXRlcy5nZXQoJ21pbmxhYmVsc3BhY2luZycpKTtcbiAgICAgICAgICAgIHZhciBwYWQgPSBMICsgc2VwO1xuICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKCh0aGlzLnN0eWxlcyA9PSBudWxsID8gWycnLCAnJ10gOlxuICAgICAgICAgICAgICAgIFt0aGlzLnN0eWxlcy5nZXQoJ3BhZGRpbmctbGVmdCcpLCB0aGlzLnN0eWxlcy5nZXQoJ3BhZGRpbmctcmlnaHQnKV0pLCAyKSwgbHBhZCA9IF9hWzBdLCBycGFkID0gX2FbMV07XG4gICAgICAgICAgICBpZiAobHBhZCB8fCBycGFkKSB7XG4gICAgICAgICAgICAgICAgcGFkID0gTWF0aC5tYXgocGFkLCB0aGlzLmxlbmd0aDJlbShscGFkIHx8ICcwJyksIHRoaXMubGVuZ3RoMmVtKHJwYWQgfHwgJzAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQodGhpcy5nZXRBbGlnblNoaWZ0KCksIDIpLCBhbGlnbiA9IF9iWzBdLCBzaGlmdCA9IF9iWzFdO1xuICAgICAgICAgICAgaWYgKGFsaWduID09PSBzaWRlKSB7XG4gICAgICAgICAgICAgICAgc2hpZnQgPSAoc2lkZSA9PT0gJ2xlZnQnID8gTWF0aC5tYXgocGFkLCBzaGlmdCkgLSBwYWQgOiBNYXRoLm1pbigtcGFkLCBzaGlmdCkgKyBwYWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtwYWQsIGFsaWduLCBzaGlmdF07XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmdldEFsaWduU2hpZnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuaXNUb3AgPyBfc3VwZXIucHJvdG90eXBlLmdldEFsaWduU2hpZnQuY2FsbCh0aGlzKSA6XG4gICAgICAgICAgICAgICAgW3RoaXMuY29udGFpbmVyLmdldENoaWxkQWxpZ24odGhpcy5jb250YWluZXJJKSwgMF0pO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBXaWR0aCB8fCB0aGlzLmdldEJCb3goKS53O1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRFcXVhbFJvd0hlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuZ2V0VGFibGVEYXRhKCksIEggPSBfYS5ILCBEID0gX2EuRDtcbiAgICAgICAgICAgIHZhciBIRCA9IEFycmF5LmZyb20oSC5rZXlzKCkpLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gSFtpXSArIERbaV07IH0pO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsIEhEKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0Q29tcHV0ZWRXaWR0aHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIFcgPSB0aGlzLmdldFRhYmxlRGF0YSgpLlc7XG4gICAgICAgICAgICB2YXIgQ1cgPSBBcnJheS5mcm9tKFcua2V5cygpKS5tYXAoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHR5cGVvZiBfdGhpcy5jV2lkdGhzW2ldID09PSAnbnVtYmVyJyA/IF90aGlzLmNXaWR0aHNbaV0gOiBXW2ldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMubm9kZS5hdHRyaWJ1dGVzLmdldCgnZXF1YWxjb2x1bW5zJykpIHtcbiAgICAgICAgICAgICAgICBDVyA9IEFycmF5KENXLmxlbmd0aCkuZmlsbChudW1lcmljX2pzXzEubWF4KENXKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQ1c7XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmdldENvbHVtbldpZHRocyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMubm9kZS5hdHRyaWJ1dGVzLmdldCgnd2lkdGgnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGUuYXR0cmlidXRlcy5nZXQoJ2VxdWFsY29sdW1ucycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RXF1YWxDb2x1bW5zKHdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzd2lkdGhzID0gdGhpcy5nZXRDb2x1bW5BdHRyaWJ1dGVzKCdjb2x1bW53aWR0aCcsIDApO1xuICAgICAgICAgICAgaWYgKHdpZHRoID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2x1bW5XaWR0aHNBdXRvKHN3aWR0aHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0cmluZ19qc18xLmlzUGVyY2VudCh3aWR0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2x1bW5XaWR0aHNQZXJjZW50KHN3aWR0aHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29sdW1uV2lkdGhzRml4ZWQoc3dpZHRocywgdGhpcy5sZW5ndGgyZW0od2lkdGgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0RXF1YWxDb2x1bW5zID0gZnVuY3Rpb24gKHdpZHRoKSB7XG4gICAgICAgICAgICB2YXIgbiA9IE1hdGgubWF4KDEsIHRoaXMubnVtQ29scyk7XG4gICAgICAgICAgICB2YXIgY3dpZHRoO1xuICAgICAgICAgICAgaWYgKHdpZHRoID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICB2YXIgVyA9IHRoaXMuZ2V0VGFibGVEYXRhKCkuVztcbiAgICAgICAgICAgICAgICBjd2lkdGggPSBudW1lcmljX2pzXzEubWF4KFcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nX2pzXzEuaXNQZXJjZW50KHdpZHRoKSkge1xuICAgICAgICAgICAgICAgIGN3aWR0aCA9IHRoaXMucGVyY2VudCgxIC8gbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdyA9IG51bWVyaWNfanNfMS5zdW0oW10uY29uY2F0KHRoaXMuY0xpbmVzLCB0aGlzLmNTcGFjZSkpICsgMiAqIHRoaXMuZlNwYWNlWzBdO1xuICAgICAgICAgICAgICAgIGN3aWR0aCA9IE1hdGgubWF4KDAsIHRoaXMubGVuZ3RoMmVtKHdpZHRoKSAtIHcpIC8gbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBBcnJheSh0aGlzLm51bUNvbHMpLmZpbGwoY3dpZHRoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0Q29sdW1uV2lkdGhzQXV0byA9IGZ1bmN0aW9uIChzd2lkdGhzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHN3aWR0aHMubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09ICdhdXRvJyB8fCB4ID09PSAnZml0JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHN0cmluZ19qc18xLmlzUGVyY2VudCh4KSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmxlbmd0aDJlbSh4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRDb2x1bW5XaWR0aHNQZXJjZW50ID0gZnVuY3Rpb24gKHN3aWR0aHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgaGFzRml0ID0gc3dpZHRocy5pbmRleE9mKCdmaXQnKSA+PSAwO1xuICAgICAgICAgICAgdmFyIFcgPSAoaGFzRml0ID8gdGhpcy5nZXRUYWJsZURhdGEoKSA6IHsgVzogbnVsbCB9KS5XO1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oc3dpZHRocy5rZXlzKCkpLm1hcChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHZhciB4ID0gc3dpZHRoc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gJ2ZpdCcpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSAnYXV0bycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaGFzRml0ID8gV1tpXSA6IG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChzdHJpbmdfanNfMS5pc1BlcmNlbnQoeCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5sZW5ndGgyZW0oeCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0Q29sdW1uV2lkdGhzRml4ZWQgPSBmdW5jdGlvbiAoc3dpZHRocywgd2lkdGgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgaW5kaWNlcyA9IEFycmF5LmZyb20oc3dpZHRocy5rZXlzKCkpO1xuICAgICAgICAgICAgdmFyIGZpdCA9IGluZGljZXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBzd2lkdGhzW2ldID09PSAnZml0JzsgfSk7XG4gICAgICAgICAgICB2YXIgYXV0byA9IGluZGljZXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBzd2lkdGhzW2ldID09PSAnYXV0byc7IH0pO1xuICAgICAgICAgICAgdmFyIG4gPSBmaXQubGVuZ3RoIHx8IGF1dG8ubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIFcgPSAobiA/IHRoaXMuZ2V0VGFibGVEYXRhKCkgOiB7IFc6IG51bGwgfSkuVztcbiAgICAgICAgICAgIHZhciBjd2lkdGggPSB3aWR0aCAtIG51bWVyaWNfanNfMS5zdW0oW10uY29uY2F0KHRoaXMuY0xpbmVzLCB0aGlzLmNTcGFjZSkpIC0gMiAqIHRoaXMuZlNwYWNlWzBdO1xuICAgICAgICAgICAgdmFyIGR3ID0gY3dpZHRoO1xuICAgICAgICAgICAgaW5kaWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBzd2lkdGhzW2ldO1xuICAgICAgICAgICAgICAgIGR3IC09ICh4ID09PSAnZml0JyB8fCB4ID09PSAnYXV0bycgPyBXW2ldIDogX3RoaXMubGVuZ3RoMmVtKHgsIHdpZHRoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBmdyA9IChuICYmIGR3ID4gMCA/IGR3IC8gbiA6IDApO1xuICAgICAgICAgICAgcmV0dXJuIGluZGljZXMubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHggPSBzd2lkdGhzW2ldO1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSAnZml0JylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdbaV0gKyBmdztcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gJ2F1dG8nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV1tpXSArIChmaXQubGVuZ3RoID09PSAwID8gZncgOiAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubGVuZ3RoMmVtKHgsIGN3aWR0aCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0VmVydGljYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIChpLCBhbGlnbikge1xuICAgICAgICAgICAgdmFyIGVxdWFsID0gdGhpcy5ub2RlLmF0dHJpYnV0ZXMuZ2V0KCdlcXVhbHJvd3MnKTtcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuZ2V0VGFibGVEYXRhKCksIEggPSBfYS5ILCBEID0gX2EuRDtcbiAgICAgICAgICAgIHZhciBIRCA9IChlcXVhbCA/IHRoaXMuZ2V0RXF1YWxSb3dIZWlnaHQoKSA6IDApO1xuICAgICAgICAgICAgdmFyIHNwYWNlID0gdGhpcy5nZXRSb3dIYWxmU3BhY2luZygpO1xuICAgICAgICAgICAgdmFyIHkgPSB0aGlzLmZMaW5lO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpOyBqKyspIHtcbiAgICAgICAgICAgICAgICB5ICs9IHNwYWNlW2pdICsgKGVxdWFsID8gSEQgOiBIW2pdICsgRFtqXSkgKyBzcGFjZVtqICsgMV0gKyB0aGlzLnJMaW5lc1tqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYiA9IF9fcmVhZCgoZXF1YWwgPyBbKEhEICsgSFtpXSAtIERbaV0pIC8gMiwgKEhEIC0gSFtpXSArIERbaV0pIC8gMl0gOiBbSFtpXSwgRFtpXV0pLCAyKSwgaCA9IF9iWzBdLCBkID0gX2JbMV07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0ge1xuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHNwYWNlW2ldICsgKGggKyBkKSAvIDIsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBzcGFjZVtpXSArIGggKyBkICsgc3BhY2VbaSArIDFdLFxuICAgICAgICAgICAgICAgIGJhc2VsaW5lOiBzcGFjZVtpXSArIGgsXG4gICAgICAgICAgICAgICAgYXhpczogc3BhY2VbaV0gKyBoIC0gLjI1XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgeSArPSBvZmZzZXRbYWxpZ25dIHx8IDA7XG4gICAgICAgICAgICByZXR1cm4geTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0RW1IYWxmU3BhY2luZyA9IGZ1bmN0aW9uIChmc3BhY2UsIHNwYWNlKSB7XG4gICAgICAgICAgICB2YXIgZnNwYWNlRW0gPSB0aGlzLmVtKGZzcGFjZSk7XG4gICAgICAgICAgICB2YXIgc3BhY2VFbSA9IHRoaXMuYWRkRW0oc3BhY2UsIDIpO1xuICAgICAgICAgICAgc3BhY2VFbS51bnNoaWZ0KGZzcGFjZUVtKTtcbiAgICAgICAgICAgIHNwYWNlRW0ucHVzaChmc3BhY2VFbSk7XG4gICAgICAgICAgICByZXR1cm4gc3BhY2VFbTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuZ2V0Um93SGFsZlNwYWNpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3BhY2UgPSB0aGlzLnJTcGFjZS5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggLyAyOyB9KTtcbiAgICAgICAgICAgIHNwYWNlLnVuc2hpZnQodGhpcy5mU3BhY2VbMV0pO1xuICAgICAgICAgICAgc3BhY2UucHVzaCh0aGlzLmZTcGFjZVsxXSk7XG4gICAgICAgICAgICByZXR1cm4gc3BhY2U7XG4gICAgICAgIH07XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmdldENvbHVtbkhhbGZTcGFjaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNwYWNlID0gdGhpcy5jU3BhY2UubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4IC8gMjsgfSk7XG4gICAgICAgICAgICBzcGFjZS51bnNoaWZ0KHRoaXMuZlNwYWNlWzBdKTtcbiAgICAgICAgICAgIHNwYWNlLnB1c2godGhpcy5mU3BhY2VbMF0pO1xuICAgICAgICAgICAgcmV0dXJuIHNwYWNlO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRBbGlnbm1lbnRSb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoc3RyaW5nX2pzXzEuc3BsaXQodGhpcy5ub2RlLmF0dHJpYnV0ZXMuZ2V0KCdhbGlnbicpKSwgMiksIGFsaWduID0gX2FbMF0sIHJvdyA9IF9hWzFdO1xuICAgICAgICAgICAgaWYgKHJvdyA9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBbYWxpZ24sIG51bGxdO1xuICAgICAgICAgICAgdmFyIGkgPSBwYXJzZUludChyb3cpO1xuICAgICAgICAgICAgaWYgKGkgPCAwKVxuICAgICAgICAgICAgICAgIGkgKz0gdGhpcy5udW1Sb3dzICsgMTtcbiAgICAgICAgICAgIHJldHVybiBbYWxpZ24sIGkgPCAxIHx8IGkgPiB0aGlzLm51bVJvd3MgPyBudWxsIDogaSAtIDFdO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRDb2x1bW5BdHRyaWJ1dGVzID0gZnVuY3Rpb24gKG5hbWUsIGkpIHtcbiAgICAgICAgICAgIGlmIChpID09PSB2b2lkIDApIHsgaSA9IDE7IH1cbiAgICAgICAgICAgIHZhciBuID0gdGhpcy5udW1Db2xzIC0gaTtcbiAgICAgICAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5nZXRBdHRyaWJ1dGVBcnJheShuYW1lKTtcbiAgICAgICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHdoaWxlIChjb2x1bW5zLmxlbmd0aCA8IG4pIHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zLnB1c2goY29sdW1uc1tjb2x1bW5zLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCA+IG4pIHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zLnNwbGljZShuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2x1bW5zO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRSb3dBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKG5hbWUsIGkpIHtcbiAgICAgICAgICAgIGlmIChpID09PSB2b2lkIDApIHsgaSA9IDE7IH1cbiAgICAgICAgICAgIHZhciBuID0gdGhpcy5udW1Sb3dzIC0gaTtcbiAgICAgICAgICAgIHZhciByb3dzID0gdGhpcy5nZXRBdHRyaWJ1dGVBcnJheShuYW1lKTtcbiAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHdoaWxlIChyb3dzLmxlbmd0aCA8IG4pIHtcbiAgICAgICAgICAgICAgICByb3dzLnB1c2gocm93c1tyb3dzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dzLmxlbmd0aCA+IG4pIHtcbiAgICAgICAgICAgICAgICByb3dzLnNwbGljZShuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByb3dzO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVBcnJheSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLm5vZGUuYXR0cmlidXRlcy5nZXQobmFtZSk7XG4gICAgICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgICAgIHJldHVybiBbdGhpcy5ub2RlLmF0dHJpYnV0ZXMuZ2V0RGVmYXVsdChuYW1lKV07XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nX2pzXzEuc3BsaXQodmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5hZGRFbSA9IGZ1bmN0aW9uIChsaXN0LCBuKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKG4gPT09IHZvaWQgMCkgeyBuID0gMTsgfVxuICAgICAgICAgICAgaWYgKCFsaXN0KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3QubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiBfdGhpcy5lbSh4IC8gbik7IH0pO1xuICAgICAgICB9O1xuICAgICAgICBjbGFzc18xLnByb3RvdHlwZS5jb252ZXJ0TGVuZ3RocyA9IGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFsaXN0KVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3QubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiBfdGhpcy5sZW5ndGgyZW0oeCk7IH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2xhc3NfMTtcbiAgICB9KEJhc2UpKTtcbn1cbmV4cG9ydHMuQ29tbW9uTXRhYmxlTWl4aW4gPSBDb21tb25NdGFibGVNaXhpbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW10YWJsZS5qcy5tYXAiXSwic291cmNlUm9vdCI6IiJ9