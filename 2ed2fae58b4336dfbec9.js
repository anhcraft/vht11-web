(global.webpackChunkvht11=global.webpackChunkvht11||[]).push([["C:\\Users\\huynh\\IdeaProjects\\vht11\\node_modules\\@pixi\\text-bitmap\\lib\\text-bitmap.es"],{"./node_modules/@pixi/text-bitmap/lib/text-bitmap.es.js":(e,t,i)=>{"use strict";i.r(t),i.d(t,{BitmapFont:()=>b,BitmapFontData:()=>c,BitmapFontLoader:()=>S,BitmapText:()=>T});var r=i("./node_modules/@pixi/math/lib/math.es.js"),n=i("./node_modules/@pixi/settings/lib/settings.es.js"),a=i("./node_modules/@pixi/mesh/lib/mesh.es.js"),s=i("./node_modules/@pixi/utils/lib/utils.es.js"),o=i("./node_modules/@pixi/core/lib/core.es.js"),h=i("./node_modules/@pixi/text/lib/text.es.js"),l=i("./node_modules/@pixi/display/lib/display.es.js"),u=i("./node_modules/@pixi/loaders/lib/loaders.es.js"),f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};var c=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},p=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var r in t){var n=t[r].match(/^[a-z]+/gm)[0],a=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var o in a){var h=a[o].split("="),l=h[0],u=h[1].replace(/"/gm,""),f=parseFloat(u),p=isNaN(f)?u:f;s[l]=p}i[n].push(s)}var d=new c;return i.info.forEach((function(e){return d.info.push({face:e.face,size:parseInt(e.size,10)})})),i.common.forEach((function(e){return d.common.push({lineHeight:parseInt(e.lineHeight,10)})})),i.page.forEach((function(e){return d.page.push({id:parseInt(e.id,10),file:e.file})})),i.char.forEach((function(e){return d.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),i.kerning.forEach((function(e){return d.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),d},e}(),d=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new c,i=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),o=0;o<i.length;o++)t.info.push({face:i[o].getAttribute("face"),size:parseInt(i[o].getAttribute("size"),10)});for(o=0;o<r.length;o++)t.common.push({lineHeight:parseInt(r[o].getAttribute("lineHeight"),10)});for(o=0;o<n.length;o++)t.page.push({id:parseInt(n[o].getAttribute("id"),10)||0,file:n[o].getAttribute("file")});for(o=0;o<a.length;o++){var h=a[o];t.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(o=0;o<s.length;o++)t.kerning.push({first:parseInt(s[o].getAttribute("first"),10),second:parseInt(s[o].getAttribute("second"),10),amount:parseInt(s[o].getAttribute("amount"),10)});return t},e}(),g=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new self.DOMParser).parseFromString(e,"text/xml");return d.test(t)}return!1},e.parse=function(e){var t=(new window.DOMParser).parseFromString(e,"text/xml");return d.parse(t)},e}(),m=[p,d,g];function x(e){for(var t=0;t<m.length;t++)if(m[t].test(e))return m[t];return null}function v(e,t,i,r,n,a){var s,o=i.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var l=i.dropShadow?i.dropShadowDistance:0,u=i.padding||0,f=Math.ceil(e.width/r)-l-2*u,c=Math.ceil(e.height/r)-l-2*u,p=o.slice(),d=i.fillGradientStops.slice();if(!d.length)for(var g=p.length+1,m=1;m<g;++m)d.push(m/g);if(p.unshift(o[0]),d.unshift(0),p.push(o[o.length-1]),d.push(1),i.fillGradientType===h.TEXT_GRADIENT.LINEAR_VERTICAL){s=t.createLinearGradient(f/2,u,f/2,c+u);var x=0,v=(a.fontProperties.fontSize+i.strokeThickness)/c;for(m=0;m<n.length;m++)for(var y=a.lineHeight*m,b=0;b<p.length;b++){var _=y/c+("number"==typeof d[b]?d[b]:b/p.length)*v,w=Math.max(x,_);w=Math.min(w,1),s.addColorStop(w,p[b]),x=w}}else{s=t.createLinearGradient(u,c/2,f+u,c/2);var T=p.length+1,S=1;for(m=0;m<p.length;m++){var A=void 0;A="number"==typeof d[m]?d[m]:S/T,s.addColorStop(A,p[m]),S++}}return s}function y(e,t,i,r,n,a,o){var h=i.text,l=i.fontProperties;t.translate(r,n),t.scale(a,a);var u=o.strokeThickness/2,f=-o.strokeThickness/2;t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=v(e,t,o,a,[h],i),t.strokeStyle=o.stroke,t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=v(e,t,o,a,[h],i),t.strokeStyle=o.stroke;var c=o.dropShadowColor,p=(0,s.hex2rgb)("number"==typeof c?c:(0,s.string2hex)(c));o.dropShadow?(t.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+o.dropShadowAlpha+")",t.shadowBlur=o.dropShadowBlur,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*o.dropShadowDistance,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*o.dropShadowDistance):(t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),o.stroke&&o.strokeThickness&&t.strokeText(h,u,f+i.lineHeight-l.descent),o.fill&&t.fillText(h,u,f+i.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}var b=function(){function e(e,t){var i=e.info[0],n=e.common[0],a=e.page[0],h=(0,s.getResolutionOfUrl)(a.file),l={};this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/h,this.chars={},this.pageTextures=l;for(var u=0;u<e.page.length;u++){var f=e.page[u],c=f.id,p=f.file;l[c]=t instanceof Array?t[u]:t[p]}for(u=0;u<e.char.length;u++){var d=e.char[u],g=(c=d.id,d.page),m=e.char[u],x=m.x,v=m.y,y=m.width,b=m.height,_=m.xoffset,w=m.yoffset,T=m.xadvance;x/=h,v/=h,y/=h,b/=h,_/=h,w/=h,T/=h;var S=new r.Rectangle(x+l[g].frame.x/h,v+l[g].frame.y/h,y,b);this.chars[c]={xOffset:_,yOffset:w,xAdvance:T,kerning:{},texture:new o.Texture(l[g].baseTexture,S),page:g}}for(u=0;u<e.kerning.length;u++){var A=e.kerning[u],I=A.first,P=A.second,O=A.amount;I/=h,P/=h,O/=h,this.chars[P]&&(this.chars[P].kerning[I]=O)}}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,i){var r;if(t instanceof c)r=t;else{var n=x(t);if(!n)throw new Error("Unrecognized data format for font.");r=n.parse(t)}i instanceof o.Texture&&(i=[i]);var a=new e(r,i);return e.available[a.font]=a,a},e.uninstall=function(t){var i=e.available[t];if(!i)throw new Error("No font found named '"+t+"'");i.destroy(),delete e.available[t]},e.from=function(t,i,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},e.defaultOptions,r),a=n.chars,s=n.padding,l=n.resolution,u=n.textureWidth,f=n.textureHeight,p=function(e){"string"==typeof e&&(e=[e]);for(var t=[],i=0,r=e.length;i<r;i++){var n=e[i];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var a=n[0].charCodeAt(0),s=n[1].charCodeAt(0);if(s<a)throw new Error("[BitmapFont]: Invalid character range.");for(var o=a,h=s;o<=h;o++)t.push(String.fromCharCode(o))}else t.push.apply(t,n.split(""))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(a),d=i instanceof h.TextStyle?i:new h.TextStyle(i),g=u,m=new c;m.info[0]={face:d.fontFamily,size:d.fontSize},m.common[0]={lineHeight:d.fontSize};for(var x,v,b,_=0,w=0,T=0,S=[],A=0;A<p.length;A++){x||((x=document.createElement("canvas")).width=u,x.height=f,v=x.getContext("2d"),b=new o.BaseTexture(x,{resolution:l}),S.push(new o.Texture(b)),m.page.push({id:S.length-1,file:""}));var I=h.TextMetrics.measureText(p[A],d,!1,x),P=I.width,O=Math.ceil(I.height),E=Math.ceil(("italic"===d.fontStyle?2:1)*P);if(w>=f-O*l){if(0===w)throw new Error("[BitmapFont] textureHeight "+f+"px is too small for "+d.fontSize+"px fonts");--A,x=null,v=null,b=null,w=0,_=0,T=0}else if(T=Math.max(O+I.fontProperties.descent,T),E*l+_>=g)--A,w+=T*l,w=Math.ceil(w),_=0,T=0;else{y(x,v,I,_,w,l,d);var k=I.text.charCodeAt(0);m.char.push({id:k,page:S.length-1,x:_/l,y:w/l,width:E,height:O,xoffset:0,yoffset:0,xadvance:Math.ceil(P-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0))}),_+=(E+2*s)*l,_=Math.ceil(_)}}var M=new e(m,S);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=M,M},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),_=[],w=[],T=function(e){function t(i,a){void 0===a&&(a={});var o=e.call(this)||this;o._tint=16777215,a.font&&((0,s.deprecation)("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),o._upgradeStyle(a));var h=Object.assign({},t.styleDefaults,a),l=h.align,u=h.tint,f=h.maxWidth,c=h.letterSpacing,p=h.fontName,d=h.fontSize;if(!b.available[p])throw new Error('Missing BitmapFont "'+p+'"');return o._activePagesMeshData=[],o._textWidth=0,o._textHeight=0,o._align=l,o._tint=u,o._fontName=p,o._fontSize=d||b.available[p].size,o._text=i,o._maxWidth=f,o._maxLineHeight=0,o._letterSpacing=c,o._anchor=new r.ObservablePoint((function(){o.dirty=!0}),o,0,0),o._roundPixels=n.settings.ROUND_PIXELS,o.dirty=!0,o._textureCache={},o}return function(e,t){function i(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype.updateText=function(){for(var e,t=b.available[this._fontName],i=this._fontSize/t.size,n=new r.Point,h=[],l=[],u=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",f=u.length,c=this._maxWidth*t.size/this._fontSize,p=null,d=0,g=0,m=0,x=-1,v=0,y=0,T=0,S=0;S<f;S++){var A=u.charCodeAt(S),I=u.charAt(S);if(/(?:\s)/.test(I)&&(x=S,v=d),"\r"!==I&&"\n"!==I){var P=t.chars[A];if(P){p&&P.kerning[p]&&(n.x+=P.kerning[p]);var O=w.pop()||{texture:o.Texture.EMPTY,line:0,charCode:0,position:new r.Point};O.texture=P.texture,O.line=m,O.charCode=A,O.position.x=n.x+P.xOffset+this._letterSpacing/2,O.position.y=n.y+P.yOffset,h.push(O),n.x+=P.xAdvance+this._letterSpacing,d=n.x,T=Math.max(T,P.yOffset+P.texture.height),p=A,-1!==x&&c>0&&n.x>c&&(++y,(0,s.removeItems)(h,1+x-y,1+S-x),S=x,x=-1,l.push(v),g=Math.max(g,v),m++,n.x=0,n.y+=t.lineHeight,p=null)}}else l.push(d),g=Math.max(g,d),++m,++y,n.x=0,n.y+=t.lineHeight,p=null}var E=u.charAt(u.length-1);"\r"!==E&&"\n"!==E&&(/(?:\s)/.test(E)&&(d=v),l.push(d),g=Math.max(g,d));var k=[];for(S=0;S<=m;S++){var M=0;"right"===this._align?M=g-l[S]:"center"===this._align&&(M=(g-l[S])/2),k.push(M)}var B=h.length,C={},z=[],j=this._activePagesMeshData;for(S=0;S<j.length;S++)_.push(j[S]);for(S=0;S<B;S++){var H=(G=h[S].texture).baseTexture.uid;if(!C[H]){if(!(K=_.pop())){var F=new a.MeshGeometry,N=new a.MeshMaterial(o.Texture.EMPTY);K={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new a.Mesh(F,N),vertices:null,uvs:null,indices:null}}K.index=0,K.indexCount=0,K.vertexCount=0,K.uvsCount=0,K.total=0;var L=this._textureCache;L[H]=L[H]||new o.Texture(G.baseTexture),K.mesh.texture=L[H],K.mesh.tint=this._tint,z.push(K),C[H]=K}C[H].total++}for(S=0;S<j.length;S++)-1===z.indexOf(j[S])&&this.removeChild(j[S].mesh);for(S=0;S<z.length;S++)z[S].mesh.parent!==this&&this.addChild(z[S].mesh);for(var S in this._activePagesMeshData=z,C){var D=(K=C[S]).total;if(!((null===(e=K.indices)||void 0===e?void 0:e.length)>6*D)||K.vertices.length<2*a.Mesh.BATCHABLE_SIZE)K.vertices=new Float32Array(8*D),K.uvs=new Float32Array(8*D),K.indices=new Uint16Array(6*D);else for(var U=K.total,W=K.vertices,R=4*U*2;R<W.length;R++)W[R]=0;K.mesh.size=6*D}for(S=0;S<B;S++){var X=(I=h[S]).position.x+k[I.line];this._roundPixels&&(X=Math.round(X));var G,Y=X*i,J=I.position.y*i,Z=C[(G=I.texture).baseTexture.uid],$=G.frame,V=G._uvs,q=Z.index++;Z.indices[6*q+0]=0+4*q,Z.indices[6*q+1]=1+4*q,Z.indices[6*q+2]=2+4*q,Z.indices[6*q+3]=0+4*q,Z.indices[6*q+4]=2+4*q,Z.indices[6*q+5]=3+4*q,Z.vertices[8*q+0]=Y,Z.vertices[8*q+1]=J,Z.vertices[8*q+2]=Y+$.width*i,Z.vertices[8*q+3]=J,Z.vertices[8*q+4]=Y+$.width*i,Z.vertices[8*q+5]=J+$.height*i,Z.vertices[8*q+6]=Y,Z.vertices[8*q+7]=J+$.height*i,Z.uvs[8*q+0]=V.x0,Z.uvs[8*q+1]=V.y0,Z.uvs[8*q+2]=V.x1,Z.uvs[8*q+3]=V.y1,Z.uvs[8*q+4]=V.x2,Z.uvs[8*q+5]=V.y2,Z.uvs[8*q+6]=V.x3,Z.uvs[8*q+7]=V.y3}for(var S in this._textWidth=g*i,this._textHeight=(n.y+t.lineHeight)*i,C){var K=C[S];if(0!==this.anchor.x||0!==this.anchor.y)for(var Q=0,ee=this._textWidth*this.anchor.x,te=this._textHeight*this.anchor.y,ie=0;ie<K.total;ie++)K.vertices[Q++]-=ee,K.vertices[Q++]-=te,K.vertices[Q++]-=ee,K.vertices[Q++]-=te,K.vertices[Q++]-=ee,K.vertices[Q++]-=te,K.vertices[Q++]-=ee,K.vertices[Q++]-=te;this._maxLineHeight=T*i;var re=K.mesh.geometry.getBuffer("aVertexPosition"),ne=K.mesh.geometry.getBuffer("aTextureCoord"),ae=K.mesh.geometry.getIndex();re.data=K.vertices,ne.data=K.uvs,ae.data=K.indices,re.update(),ne.update(),ae.update()}for(S=0;S<h.length;S++)w.push(h[S])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!b.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var t=e.font.split(" ");e.fontName=1===t.length?t[0]:t.slice(1).join(" "),t.length>=2&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},t.prototype.destroy=function(t){var i=this._textureCache;for(var r in i){i[r].destroy(),delete i[r]}this._textureCache=null,e.prototype.destroy.call(this,t)},t.registerFont=function(e,t){return(0,s.deprecation)("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),b.install(e,t)},Object.defineProperty(t,"fonts",{get:function(){return(0,s.deprecation)("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),b.available},enumerable:!1,configurable:!0}),t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(l.Container),S=function(){function e(){}return e.add=function(){u.LoaderResource.setExtensionXhrType("fnt",u.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,i){var r=x(t.data);if(r)for(var n=e.getBaseUrl(this,t),a=r.parse(t.data),s={},o=function(e){s[e.metadata.pageFile]=e.texture,Object.keys(s).length===a.page.length&&(t.bitmapFont=b.install(a,s),i())},h=0;h<a.page.length;++h){var l=a.page[h].file,f=n+l,c=!1;for(var p in this.resources){var d=this.resources[p];if(d.url===f){d.metadata.pageFile=l,d.texture?o(d):d.onAfterMiddleware.add(o),c=!0;break}}if(!c){var g={crossOrigin:t.crossOrigin,loadType:u.LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(f,g,o)}}else i()},e.getBaseUrl=function(t,i){var r=i.isDataUrl?"":e.dirname(i.url);return i.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aHQxMS8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdGV4dC1iaXRtYXAuZXMuanMiXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIkJpdG1hcEZvbnREYXRhIiwidGhpcyIsImluZm8iLCJjb21tb24iLCJwYWdlIiwiY2hhciIsImtlcm5pbmciLCJUZXh0Rm9ybWF0IiwidGVzdCIsImRhdGEiLCJpbmRleE9mIiwicGFyc2UiLCJ0eHQiLCJpdGVtcyIsIm1hdGNoIiwicmF3RGF0YSIsImNoYXJzIiwia2VybmluZ3MiLCJpIiwibmFtZSIsImF0dHJpYnV0ZUxpc3QiLCJpdGVtRGF0YSIsImlfMSIsInNwbGl0Iiwia2V5Iiwic3RyVmFsdWUiLCJyZXBsYWNlIiwiZmxvYXRWYWx1ZSIsInBhcnNlRmxvYXQiLCJ2YWx1ZSIsImlzTmFOIiwicHVzaCIsImZvbnQiLCJmb3JFYWNoIiwiZmFjZSIsInNpemUiLCJwYXJzZUludCIsImxpbmVIZWlnaHQiLCJpZCIsImZpbGUiLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwieG9mZnNldCIsInlvZmZzZXQiLCJ4YWR2YW5jZSIsImZpcnN0Iiwic2Vjb25kIiwiYW1vdW50IiwiWE1MRm9ybWF0IiwiWE1MRG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImdldEF0dHJpYnV0ZSIsInhtbCIsImxldHRlciIsIlhNTFN0cmluZ0Zvcm1hdCIsInNlbGYiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJ4bWxUeHQiLCJ3aW5kb3ciLCJmb3JtYXRzIiwiYXV0b0RldGVjdEZvcm1hdCIsImdlbmVyYXRlRmlsbFN0eWxlIiwiY2FudmFzIiwiY29udGV4dCIsInN0eWxlIiwicmVzb2x1dGlvbiIsImxpbmVzIiwibWV0cmljcyIsImdyYWRpZW50IiwiZmlsbFN0eWxlIiwiZmlsbCIsImlzQXJyYXkiLCJkcm9wU2hhZG93Q29ycmVjdGlvbiIsImRyb3BTaGFkb3dEaXN0YW5jZSIsInBhZGRpbmciLCJNYXRoIiwiY2VpbCIsInNsaWNlIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJsZW5ndGhQbHVzMSIsInVuc2hpZnQiLCJmaWxsR3JhZGllbnRUeXBlIiwiVEVYVF9HUkFESUVOVCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwibGFzdEl0ZXJhdGlvblN0b3AiLCJncmFkU3RvcExpbmVIZWlnaHQiLCJmb250UHJvcGVydGllcyIsImZvbnRTaXplIiwic3Ryb2tlVGhpY2tuZXNzIiwidGhpc0xpbmVUb3AiLCJqIiwiZ2xvYmFsU3RvcCIsImNsYW1wZWRTdG9wIiwibWF4IiwibWluIiwiYWRkQ29sb3JTdG9wIiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsInN0b3AiLCJkcmF3R2x5cGgiLCJ0ZXh0IiwidHJhbnNsYXRlIiwic2NhbGUiLCJ0eCIsInR5IiwidG9Gb250U3RyaW5nIiwibGluZVdpZHRoIiwidGV4dEJhc2VsaW5lIiwibGluZUpvaW4iLCJtaXRlckxpbWl0Iiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJkcm9wU2hhZG93Q29sb3IiLCJyZ2IiLCJoZXgycmdiIiwic3RyaW5nMmhleCIsImRyb3BTaGFkb3ciLCJzaGFkb3dDb2xvciIsImRyb3BTaGFkb3dBbHBoYSIsInNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJjb3MiLCJkcm9wU2hhZG93QW5nbGUiLCJzaGFkb3dPZmZzZXRZIiwic2luIiwic3Ryb2tlVGV4dCIsImRlc2NlbnQiLCJmaWxsVGV4dCIsInNldFRyYW5zZm9ybSIsIkJpdG1hcEZvbnQiLCJ0ZXh0dXJlcyIsInJlcyIsImdldFJlc29sdXRpb25PZlVybCIsInBhZ2VUZXh0dXJlcyIsIl9hIiwiX2IiLCJwYWdlXzEiLCJfYyIsInJlY3QiLCJSZWN0YW5nbGUiLCJmcmFtZSIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJ0ZXh0dXJlIiwiVGV4dHVyZSIsImJhc2VUZXh0dXJlIiwiX2QiLCJwcm90b3R5cGUiLCJkZXN0cm95IiwiaW5zdGFsbCIsImZvbnREYXRhIiwiZm9ybWF0IiwiRXJyb3IiLCJhdmFpbGFibGUiLCJ1bmluc3RhbGwiLCJmcm9tIiwidGV4dFN0eWxlIiwib3B0aW9ucyIsImFzc2lnbiIsImRlZmF1bHRPcHRpb25zIiwidGV4dHVyZVdpZHRoIiwidGV4dHVyZUhlaWdodCIsImNoYXJzTGlzdCIsInJlc3VsdCIsIml0ZW0iLCJzdGFydENvZGUiLCJjaGFyQ29kZUF0IiwiZW5kQ29kZSIsImpfMSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5IiwicmVzb2x2ZUNoYXJhY3RlcnMiLCJUZXh0U3R5bGUiLCJmb250RmFtaWx5IiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwibWF4Q2hhckhlaWdodCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJCYXNlVGV4dHVyZSIsIlRleHRNZXRyaWNzIiwidGV4dHVyZUdseXBoV2lkdGgiLCJmb250U3R5bGUiLCJ1bmRlZmluZWQiLCJBTFBIQSIsIk5VTUVSSUMiLCJBTFBIQU5VTUVSSUMiLCJBU0NJSSIsInBhZ2VNZXNoRGF0YVBvb2wiLCJjaGFyUmVuZGVyRGF0YVBvb2wiLCJCaXRtYXBUZXh0IiwiX3N1cGVyIiwiX3RoaXMiLCJjYWxsIiwiX3RpbnQiLCJkZXByZWNhdGlvbiIsIl91cGdyYWRlU3R5bGUiLCJzdHlsZURlZmF1bHRzIiwiYWxpZ24iLCJ0aW50IiwibWF4V2lkdGgiLCJsZXR0ZXJTcGFjaW5nIiwiZm9udE5hbWUiLCJfYWN0aXZlUGFnZXNNZXNoRGF0YSIsIl90ZXh0V2lkdGgiLCJfdGV4dEhlaWdodCIsIl9hbGlnbiIsIl9mb250TmFtZSIsIl9mb250U2l6ZSIsIl90ZXh0IiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9hbmNob3IiLCJPYnNlcnZhYmxlUG9pbnQiLCJkaXJ0eSIsIl9yb3VuZFBpeGVscyIsInNldHRpbmdzIiwiX3RleHR1cmVDYWNoZSIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfX2V4dGVuZHMiLCJ1cGRhdGVUZXh0IiwicG9zIiwiUG9pbnQiLCJsaW5lV2lkdGhzIiwidGV4dExlbmd0aCIsInByZXZDaGFyQ29kZSIsImxhc3RMaW5lV2lkdGgiLCJtYXhMaW5lV2lkdGgiLCJsaW5lIiwibGFzdEJyZWFrUG9zIiwibGFzdEJyZWFrV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwibWF4TGluZUhlaWdodCIsImNoYXJDb2RlIiwiY2hhckF0IiwiY2hhckRhdGEiLCJjaGFyUmVuZGVyRGF0YSIsInBvcCIsInBvc2l0aW9uIiwicmVtb3ZlSXRlbXMiLCJsYXN0Q2hhciIsImxpbmVBbGlnbk9mZnNldHMiLCJhbGlnbk9mZnNldCIsImxlbkNoYXJzIiwicGFnZXNNZXNoRGF0YSIsIm5ld1BhZ2VzTWVzaERhdGEiLCJhY3RpdmVQYWdlc01lc2hEYXRhIiwiYmFzZVRleHR1cmVVaWQiLCJ1aWQiLCJwYWdlTWVzaERhdGEiLCJnZW9tZXRyeSIsIk1lc2hHZW9tZXRyeSIsIm1hdGVyaWFsIiwiTWVzaE1hdGVyaWFsIiwiaW5kZXgiLCJpbmRleENvdW50IiwidmVydGV4Q291bnQiLCJ1dnNDb3VudCIsInRvdGFsIiwibWVzaCIsIk1lc2giLCJ2ZXJ0aWNlcyIsInV2cyIsImluZGljZXMiLCJyZW1vdmVDaGlsZCIsInBhcmVudCIsImFkZENoaWxkIiwiRmxvYXQzMkFycmF5IiwiVWludDE2QXJyYXkiLCJ0b3RhbF8xIiwib2Zmc2V0Iiwicm91bmQiLCJ4UG9zIiwieVBvcyIsInBhZ2VNZXNoIiwidGV4dHVyZUZyYW1lIiwidGV4dHVyZVV2cyIsIl91dnMiLCJ4MCIsInkwIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ4MyIsInkzIiwiYW5jaG9yIiwiYW5jaG9yT2Zmc2V0WCIsImFuY2hvck9mZnNldFkiLCJpXzIiLCJ2ZXJ0ZXhCdWZmZXIiLCJnZXRCdWZmZXIiLCJ0ZXh0dXJlQnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJnZXRJbmRleCIsInVwZGF0ZSIsInVwZGF0ZVRyYW5zZm9ybSIsInZhbGlkYXRlIiwiY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtIiwiZ2V0TG9jYWxCb3VuZHMiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsInNldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJjb3B5RnJvbSIsInZhbHVlU3BsaXQiLCJqb2luIiwicmVnaXN0ZXJGb250IiwiQ29udGFpbmVyIiwiQml0bWFwRm9udExvYWRlciIsImFkZCIsIkxvYWRlclJlc291cmNlIiwidXNlIiwicmVzb3VyY2UiLCJuZXh0IiwiYmFzZVVybCIsImdldEJhc2VVcmwiLCJjb21wbGV0ZWQiLCJtZXRhZGF0YSIsInBhZ2VGaWxlIiwia2V5cyIsImJpdG1hcEZvbnQiLCJ1cmwiLCJleGlzdHMiLCJyZXNvdXJjZXMiLCJiaXRtYXBSZXNvdXJjZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwiY3Jvc3NPcmlnaW4iLCJsb2FkVHlwZSIsImltYWdlTWV0YWRhdGEiLCJwYXJlbnRSZXNvdXJjZSIsImxvYWRlciIsInJlc1VybCIsImlzRGF0YVVybCIsImRpcm5hbWUiLCJkaXIiXSwibWFwcGluZ3MiOiJ3dUJBZ0NJQSxFQUFnQixTQUFTQyxFQUFHQyxHQUk1QixPQUhBRixFQUFnQkcsT0FBT0MsZ0JBQ2xCLENBQUVDLFVBQVcsY0FBZ0JDLE9BQVMsU0FBVUwsRUFBR0MsR0FBS0QsRUFBRUksVUFBWUgsSUFDdkUsU0FBVUQsRUFBR0MsR0FBSyxJQUFLLElBQUlLLEtBQUtMLEVBQVNBLEVBQUVNLGVBQWVELEtBQU1OLEVBQUVNLEdBQUtMLEVBQUVLLE1BQ3hETixFQUFHQyxJQWdCNUIsSUFBSU8sRUFDQSxXQUtJQyxLQUFLQyxLQUFPLEdBS1pELEtBQUtFLE9BQVMsR0FLZEYsS0FBS0csS0FBTyxHQUtaSCxLQUFLSSxLQUFPLEdBS1pK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QWtCaEIsSUFBSU8sR0FFekNNLEdBQVMsRUFDVCxPQUtSLElBQUtBLEVBQVEsQ0FFVCxJQUFJNUssRUFBVSxDQUNWZ0wsWUFBYWQsRUFBU2MsWUFDdEJDLFNBQVUsRUFBQWpCLGVBQUEsZ0JBQ1ZPLFNBQVVoVixPQUFPMEssT0FBTyxDQUFFdUssU0FBVUEsR0FBWU4sRUFBU0ssU0FBU1csZUFDbEVDLGVBQWdCakIsR0FFcEJwVSxLQUFLaVUsSUFBSVksRUFBSzNLLEVBQVNzSyxTQTdDM0JILEtBd0RSTCxFQUFpQk8sV0FBYSxTQUFVZSxFQUFRbEIsR0FDNUMsSUFBSW1CLEVBQVVuQixFQUFTb0IsVUFBcUQsR0FBekN4QixFQUFpQnlCLFFBQVFyQixFQUFTUyxLQWtCckUsT0FqQklULEVBQVNvQixZQUNNLE1BQVhELElBQ0FBLEVBQVMsSUFFVEQsRUFBT2hCLFNBQVdpQixHQUV1QyxNQUFyREQsRUFBT2hCLFFBQVFsRixPQUFPa0csRUFBT2hCLFFBQVFsUixPQUFTLEtBQzlDbVMsR0FBVSxPQUt0QkEsRUFBU0EsRUFBTzlULFFBQVE2VCxFQUFPaEIsUUFBUyxNQUVXLE1BQXJDaUIsRUFBT25HLE9BQU9tRyxFQUFPblMsT0FBUyxLQUN4Q21TLEdBQVUsS0FFUEEsR0FPWHZCLEVBQWlCeUIsUUFBVSxTQUFVWixHQUNqQyxJQUFJYSxFQUFNYixFQUNMcFQsUUFBUSxNQUFPLEtBQ2ZBLFFBQVEsTUFBTyxJQUNmQSxRQUFRLFlBQWEsSUFFMUIsT0FBSWlVLElBQVFiLEVBQ0QsSUFHTSxLQUFSYSxFQUNFLElBRUpBLEdBRUoxQixFQXRIMEIiLCJmaWxlIjoiMmVkMmZhZTU4YjQzMzZkZmJlYzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBwaXhpL3RleHQtYml0bWFwIC0gdjUuMy43XG4gKiBDb21waWxlZCBUdWUsIDI5IERlYyAyMDIwIDE5OjMwOjExIFVUQ1xuICpcbiAqIEBwaXhpL3RleHQtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBPYnNlcnZhYmxlUG9pbnQsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsLCBNZXNoIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBoZXgycmdiLCBzdHJpbmcyaGV4LCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGRlcHJlY2F0aW9uLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIE5vcm1hbGl6ZWQgcGFyc2VkIGRhdGEgZnJvbSAuZm50IGZpbGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnREYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnREYXRhKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFJbmZvW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmZvID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNvbW1vbltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tbW9uID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YVBhZ2VbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZ2UgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhQ2hhcltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFLZXJuaW5nW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXJuaW5nID0gW107XG4gICAgfVxuICAgIHJldHVybiBCaXRtYXBGb250RGF0YTtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpemVcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhQ29tbW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZUhlaWdodFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFQYWdlXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmaWxlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUNoYXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZ2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gKiBAcHJvcGVydHkge251bWJlcn0geVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0XG4gKiBAcHJvcGVydHkge251bWJlcn0geG9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlvZmZzZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4YWR2YW5jZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFLZXJuaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gZmlyc3RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZWNvbmRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbW91bnRcbiAqL1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBUZXh0LWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHRGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHR4dCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0Rm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignaW5mbyBmYWNlPScpID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0ZXh0IGZvbnQgZGF0YSB0byBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR4dCAtIFJhdyBzdHJpbmcgZGF0YSB0byBiZSBjb252ZXJ0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnREYXRhfSBQYXJzZWQgZm9udCBkYXRhXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgZGF0YSBpdGVtXG4gICAgICAgIHZhciBpdGVtcyA9IHR4dC5tYXRjaCgvXlthLXpdK1xccysuKyQvZ20pO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHtcbiAgICAgICAgICAgIGluZm86IFtdLFxuICAgICAgICAgICAgY29tbW9uOiBbXSxcbiAgICAgICAgICAgIHBhZ2U6IFtdLFxuICAgICAgICAgICAgY2hhcjogW10sXG4gICAgICAgICAgICBjaGFyczogW10sXG4gICAgICAgICAgICBrZXJuaW5nOiBbXSxcbiAgICAgICAgICAgIGtlcm5pbmdzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBpdGVtcykge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIG5hbWVcbiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbXNbaV0ubWF0Y2goL15bYS16XSsvZ20pWzBdO1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIGF0dHJpYnV0ZSBsaXN0IGFzIHN0cmluZyBleC46IFwid2lkdGg9MTBcIlxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUxpc3QgPSBpdGVtc1tpXS5tYXRjaCgvW2EtekEtWl0rPShbXlxcc1wiJ10rfFwiKFteXCJdKilcIikvZ20pO1xuICAgICAgICAgICAgLy8gQ29udmVydCBhdHRyaWJ1dGUgbGlzdCBpbnRvIGFuIG9iamVjdFxuICAgICAgICAgICAgdmFyIGl0ZW1EYXRhID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgaW4gYXR0cmlidXRlTGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGtleS12YWx1ZSBwYWlyc1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdCA9IGF0dHJpYnV0ZUxpc3RbaV8xXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBzcGxpdFswXTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXZlbnR1YWwgcXVvdGVzIGZyb20gdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgc3RyVmFsdWUgPSBzcGxpdFsxXS5yZXBsYWNlKC9cIi9nbSwgJycpO1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBjb252ZXJ0IHZhbHVlIGludG8gZmxvYXRcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQoc3RyVmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBzdHJpbmcgdmFsdWUgY2FzZSBmbG9hdCB2YWx1ZSBpcyBOYU5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpc05hTihmbG9hdFZhbHVlKSA/IHN0clZhbHVlIDogZmxvYXRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpdGVtRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQdXNoIGN1cnJlbnQgaXRlbSB0byB0aGUgcmVzdWx0aW5nIGRhdGFcbiAgICAgICAgICAgIHJhd0RhdGFbbmFtZV0ucHVzaChpdGVtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgcmF3RGF0YS5pbmZvLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGZvbnQuaW5mby5wdXNoKHtcbiAgICAgICAgICAgIGZhY2U6IGluZm8uZmFjZSxcbiAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm8uc2l6ZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY29tbW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbW1vbikgeyByZXR1cm4gZm9udC5jb21tb24ucHVzaCh7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb24ubGluZUhlaWdodCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEucGFnZS5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlKSB7IHJldHVybiBmb250LnBhZ2UucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQocGFnZS5pZCwgMTApLFxuICAgICAgICAgICAgZmlsZTogcGFnZS5maWxlLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY2hhci5mb3JFYWNoKGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiBmb250LmNoYXIucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQoY2hhci5pZCwgMTApLFxuICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQoY2hhci5wYWdlLCAxMCksXG4gICAgICAgICAgICB4OiBwYXJzZUludChjaGFyLngsIDEwKSxcbiAgICAgICAgICAgIHk6IHBhcnNlSW50KGNoYXIueSwgMTApLFxuICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGNoYXIud2lkdGgsIDEwKSxcbiAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQoY2hhci5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGNoYXIueG9mZnNldCwgMTApLFxuICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQoY2hhci55b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQoY2hhci54YWR2YW5jZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEua2VybmluZy5mb3JFYWNoKGZ1bmN0aW9uIChrZXJuaW5nKSB7IHJldHVybiBmb250Lmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZy5maXJzdCwgMTApLFxuICAgICAgICAgICAgc2Vjb25kOiBwYXJzZUludChrZXJuaW5nLnNlY29uZCwgMTApLFxuICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nLmFtb3VudCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRGb3JtYXQ7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgWE1MRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhNTEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHhtbCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBYTUxGb3JtYXQudGVzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhIGluc3RhbmNlb2YgWE1MRG9jdW1lbnRcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGhcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSAhPT0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR9IHhtbFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWwpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgdmFyIGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29tbW9uJyk7XG4gICAgICAgIHZhciBwYWdlID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciBjaGFyID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG4gICAgICAgIHZhciBrZXJuaW5nID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5pbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgIGZhY2U6IGluZm9baV0uZ2V0QXR0cmlidXRlKCdmYWNlJyksXG4gICAgICAgICAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mb1tpXS5nZXRBdHRyaWJ1dGUoJ3NpemUnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21tb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuY29tbW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbltpXS5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2VbaV0uZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICBmaWxlOiBwYWdlW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGV0dGVyID0gY2hhcltpXTtcbiAgICAgICAgICAgIGRhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgeDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneScpLCAxMCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeG9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApLFxuICAgICAgICAgICAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCksXG4gICAgICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIFhNTEZvcm1hdDtcbn0oKSk7XG5cbi8qKlxuICogQml0bWFwRm9udCBmb3JtYXQgdGhhdCdzIFhNTC1iYXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBYTUxTdHJpbmdGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWE1MU3RyaW5nRm9ybWF0KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZXNvdXJjZSByZWZlcnMgdG8gdGV4dCB4bWwgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgWE1MU3RyaW5nRm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignPGZvbnQ+JykgPiAtMSkge1xuICAgICAgICAgICAgdmFyIHhtbCA9IG5ldyBzZWxmLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhkYXRhLCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgIHJldHVybiBYTUxGb3JtYXQudGVzdCh4bWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIHRleHQgWE1MIGludG8gQml0bWFwRm9udERhdGEgdGhhdCB3ZSBjYW4gdXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHhtbFR4dFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWxUeHQpIHtcbiAgICAgICAgdmFyIHhtbCA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhtbFR4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgIHJldHVybiBYTUxGb3JtYXQucGFyc2UoeG1sKTtcbiAgICB9O1xuICAgIHJldHVybiBYTUxTdHJpbmdGb3JtYXQ7XG59KCkpO1xuXG4vLyBSZWdpc3RlcmVkIGZvcm1hdHMsIG1heWJlIG1ha2UgdGhpcyBleHRlbnNpYmxlIGluIHRoZSBmdXR1cmU/XG52YXIgZm9ybWF0cyA9IFtcbiAgICBUZXh0Rm9ybWF0LFxuICAgIFhNTEZvcm1hdCxcbiAgICBYTUxTdHJpbmdGb3JtYXQgXTtcbi8qKlxuICogQXV0by1kZXRlY3QgQml0bWFwRm9udCBwYXJzaW5nIGZvcm1hdCBiYXNlZCBvbiBkYXRhLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7YW55fSBkYXRhIC0gRGF0YSB0byBkZXRlY3QgZm9ybWF0XG4gKiBAcmV0dXJuIHthbnl9IEZvcm1hdCBvciBudWxsXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RGb3JtYXQoZGF0YSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybWF0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZm9ybWF0c1tpXS50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLy8gVE9ETzogUHJldmVudCBjb2RlIGR1cGxpY2F0aW9uIGIvdyBnZW5lcmF0ZUZpbGxTdHlsZSAmIFRleHQjZ2VuZXJhdGVGaWxsU3R5bGVcbi8qKlxuICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBsaW5lcywgbWV0cmljcykge1xuICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmZpbGw7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICAgICAgcmV0dXJuIGZpbGxTdHlsZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZmlsbFN0eWxlWzBdO1xuICAgIH1cbiAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICB2YXIgZ3JhZGllbnQ7XG4gICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgLy8gZ2VuZXJhdGVkIHdpdGggdGhlIGluY29ycmVjdCBkaW1lbnNpb25zXG4gICAgdmFyIGRyb3BTaGFkb3dDb3JyZWN0aW9uID0gKHN0eWxlLmRyb3BTaGFkb3cpID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgICAvLyBzaG91bGQgYWxzbyB0YWtlIHBhZGRpbmcgaW50byBhY2NvdW50LCBwYWRkaW5nIGNhbiBvZmZzZXQgdGhlIGdyYWRpZW50XG4gICAgdmFyIHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nIHx8IDA7XG4gICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHJlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwoY2FudmFzLmhlaWdodCAvIHJlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgIHZhciBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcbiAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKSB7XG4gICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcbiAgICBmaWxsLnB1c2goZmlsbFN0eWxlW2ZpbGxTdHlsZS5sZW5ndGggLSAxXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCBwYWRkaW5nLCB3aWR0aCAvIDIsIGhlaWdodCArIHBhZGRpbmcpO1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgLy8gVGhlcmUncyBwb3RlbnRpYWwgZm9yIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBpc3N1ZXMgYXQgdGhlIHNlYW1zIGJldHdlZW4gZ3JhZGllbnQgcmVwZWF0cy5cbiAgICAgICAgLy8gVGhlIGxvb3AgYmVsb3cgZ2VuZXJhdGVzIHRoZSBzdG9wcyBpbiBvcmRlciwgc28gdHJhY2sgdGhlIGxhc3QgZ2VuZXJhdGVkIG9uZSB0byBwcmV2ZW50XG4gICAgICAgIC8vIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBmcm9tIG1ha2luZyB1cyBnbyB0aGUgdGVlbmllc3QgYml0IGJhY2t3YXJkcywgcmVzdWx0aW5nIGluXG4gICAgICAgIC8vIHRoZSBmaXJzdCBhbmQgbGFzdCBjb2xvcnMgZ2V0dGluZyBzd2FwcGVkLlxuICAgICAgICB2YXIgbGFzdEl0ZXJhdGlvblN0b3AgPSAwO1xuICAgICAgICAvLyBBY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IGNvdW50aW5nIHNwYWNpbmcgZm9yIGxpbmVIZWlnaHQvbGVhZGluZy9kcm9wU2hhZG93IGV0Y1xuICAgICAgICB2YXIgdGV4dEhlaWdodCA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIC8vIHRleHRIZWlnaHQsIGJ1dCBhcyBhIDAtMSBzaXplIGluIGdsb2JhbCBncmFkaWVudCBzdG9wIHNwYWNlXG4gICAgICAgIHZhciBncmFkU3RvcExpbmVIZWlnaHQgPSB0ZXh0SGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGhpc0xpbmVUb3AgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgLy8gMC0xIHN0b3AgcG9pbnQgZm9yIHRoZSBjdXJyZW50IGxpbmUsIG11bHRpcGxpZWQgdG8gZ2xvYmFsIHNwYWNlIGFmdGVyd2FyZHNcbiAgICAgICAgICAgICAgICB2YXIgbGluZVN0b3AgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGogLyBmaWxsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGdsb2JhbFN0b3AgPSAodGhpc0xpbmVUb3AgLyBoZWlnaHQpICsgKGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGNvbG9yIHN0b3AgZ2VuZXJhdGlvbiBnb2luZyBiYWNrd2FyZHMgZnJvbSBmbG9hdGluZyBwb2ludCBpbXByZWNpc2lvblxuICAgICAgICAgICAgICAgIHZhciBjbGFtcGVkU3RvcCA9IE1hdGgubWF4KGxhc3RJdGVyYXRpb25TdG9wLCBnbG9iYWxTdG9wKTtcbiAgICAgICAgICAgICAgICBjbGFtcGVkU3RvcCA9IE1hdGgubWluKGNsYW1wZWRTdG9wLCAxKTsgLy8gQ2FwIGF0IDEgYXMgd2VsbCBmb3Igc2FmZXR5J3Mgc2FrZSB0byBhdm9pZCBhIHBvc3NpYmxlIHRocm93LlxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChjbGFtcGVkU3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgbGFzdEl0ZXJhdGlvblN0b3AgPSBjbGFtcGVkU3RvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSBjZW50ZXIgbGVmdCBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBjZW50ZXIgcmlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tpXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2ldKTtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3JhZGllbnQ7XG59XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZHJhd0dseXBoICYgVGV4dCN1cGRhdGVUZXh0XG4vKipcbiAqIERyYXdzIHRoZSBnbHlwaCBgbWV0cmljcy50ZXh0YCBvbiB0aGUgZ2l2ZW4gY2FudmFzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0XG4gKiBAcGFyYW0ge1RleHRNZXRyaWNzfSBtZXRyaWNzXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uXG4gKiBAcGFyYW0ge1RleHRTdHlsZX0gc3R5bGVcbiAqL1xuZnVuY3Rpb24gZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgeCwgeSwgcmVzb2x1dGlvbiwgc3R5bGUpIHtcbiAgICB2YXIgY2hhciA9IG1ldHJpY3MudGV4dDtcbiAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgIGNvbnRleHQuc2NhbGUocmVzb2x1dGlvbiwgcmVzb2x1dGlvbik7XG4gICAgdmFyIHR4ID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICB2YXIgdHkgPSAtKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpO1xuICAgIGNvbnRleHQuZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdlbmVyYXRlRmlsbFN0eWxlKGNhbnZhcywgY29udGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIFtjaGFyXSwgbWV0cmljcyk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICBjb250ZXh0LmZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcbiAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBbY2hhcl0sIG1ldHJpY3MpO1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgdmFyIGRyb3BTaGFkb3dDb2xvciA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICB2YXIgcmdiID0gaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpIHtcbiAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwicmdiYShcIiArIHJnYlswXSAqIDI1NSArIFwiLFwiICsgcmdiWzFdICogMjU1ICsgXCIsXCIgKyByZ2JbMl0gKiAyNTUgKyBcIixcIiArIHN0eWxlLmRyb3BTaGFkb3dBbHBoYSArIFwiKVwiO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSAnYmxhY2snO1xuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAwO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcykge1xuICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQoY2hhciwgdHgsIHR5ICsgbWV0cmljcy5saW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZGVzY2VudCk7XG4gICAgfVxuICAgIGlmIChzdHlsZS5maWxsKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoY2hhciwgdHgsIHR5ICsgbWV0cmljcy5saW5lSGVpZ2h0IC0gZm9udFByb3BlcnRpZXMuZGVzY2VudCk7XG4gICAgfVxuICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApOyAvLyBkZWZhdWx0cyBuZWVkZWQgZm9yIG9sZGVyIGJyb3dzZXJzIChlLmcuIE9wZXJhIDI5KVxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMCknO1xufVxuXG4vKipcbiAqIFByb2Nlc3NlcyB0aGUgcGFzc2VkIGNoYXJhY3RlciBzZXQgZGF0YSBhbmQgcmV0dXJucyBhIGZsYXR0ZW5lZCBhcnJheSBvZiBhbGwgdGhlIGNoYXJhY3RlcnMuXG4gKlxuICogSWdub3JlZCBiZWNhdXNlIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW10gfCBzdHJpbmdbXVtdIH0gY2hhcnNcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUNoYXJhY3RlcnMoY2hhcnMpIHtcbiAgICAvLyBTcGxpdCB0aGUgY2hhcnMgc3RyaW5nIGludG8gaW5kaXZpZHVhbCBjaGFyYWN0ZXJzXG4gICAgaWYgKHR5cGVvZiBjaGFycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY2hhcnMgPSBbY2hhcnNdO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgYW4gYXJyYXkgb2YgY2hhcmFjdGVycytyYW5nZXNcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSBjaGFycy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBjaGFyc1tpXTtcbiAgICAgICAgLy8gSGFuZGxlIHJhbmdlIGRlbGltaXRlZCBieSBzdGFydC9lbmQgY2hhcnNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XTogSW52YWxpZCBjaGFyYWN0ZXIgcmFuZ2UgbGVuZ3RoLCBleHBlY3RpbmcgMiBnb3QgXCIgKyBpdGVtLmxlbmd0aCArIFwiLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGFydENvZGUgPSBpdGVtWzBdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICB2YXIgZW5kQ29kZSA9IGl0ZW1bMV0uY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIGlmIChlbmRDb2RlIDwgc3RhcnRDb2RlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gc3RhcnRDb2RlLCBqXzEgPSBlbmRDb2RlOyBpXzEgPD0gal8xOyBpXzErKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaV8xKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIGEgY2hhcmFjdGVyIHNldCBzdHJpbmdcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaC5hcHBseShyZXN1bHQsIGl0ZW0uc3BsaXQoJycpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XTogRW1wdHkgc2V0IHdoZW4gcmVzb2x2aW5nIGNoYXJhY3RlcnMuJyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQml0bWFwRm9udCByZXByZXNlbnRzIGEgdHlwZWZhY2UgYXZhaWxhYmxlIGZvciB1c2Ugd2l0aCB0aGUgQml0bWFwVGV4dCBjbGFzcy4gVXNlIHRoZSBgaW5zdGFsbGBcbiAqIG1ldGhvZCBmb3IgYWRkaW5nIGEgZm9udCB0byBiZSB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJpdG1hcEZvbnREYXRhfSBkYXRhXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVbXXxPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPn0gdGV4dHVyZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBGb250KGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIHZhciBpbmZvID0gZGF0YS5pbmZvWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0gZGF0YS5jb21tb25bMF07XG4gICAgICAgIHZhciBwYWdlID0gZGF0YS5wYWdlWzBdO1xuICAgICAgICB2YXIgcmVzID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHBhZ2UuZmlsZSk7XG4gICAgICAgIHZhciBwYWdlVGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBmb250IGZhY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnQgPSBpbmZvLmZhY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IGluZm8uc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsaW5lLWhlaWdodCBvZiB0aGUgZm9udCBmYWNlIGluIHBpeGVscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUhlaWdodCA9IGNvbW1vbi5saW5lSGVpZ2h0IC8gcmVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiBjaGFyYWN0ZXJzIGJ5IGNoYXJhY3RlciBjb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGFycyA9IHt9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiBiYXNlIHBhZ2UgdGV4dHVyZXMgKGkuZS4sIHNoZWV0cyBvZiBnbHlwaHMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBwYWdlVGV4dHVyZXM7XG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGRhdGEucGFnZVtpXSwgaWQgPSBfYS5pZCwgZmlsZSA9IF9hLmZpbGU7XG4gICAgICAgICAgICBwYWdlVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZSBsZXR0ZXJzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBkYXRhLmNoYXJbaV0sIGlkID0gX2IuaWQsIHBhZ2VfMSA9IF9iLnBhZ2U7XG4gICAgICAgICAgICB2YXIgX2MgPSBkYXRhLmNoYXJbaV0sIHggPSBfYy54LCB5ID0gX2MueSwgd2lkdGggPSBfYy53aWR0aCwgaGVpZ2h0ID0gX2MuaGVpZ2h0LCB4b2Zmc2V0ID0gX2MueG9mZnNldCwgeW9mZnNldCA9IF9jLnlvZmZzZXQsIHhhZHZhbmNlID0gX2MueGFkdmFuY2U7XG4gICAgICAgICAgICB4IC89IHJlcztcbiAgICAgICAgICAgIHkgLz0gcmVzO1xuICAgICAgICAgICAgd2lkdGggLz0gcmVzO1xuICAgICAgICAgICAgaGVpZ2h0IC89IHJlcztcbiAgICAgICAgICAgIHhvZmZzZXQgLz0gcmVzO1xuICAgICAgICAgICAgeW9mZnNldCAvPSByZXM7XG4gICAgICAgICAgICB4YWR2YW5jZSAvPSByZXM7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IG5ldyBSZWN0YW5nbGUoeCArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS54IC8gcmVzKSwgeSArIChwYWdlVGV4dHVyZXNbcGFnZV8xXS5mcmFtZS55IC8gcmVzKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiB4b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHlPZmZzZXQ6IHlvZmZzZXQsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHhhZHZhbmNlLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmJhc2VUZXh0dXJlLCByZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlXzEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5rZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2QgPSBkYXRhLmtlcm5pbmdbaV0sIGZpcnN0ID0gX2QuZmlyc3QsIHNlY29uZCA9IF9kLnNlY29uZCwgYW1vdW50ID0gX2QuYW1vdW50O1xuICAgICAgICAgICAgZmlyc3QgLz0gcmVzO1xuICAgICAgICAgICAgc2Vjb25kIC89IHJlcztcbiAgICAgICAgICAgIGFtb3VudCAvPSByZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyc1tzZWNvbmRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSByZWZlcmVuY2VzIHRvIGNyZWF0ZWQgZ2x5cGggdGV4dHVyZXMuXG4gICAgICovXG4gICAgQml0bWFwRm9udC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gdGhpcy5jaGFycykge1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0udGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLnBhZ2VUZXh0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlc1tpZF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCByZWFkb25seSBudWxsLlxuICAgICAgICB0aGlzLmNoYXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgYml0bWFwIGZvbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudHxzdHJpbmd8UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YSAtIFRoZVxuICAgICAqICAgICAgICBjaGFyYWN0ZXJzIG1hcCB0aGF0IGNvdWxkIGJlIHByb3ZpZGVkIGFzIHhtbCBvciByYXcgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfVxuICAgICAqICAgICAgICB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnR9IFJlc3VsdCBmb250IG9iamVjdCB3aXRoIGZvbnQsIHNpemUsIGxpbmVIZWlnaHRcbiAgICAgKiAgICAgICAgIGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250Lmluc3RhbGwgPSBmdW5jdGlvbiAoZGF0YSwgdGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGZvbnREYXRhO1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJpdG1hcEZvbnREYXRhKSB7XG4gICAgICAgICAgICBmb250RGF0YSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChkYXRhKTtcbiAgICAgICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgZGF0YSBmb3JtYXQgZm9yIGZvbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RGF0YSA9IGZvcm1hdC5wYXJzZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcyk7XG4gICAgICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnQuZm9udF0gPSBmb250O1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBiaXRtYXAgZm9udCBieSBuYW1lLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICovXG4gICAgQml0bWFwRm9udC51bmluc3RhbGwgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgZm9udCA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICAgICAgICBpZiAoIWZvbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZvbnQgZm91bmQgbmFtZWQgJ1wiICsgbmFtZSArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBmb250LmRlc3Ryb3koKTtcbiAgICAgICAgZGVsZXRlIEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgYml0bWFwLWZvbnQgZm9yIHRoZSBnaXZlbiBzdHlsZSBhbmQgY2hhcmFjdGVyIHNldC4gVGhpcyBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICoga2VybmluZ3MgeWV0LiBXaXRoIGBzdHlsZWAgcHJvcGVydGllcywgb25seSB0aGUgZm9sbG93aW5nIG5vbi1sYXlvdXQgcHJvcGVydGllcyBhcmUgdXNlZDpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3d8ZHJvcFNoYWRvd31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93RGlzdGFuY2V8ZHJvcFNoYWRvd0Rpc3RhbmNlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dDb2xvcnxkcm9wU2hhZG93Q29sb3J9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0JsdXJ8ZHJvcFNoYWRvd0JsdXJ9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0FuZ2xlfGRyb3BTaGFkb3dBbmdsZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmaWxsfGZpbGx9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50U3RvcHN8ZmlsbEdyYWRpZW50U3RvcHN9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50VHlwZXxmaWxsR3JhZGllbnRUeXBlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRGYW1pbHl8Zm9udEZhbWlseX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250U2l6ZXxmb250U2l6ZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250VmFyaWFudHxmb250VmFyaWFudH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250V2VpZ2h0fGZvbnRXZWlnaHR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbGluZUpvaW58bGluZUpvaW59XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbWl0ZXJMaW1pdHxtaXRlckxpbWl0fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3N0cm9rZXxzdHJva2V9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjc3Ryb2tlVGhpY2tuZXNzfHN0cm9rZVRoaWNrbmVzc31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSN0ZXh0QmFzZWxpbmV8dGV4dEJhc2VsaW5lfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY3VzdG9tIGZvbnQgdG8gdXNlIHdpdGggQml0bWFwVGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFN0eWxlIG9wdGlvbnMgdG8gcmVuZGVyIHdpdGggQml0bWFwRm9udC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSUJpdG1hcEZvbnRPcHRpb25zfSBbb3B0aW9uc10gLSBTZXR1cCBvcHRpb25zIGZvciBmb250IG9yIG5hbWUgb2YgdGhlIGZvbnQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118c3RyaW5nW11bXX0gW29wdGlvbnMuY2hhcnM9UElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ10gLSBjaGFyYWN0ZXJzIGluY2x1ZGVkXG4gICAgICogICAgICBpbiB0aGUgZm9udCBzZXQuIFlvdSBjYW4gYWxzbyB1c2UgcmFuZ2VzLiBGb3IgZXhhbXBsZSwgYFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCBcIiFAIyQlXiYqKCl+e31bXSBcIl1gLlxuICAgICAqICAgICAgRG9uJ3QgZm9yZ2V0IHRvIGluY2x1ZGUgc3BhY2VzICcgJyBpbiB5b3VyIGNoYXJhY3RlciBzZXQhXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBSZW5kZXIgcmVzb2x1dGlvbiBmb3IgZ2x5cGhzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlV2lkdGg9NTEyXSAtIE9wdGlvbmFsIHdpZHRoIG9mIGF0bGFzLCBzbWFsbGVyIHZhbHVlcyB0byByZWR1Y2UgbWVtb3J5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50ZXh0dXJlSGVpZ2h0PTUxMl0gLSBPcHRpb25hbCBoZWlnaHQgb2YgYXRsYXMsIHNtYWxsZXIgdmFsdWVzIHRvIHJlZHVjZSBtZW1vcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBhZGRpbmc9NF0gLSBQYWRkaW5nIGJldHdlZW4gZ2x5cGhzIG9uIHRleHR1cmUgYXRsYXMuXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250fSBGb250IGdlbmVyYXRlZCBieSBzdHlsZSBvcHRpb25zLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIFBJWEkuQml0bWFwRm9udC5mcm9tKFwiVGl0bGVGb250XCIsIHtcbiAgICAgKiAgICAgZm9udEZhbWlseTogXCJBcmlhbFwiLFxuICAgICAqICAgICBmb250U2l6ZTogMTIsXG4gICAgICogICAgIHN0cm9rZVRoaWNrbmVzczogMixcbiAgICAgKiAgICAgZmlsbDogXCJwdXJwbGVcIlxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc3QgdGl0bGUgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwiVGhpcyBpcyB0aGUgdGl0bGVcIiwgeyBmb250TmFtZTogXCJUaXRsZUZvbnRcIiB9KTtcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmZyb20gPSBmdW5jdGlvbiAobmFtZSwgdGV4dFN0eWxlLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF0gUHJvcGVydHkgYG5hbWVgIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IE9iamVjdC5hc3NpZ24oe30sIEJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpLCBjaGFycyA9IF9hLmNoYXJzLCBwYWRkaW5nID0gX2EucGFkZGluZywgcmVzb2x1dGlvbiA9IF9hLnJlc29sdXRpb24sIHRleHR1cmVXaWR0aCA9IF9hLnRleHR1cmVXaWR0aCwgdGV4dHVyZUhlaWdodCA9IF9hLnRleHR1cmVIZWlnaHQ7XG4gICAgICAgIHZhciBjaGFyc0xpc3QgPSByZXNvbHZlQ2hhcmFjdGVycyhjaGFycyk7XG4gICAgICAgIHZhciBzdHlsZSA9IHRleHRTdHlsZSBpbnN0YW5jZW9mIFRleHRTdHlsZSA/IHRleHRTdHlsZSA6IG5ldyBUZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnREYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIGZvbnREYXRhLmluZm9bMF0gPSB7XG4gICAgICAgICAgICBmYWNlOiBzdHlsZS5mb250RmFtaWx5LFxuICAgICAgICAgICAgc2l6ZTogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIH07XG4gICAgICAgIGZvbnREYXRhLmNvbW1vblswXSA9IHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHN0eWxlLmZvbnRTaXplLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcG9zaXRpb25YID0gMDtcbiAgICAgICAgdmFyIHBvc2l0aW9uWSA9IDA7XG4gICAgICAgIHZhciBjYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0O1xuICAgICAgICB2YXIgYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGV4dHVyZUhlaWdodDtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoY2FudmFzLCB7IHJlc29sdXRpb246IHJlc29sdXRpb24gfSk7XG4gICAgICAgICAgICAgICAgdGV4dHVyZXMucHVzaChuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSkpO1xuICAgICAgICAgICAgICAgIGZvbnREYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgICAgICBmaWxlOiAnJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1lYXN1cmUgZ2x5cGggZGltZW5zaW9uc1xuICAgICAgICAgICAgdmFyIG1ldHJpY3MgPSBUZXh0TWV0cmljcy5tZWFzdXJlVGV4dChjaGFyc0xpc3RbaV0sIHN0eWxlLCBmYWxzZSwgY2FudmFzKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IG1ldHJpY3Mud2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKG1ldHJpY3MuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdWdseSAtIGJ1dCBpdGFsaWNzIGFyZSBnaXZlbiBtb3JlIHNwYWNlIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcFxuICAgICAgICAgICAgdmFyIHRleHR1cmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKChzdHlsZS5mb250U3R5bGUgPT09ICdpdGFsaWMnID8gMiA6IDEpICogd2lkdGgpO1xuICAgICAgICAgICAgLy8gQ2FuJ3QgZml0IGNoYXIgYW55bW9yZTogbmV4dCBjYW52YXMgcGxlYXNlIVxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA+PSB0ZXh0dXJlSGVpZ2h0IC0gKGhlaWdodCAqIHJlc29sdXRpb24pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHVzZXIgZGVidWdnaW5nIGFuIGluZmluaXRlIGxvb3AgKG9yIGRvIHdlPyA6KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF0gdGV4dHVyZUhlaWdodCBcIiArIHRleHR1cmVIZWlnaHQgKyBcInB4IGlzIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcInRvbyBzbWFsbCBmb3IgXCIgKyBzdHlsZS5mb250U2l6ZSArIFwicHggZm9udHNcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBhdGxhcyBvbmNlIGN1cnJlbnQgaGFzIGZpbGxlZCB1cFxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IDA7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gMDtcbiAgICAgICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSBNYXRoLm1heChoZWlnaHQgKyBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQsIG1heENoYXJIZWlnaHQpO1xuICAgICAgICAgICAgLy8gV3JhcCBsaW5lIG9uY2UgZnVsbCByb3cgaGFzIGJlZW4gcmVuZGVyZWRcbiAgICAgICAgICAgIGlmICgodGV4dHVyZUdseXBoV2lkdGggKiByZXNvbHV0aW9uKSArIHBvc2l0aW9uWCA+PSBsaW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZICs9IG1heENoYXJIZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IE1hdGguY2VpbChwb3NpdGlvblkpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkcmF3R2x5cGgoY2FudmFzLCBjb250ZXh0LCBtZXRyaWNzLCBwb3NpdGlvblgsIHBvc2l0aW9uWSwgcmVzb2x1dGlvbiwgc3R5bGUpO1xuICAgICAgICAgICAgLy8gVW5pcXVlIChudW1lcmljKSBJRCBtYXBwaW5nIHRvIHRoaXMgZ2x5cGhcbiAgICAgICAgICAgIHZhciBpZCA9IG1ldHJpY3MudGV4dC5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdGV4dHVyZSBob2xkaW5nIGp1c3QgdGhlIGdseXBoXG4gICAgICAgICAgICBmb250RGF0YS5jaGFyLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBwYWdlOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIHg6IHBvc2l0aW9uWCAvIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgeTogcG9zaXRpb25ZIC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICB3aWR0aDogdGV4dHVyZUdseXBoV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgeG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB5b2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHhhZHZhbmNlOiBNYXRoLmNlaWwod2lkdGhcbiAgICAgICAgICAgICAgICAgICAgLSAoc3R5bGUuZHJvcFNoYWRvdyA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDApXG4gICAgICAgICAgICAgICAgICAgIC0gKHN0eWxlLnN0cm9rZSA/IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyA6IDApKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9zaXRpb25YICs9ICh0ZXh0dXJlR2x5cGhXaWR0aCArICgyICogcGFkZGluZykpICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHBvc2l0aW9uWCA9IE1hdGguY2VpbChwb3NpdGlvblgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gbmV3IEJpdG1hcEZvbnQoZm9udERhdGEsIHRleHR1cmVzKTtcbiAgICAgICAgLy8gTWFrZSBpdCBlYXNpZXIgdG8gcmVwbGFjZSBhIGZvbnRcbiAgICAgICAgaWYgKEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEJpdG1hcEZvbnQudW5pbnN0YWxsKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdID0gZm9udDtcbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIHRoZSBsZXR0ZXJzIGluIHRoZSBhbHBoYWJldCAoYm90aCBsb3dlci0gYW5kIHVwcGVyLSBjYXNlKS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbShcIkV4YW1wbGVGb250XCIsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250LkFMUEhBIH0pXG4gICAgICovXG4gICAgQml0bWFwRm9udC5BTFBIQSA9IFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCAnICddO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpbmNsdWRlcyBhbGwgZGVjaW1hbCBkaWdpdHMgKGZyb20gMCB0byA5KS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbShcIkV4YW1wbGVGb250XCIsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250Lk5VTUVSSUMgfSlcbiAgICAgKi9cbiAgICBCaXRtYXBGb250Lk5VTUVSSUMgPSBbWycwJywgJzknXV07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGlzIHRoZSB1bmlvbiBvZiBgQml0bWFwRm9udC5BTFBIQWAgYW5kIGBCaXRtYXBGb250Lk5VTUVSSUNgLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQUxQSEFOVU1FUklDID0gW1snYScsICd6J10sIFsnQScsICdaJ10sIFsnMCcsICc5J10sICcgJ107XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGNvbnNpc3RzIG9mIGFsbCB0aGUgQVNDSUkgdGFibGUuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICogQHNlZSBodHRwOi8vd3d3LmFzY2lpdGFibGUuY29tL1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQVNDSUkgPSBbWycgJywgJ34nXV07XG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBkZWZhdWx0IG9wdGlvbnMgd2hlbiB1c2luZyBgQml0bWFwRm9udC5mcm9tYC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250T3B0aW9uc31cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRleHR1cmVXaWR0aD01MTJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGV4dHVyZUhlaWdodD01MTJcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcGFkZGluZz00XG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd8c3RyaW5nW118c3RyaW5nW11bXX0gY2hhcnM9UElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIHRleHR1cmVXaWR0aDogNTEyLFxuICAgICAgICB0ZXh0dXJlSGVpZ2h0OiA1MTIsXG4gICAgICAgIHBhZGRpbmc6IDQsXG4gICAgICAgIGNoYXJzOiBCaXRtYXBGb250LkFMUEhBTlVNRVJJQyxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYXZhaWxhYmxlL2luc3RhbGxlZCBmb250cy5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgUElYSS5CaXRtYXBGb250Pn1cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LmF2YWlsYWJsZSA9IHt9O1xuICAgIHJldHVybiBCaXRtYXBGb250O1xufSgpKTtcbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbnRlcmZhY2UgSUJpdG1hcEZvbnRPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXX0gW2NoYXJzPVBJWEkuQml0bWFwRm9udC5BTFBIQU5VTUVSSUNdIC0gdGhlIGNoYXJhY3RlciBzZXQgdG8gZ2VuZXJhdGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIHRoZSByZXNvbHV0aW9uIGZvciByZW5kZXJpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGFkZGluZz00XSAtIHRoZSBwYWRkaW5nIGJldHdlZW4gZ2x5cGhzIGluIHRoZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlV2lkdGg9NTEyXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGV4dHVyZSBhdGxhc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlSGVpZ2h0PTUxMl0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0ZXh0dXJlIGF0bGFzXG4gKi9cblxudmFyIHBhZ2VNZXNoRGF0YVBvb2wgPSBbXTtcbnZhciBjaGFyUmVuZGVyRGF0YVBvb2wgPSBbXTtcbi8qKlxuICogQSBCaXRtYXBUZXh0IG9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dCB1c2luZyBiaXRtYXAgZm9udC5cbiAqXG4gKiBUaGUgcHJpbWFyeSBhZHZhbnRhZ2Ugb2YgdGhpcyBjbGFzcyBvdmVyIFRleHQgaXMgdGhhdCBhbGwgb2YgeW91ciB0ZXh0dXJlcyBhcmUgcHJlLWdlbmVyYXRlZCBhbmQgbG9hZGluZyxcbiAqIG1lYW5pbmcgdGhhdCByZW5kZXJpbmcgaXMgZmFzdCwgYW5kIGNoYW5naW5nIHRleHQgaGFzIG5vIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucy5cbiAqXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBQaXhpSlMgY2FuIGF1dG8tZ2VuZXJhdGUgZm9udHMgb24tdGhlLWZseSB1c2luZyBCaXRtYXBGb250IG9yIHVzZSBmbnQgZmlsZXMgcHJvdmlkZWQgYnk6XG4gKiBodHRwOi8vd3d3LmFuZ2VsY29kZS5jb20vcHJvZHVjdHMvYm1mb250LyBmb3IgV2luZG93cyBvclxuICogaHR0cDovL3d3dy5ibWdseXBoLmNvbS8gZm9yIE1hYy5cbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZC5cbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtmb250OiBcIjM1cHggRGVzeXJlbFwiLCBhbGlnbjogXCJyaWdodFwifSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwVGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQml0bWFwVGV4dCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIEEgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGUuZm9udE5hbWUgLSBUaGUgaW5zdGFsbGVkIEJpdG1hcEZvbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZvbnRTaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNC4gSWYgdW5kZWZpbmVkLFxuICAgICAqLiAgICAgdGhpcyB3aWxsIGRlZmF1bHQgdG8gdGhlIEJpdG1hcEZvbnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLFxuICAgICAqICAgICAgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS50aW50PTB4RkZGRkZGXSAtIFRoZSB0aW50IGNvbG9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGV0dGVyU3BhY2luZz0wXSAtIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5tYXhXaWR0aD0wXSAtIFRoZSBtYXggd2lkdGggb2YgdGhlIHRleHQgYmVmb3JlIGxpbmUgd3JhcHBpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQml0bWFwVGV4dCh0ZXh0LCBzdHlsZSkge1xuICAgICAgICBpZiAoc3R5bGUgPT09IHZvaWQgMCkgeyBzdHlsZSA9IHt9OyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl90aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIGlmIChzdHlsZS5mb250KSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0IGNvbnN0cnVjdG9yIHN0eWxlLmZvbnQgcHJvcGVydHkgaXMgZGVwcmVjYXRlZC4nKTtcbiAgICAgICAgICAgIF90aGlzLl91cGdyYWRlU3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFwcGx5IHRoZSBkZWZhdWx0c1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHt9LCBCaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMsIHN0eWxlKSwgYWxpZ24gPSBfYS5hbGlnbiwgdGludCA9IF9hLnRpbnQsIG1heFdpZHRoID0gX2EubWF4V2lkdGgsIGxldHRlclNwYWNpbmcgPSBfYS5sZXR0ZXJTcGFjaW5nLCBmb250TmFtZSA9IF9hLmZvbnROYW1lLCBmb250U2l6ZSA9IF9hLmZvbnRTaXplO1xuICAgICAgICBpZiAoIUJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBCaXRtYXBGb250IFxcXCJcIiArIGZvbnROYW1lICsgXCJcXFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHBhZ2UgbWVzaCBkYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dFdpZHRoID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0SGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dCBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRpbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gdGludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udCBuYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udE5hbWUgPSBmb250TmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udCBzaXplLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZSB8fCBCaXRtYXBGb250LmF2YWlsYWJsZVtmb250TmFtZV0uc2l6ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heFdpZHRoID0gbWF4V2lkdGg7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uIChJbnRlcm5hbGx5IHVzZWQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9tYXhMaW5lSGVpZ2h0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExldHRlciBzcGFjaW5nLiBUaGlzIGlzIHVzZWZ1bCBmb3Igc2V0dGluZyB0aGUgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IGFuY2hvci4gcmVhZC1vbmx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoZnVuY3Rpb24gKCkgeyBfdGhpcy5kaXJ0eSA9IHRydWU7IH0sIF90aGlzLCAwLCAwKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byBgdHJ1ZWAgaWYgdGhlIEJpdG1hcFRleHQgbmVlZHMgdG8gYmUgcmVkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCBjaGFyIHRleHR1cmUgaXMgZGVzdHJveWVkIHdoZW4gQml0bWFwVGV4dCBpcyBkZXN0cm95ZWRcbiAgICAgICAgICogQG1lbWJlciB7UmVjb3JkPG51bWJlciwgVGV4dHVyZT59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dHVyZUNhY2hlID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZFxuICAgICAqIGlmIHRoZSBCaXRtYXBGb250IGlzIHJlZ2VuZXJhdGVkLlxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGRhdGEgPSBCaXRtYXBGb250LmF2YWlsYWJsZVt0aGlzLl9mb250TmFtZV07XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2ZvbnRTaXplIC8gZGF0YS5zaXplO1xuICAgICAgICB2YXIgcG9zID0gbmV3IFBvaW50KCk7XG4gICAgICAgIHZhciBjaGFycyA9IFtdO1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IFtdO1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMuX3RleHQucmVwbGFjZSgvKD86XFxyXFxufFxccikvZywgJ1xcbicpIHx8ICcgJztcbiAgICAgICAgdmFyIHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgdmFyIG1heFdpZHRoID0gdGhpcy5fbWF4V2lkdGggKiBkYXRhLnNpemUgLyB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgdmFyIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gMDtcbiAgICAgICAgdmFyIGxhc3RCcmVha1BvcyA9IC0xO1xuICAgICAgICB2YXIgbGFzdEJyZWFrV2lkdGggPSAwO1xuICAgICAgICB2YXIgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lSGVpZ2h0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dC5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChjaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IGk7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcbiAgICAgICAgICAgIGlmICghY2hhckRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmV2Q2hhckNvZGUgJiYgY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdKSB7XG4gICAgICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYXJSZW5kZXJEYXRhID0gY2hhclJlbmRlckRhdGFQb29sLnBvcCgpIHx8IHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBUZXh0dXJlLkVNUFRZLFxuICAgICAgICAgICAgICAgIGxpbmU6IDAsXG4gICAgICAgICAgICAgICAgY2hhckNvZGU6IDAsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb2ludCgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnRleHR1cmUgPSBjaGFyRGF0YS50ZXh0dXJlO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEubGluZSA9IGxpbmU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5jaGFyQ29kZSA9IGNoYXJDb2RlO1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEucG9zaXRpb24ueCA9IHBvcy54ICsgY2hhckRhdGEueE9mZnNldCArICh0aGlzLl9sZXR0ZXJTcGFjaW5nIC8gMik7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wb3NpdGlvbi55ID0gcG9zLnkgKyBjaGFyRGF0YS55T2Zmc2V0O1xuICAgICAgICAgICAgY2hhcnMucHVzaChjaGFyUmVuZGVyRGF0YSk7XG4gICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZSArIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gcG9zLng7XG4gICAgICAgICAgICBtYXhMaW5lSGVpZ2h0ID0gTWF0aC5tYXgobWF4TGluZUhlaWdodCwgKGNoYXJEYXRhLnlPZmZzZXQgKyBjaGFyRGF0YS50ZXh0dXJlLmhlaWdodCkpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICAgICAgICBpZiAobGFzdEJyZWFrUG9zICE9PSAtMSAmJiBtYXhXaWR0aCA+IDAgJiYgcG9zLnggPiBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyhjaGFycywgMSArIGxhc3RCcmVha1BvcyAtIHNwYWNlc1JlbW92ZWQsIDEgKyBpIC0gbGFzdEJyZWFrUG9zKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdEJyZWFrUG9zO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IC0xO1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbGFzdENoYXIgPSB0ZXh0LmNoYXJBdCh0ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICBpZiAobGFzdENoYXIgIT09ICdcXHInICYmIGxhc3RDaGFyICE9PSAnXFxuJykge1xuICAgICAgICAgICAgaWYgKCgvKD86XFxzKS8pLnRlc3QobGFzdENoYXIpKSB7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGxhc3RCcmVha1dpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZUFsaWduT2Zmc2V0cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBsaW5lOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhbGlnbk9mZnNldCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lQWxpZ25PZmZzZXRzLnB1c2goYWxpZ25PZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIHBhZ2VzTWVzaERhdGEgPSB7fTtcbiAgICAgICAgdmFyIG5ld1BhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICAgICAgdmFyIGFjdGl2ZVBhZ2VzTWVzaERhdGEgPSB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZ2VNZXNoRGF0YVBvb2wucHVzaChhY3RpdmVQYWdlc01lc2hEYXRhW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gY2hhcnNbaV0udGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZVVpZCA9IHRleHR1cmUuYmFzZVRleHR1cmUudWlkO1xuICAgICAgICAgICAgaWYgKCFwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXSkge1xuICAgICAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlTWVzaERhdGFQb29sLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICghcGFnZU1lc2hEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbChUZXh0dXJlLkVNUFRZKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc2ggPSBuZXcgTWVzaChnZW9tZXRyeSwgbWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2c0NvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNoOiBtZXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB1dnM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXNldCBkYXRhLi5cbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEuaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnNDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnRvdGFsID0gMDtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIG5lZWQgdG8gZ2V0IHBhZ2UgdGV4dHVyZSBoZXJlIHNvbWVob3cuLlxuICAgICAgICAgICAgICAgIHZhciBfdGV4dHVyZUNhY2hlID0gdGhpcy5fdGV4dHVyZUNhY2hlO1xuICAgICAgICAgICAgICAgIF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdID0gX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF0gfHwgbmV3IFRleHR1cmUodGV4dHVyZS5iYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGV4dHVyZSA9IF90ZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVVaWRdO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRpbnQgPSB0aGlzLl90aW50O1xuICAgICAgICAgICAgICAgIG5ld1BhZ2VzTWVzaERhdGEucHVzaChwYWdlTWVzaERhdGEpO1xuICAgICAgICAgICAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdID0gcGFnZU1lc2hEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0udG90YWwrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXRzIGZpbmQgYW55IHByZXZpb3VzbHkgYWN0aXZlIHBhZ2VNZXNoRGF0YXMgdGhhdCBhcmUgbm8gbG9uZ2VyIHJlcXVpcmVkIGZvclxuICAgICAgICAvLyB0aGUgdXBkYXRlZCB0ZXh0IChpZiBhbnkpLCByZW1vdmVkIGFuZCByZXR1cm4gdGhlbSB0byB0aGUgcG9vbC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YS5pbmRleE9mKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IGxldHMgYWRkIGFueSBuZXcgbWVzaGVzLCB0aGF0IGhhdmUgbm90IHlldCBiZWVuIGFkZGVkIHRvIHRoaXMgQml0bWFwVGV4dFxuICAgICAgICAvLyB3ZSBvbmx5IGFkZCBpZiBpdHMgbm90IGFscmVhZHkgYSBjaGlsZCBvZiB0aGlzIEJpdG1hcE9iamVjdFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1BhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gucGFyZW50ICE9PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXdQYWdlc01lc2hEYXRhW2ldLm1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFjdGl2ZSBwYWdlIG1lc2ggZGF0YXMgYXJlIHNldCB0byBiZSB0aGUgbmV3IHBhZ2VzIGFkZGVkLlxuICAgICAgICB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gbmV3UGFnZXNNZXNoRGF0YTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBwYWdlc01lc2hEYXRhKSB7XG4gICAgICAgICAgICB2YXIgcGFnZU1lc2hEYXRhID0gcGFnZXNNZXNoRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB0b3RhbCA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcbiAgICAgICAgICAgIC8vIGxldHMgb25seSBhbGxvY2F0ZSBuZXcgYnVmZmVycyBpZiB3ZSBjYW4gZml0IHRoZSBuZXcgdGV4dCBpbiB0aGUgY3VycmVudCBvbmVzLi5cbiAgICAgICAgICAgIC8vIHVubGVzcyB0aGF0IGlzLCB3ZSB3aWxsIGJlIGJhdGNoaW5nLiBDdXJyZW50bHkgYmF0Y2hpbmcgZG9zZSBub3QgcmVzcGVjdCB0aGUgc2l6ZSBwcm9wZXJ0eSBvZiBtZXNoXG4gICAgICAgICAgICBpZiAoISgoKF9hID0gcGFnZU1lc2hEYXRhLmluZGljZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZW5ndGgpID4gNiAqIHRvdGFsKSB8fCBwYWdlTWVzaERhdGEudmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0b3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxfMSA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcbiAgICAgICAgICAgICAgICB2YXIgdmVydGljZXMgPSBwYWdlTWVzaERhdGEudmVydGljZXM7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGdhcmJhZ2UgYXQgdGhlIGVuZCBvZiB0aGUgdmVydGljZXMgYnVmZmVyLiBUaGlzIHdpbGwgcHJldmVudCB0aGUgYm91bmRzIG1pc2NhbGN1bGF0aW9uLlxuICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHRvdGFsXzEgKiA0ICogMjsgaV8xIDwgdmVydGljZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1tpXzFdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhcyBhIGJ1ZmZlciBtYXliZSBiaWdnZXIgdGhhbiB0aGUgY3VycmVudCB3b3JkLCB3ZSBzZXQgdGhlIHNpemUgb2YgdGhlIG1lc2hNYXRlcmlhbFxuICAgICAgICAgICAgLy8gdG8gbWF0Y2ggdGhlIG51bWJlciBvZiBsZXR0ZXJzIG5lZWRlZFxuICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2guc2l6ZSA9IDYgKiB0b3RhbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcnNbaV07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gY2hhci5wb3NpdGlvbi54ICsgbGluZUFsaWduT2Zmc2V0c1tjaGFyLmxpbmVdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5yb3VuZChvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHhQb3MgPSBvZmZzZXQgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB5UG9zID0gY2hhci5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNoYXIudGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaCA9IHBhZ2VzTWVzaERhdGFbdGV4dHVyZS5iYXNlVGV4dHVyZS51aWRdO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IHRleHR1cmUuX3V2cztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhZ2VNZXNoLmluZGV4Kys7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMF0gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMV0gPSAxICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMl0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgM10gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNF0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNV0gPSAzICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDBdID0geFBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMV0gPSB5UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAyXSA9IHhQb3MgKyAodGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAzXSA9IHlQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDRdID0geFBvcyArICh0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDVdID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA2XSA9IHhQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDddID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMl0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgM10gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNF0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNV0gPSB0ZXh0dXJlVXZzLnkyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNl0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgN10gPSB0ZXh0dXJlVXZzLnkzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgICAgICAgLy8gYXBwbHkgYW5jaG9yXG4gICAgICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yT2Zmc2V0WCA9IHRoaXMuX3RleHRXaWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldFkgPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzIgPSAwOyBpXzIgPCBwYWdlTWVzaERhdGEudG90YWw7IGlfMisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnV2cztcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEuaW5kaWNlcztcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YVBvb2wucHVzaChjaGFyc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0aW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweGZmZmZmZlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW50ID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoLnRpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbGlnblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udE5hbWVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIEJpdG1hcEZvbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnROYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVt2YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEJpdG1hcEZvbnQgXFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udE5hbWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udE5hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCB0byBkaXNwbGF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50IHwgbnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcIm1heFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB0aGUgdmFsdWUgdG8gMC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcIm1heExpbmVIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGkuZS4gd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImxldHRlclNwYWNpbmdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkaXRpb25hbCBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwicm91bmRQaXhlbHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0SGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBGb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgY29udmVydCBvbGQgc3R5bGUuZm9udCBjb25zdHJ1Y3RvciBwYXJhbSB0byBmb250TmFtZSAmIGZvbnRTaXplIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuX3VwZ3JhZGVTdHlsZSA9IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICBpZiAodHlwZW9mIHN0eWxlLmZvbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVTcGxpdCA9IHN0eWxlLmZvbnQuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgIHN0eWxlLmZvbnROYW1lID0gdmFsdWVTcGxpdC5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICAgICA/IHZhbHVlU3BsaXRbMF1cbiAgICAgICAgICAgICAgICA6IHZhbHVlU3BsaXQuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgaWYgKHZhbHVlU3BsaXQubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICBzdHlsZS5mb250U2l6ZSA9IHBhcnNlSW50KHZhbHVlU3BsaXRbMF0sIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlLmZvbnROYW1lID0gc3R5bGUuZm9udC5uYW1lO1xuICAgICAgICAgICAgc3R5bGUuZm9udFNpemUgPSB0eXBlb2Ygc3R5bGUuZm9udC5zaXplID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgID8gc3R5bGUuZm9udC5zaXplXG4gICAgICAgICAgICAgICAgOiBwYXJzZUludChzdHlsZS5mb250LnNpemUsIDEwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGV4dHVyZUNhY2hlID0gdGhpcy5fdGV4dHVyZUNhY2hlO1xuICAgICAgICBmb3IgKHZhciBpZCBpbiBfdGV4dHVyZUNhY2hlKSB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IF90ZXh0dXJlQ2FjaGVbaWRdO1xuICAgICAgICAgICAgdGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgX3RleHR1cmVDYWNoZVtpZF07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dHVyZUNhY2hlID0gbnVsbDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGJpdG1hcCBmb250IHdpdGggZGF0YSBhbmQgYSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udC5pbnN0YWxsXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIEJpdG1hcFRleHQucmVnaXN0ZXJGb250ID0gZnVuY3Rpb24gKGRhdGEsIHRleHR1cmVzKSB7XG4gICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQucmVnaXN0ZXJGb250IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkJpdG1hcEZvbnQuaW5zdGFsbCcpO1xuICAgICAgICByZXR1cm4gQml0bWFwRm9udC5pbnN0YWxsKGRhdGEsIHRleHR1cmVzKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LCBcImZvbnRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbGlzdCBvZiBpbnN0YWxsZWQgZm9udHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgUElYSS5CaXRtYXBGb250Pn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dC5mb250cyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5CaXRtYXBGb250LmF2YWlsYWJsZScpO1xuICAgICAgICAgICAgcmV0dXJuIEJpdG1hcEZvbnQuYXZhaWxhYmxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQml0bWFwVGV4dC5zdHlsZURlZmF1bHRzID0ge1xuICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgbWF4V2lkdGg6IDAsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgfTtcbiAgICByZXR1cm4gQml0bWFwVGV4dDtcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0gbWlkZGxld2FyZSBmb3IgbG9hZGluZ1xuICogYml0bWFwLWJhc2VkIGZvbnRzIHN1aXRhYmxlIGZvciB1c2luZyB3aXRoIHtAbGluayBQSVhJLkJpdG1hcFRleHR9LlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbnZhciBCaXRtYXBGb250TG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnRMb2FkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBwbHVnaW4gaXMgaW5zdGFsbGVkLlxuICAgICAqXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5yZWdpc3RlclBsdWdpblxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIuYWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIEJpdG1hcEZvbnRMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSBhdXRvRGV0ZWN0Rm9ybWF0KHJlc291cmNlLmRhdGEpO1xuICAgICAgICAvLyBSZXNvdXJjZSB3YXMgbm90IHJlY29nbmlzZWQgYXMgYW55IG9mIHRoZSBleHBlY3RlZCBmb250IGRhdGEgZm9ybWF0XG4gICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhc2VVcmwgPSBCaXRtYXBGb250TG9hZGVyLmdldEJhc2VVcmwodGhpcywgcmVzb3VyY2UpO1xuICAgICAgICB2YXIgZGF0YSA9IGZvcm1hdC5wYXJzZShyZXNvdXJjZS5kYXRhKTtcbiAgICAgICAgdmFyIHRleHR1cmVzID0ge307XG4gICAgICAgIC8vIEhhbmRsZSBjb21wbGV0ZWQsIHdoZW4gdGhlIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAvLyBsb2FkIGlzIHRoZSBzYW1lIG51bWJlciBhcyByZWZlcmVuY2VzIGluIHRoZSBmbnQgZmlsZVxuICAgICAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgICAgIHRleHR1cmVzW3BhZ2UubWV0YWRhdGEucGFnZUZpbGVdID0gcGFnZS50ZXh0dXJlO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRleHR1cmVzKS5sZW5ndGggPT09IGRhdGEucGFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5iaXRtYXBGb250ID0gQml0bWFwRm9udC5pbnN0YWxsKGRhdGEsIHRleHR1cmVzKTtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5wYWdlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgcGFnZUZpbGUgPSBkYXRhLnBhZ2VbaV0uZmlsZTtcbiAgICAgICAgICAgIHZhciB1cmwgPSBiYXNlVXJsICsgcGFnZUZpbGU7XG4gICAgICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBpbmNhc2UgdGhlIGltYWdlIGlzIGxvYWRlZCBvdXRzaWRlXG4gICAgICAgICAgICAvLyB1c2luZyB0aGUgc2FtZSBsb2FkZXIsIHJlc291cmNlIHdpbGwgYmUgYXZhaWxhYmxlXG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJpdG1hcFJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnVybCA9PT0gdXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm1ldGFkYXRhLnBhZ2VGaWxlID0gcGFnZUZpbGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRtYXBSZXNvdXJjZS50ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWQoYml0bWFwUmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuYWRkKGNvbXBsZXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGV4dHVyZSBpcyBub3QgbG9hZGVkLCB3ZSdsbCBhdHRlbXB0IHRvIGFkZFxuICAgICAgICAgICAgLy8gaXQgdG8gdGhlIGxvYWQgYW5kIGFkZCB0aGUgdGV4dHVyZSB0byB0aGUgbGlzdFxuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgICAgICAvLyBTdGFuZGFyZCBsb2FkaW5nIG9wdGlvbnMgZm9yIGltYWdlc1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgIGxvYWRUeXBlOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBPYmplY3QuYXNzaWduKHsgcGFnZUZpbGU6IHBhZ2VGaWxlIH0sIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEpLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZCh1cmwsIG9wdGlvbnMsIGNvbXBsZXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBmb2xkZXIgcGF0aCBmcm9tIGEgcmVzb3VyY2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJ9IGxvYWRlclxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5nZXRCYXNlVXJsID0gZnVuY3Rpb24gKGxvYWRlciwgcmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIHJlc1VybCA9ICFyZXNvdXJjZS5pc0RhdGFVcmwgPyBCaXRtYXBGb250TG9hZGVyLmRpcm5hbWUocmVzb3VyY2UudXJsKSA6ICcnO1xuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICBpZiAocmVzVXJsID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICByZXNVcmwgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsb2FkZXIuYmFzZVVybCAmJiByZXNVcmwpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBiYXNldXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoIHRoZW4gYWRkIG9uZSB0byByZXNVcmwgc28gdGhlIHJlcGxhY2Ugd29ya3MgYmVsb3dcbiAgICAgICAgICAgICAgICBpZiAobG9hZGVyLmJhc2VVcmwuY2hhckF0KGxvYWRlci5iYXNlVXJsLmxlbmd0aCAtIDEpID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzVXJsICs9ICcvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSByZXNVcmxcbiAgICAgICAgcmVzVXJsID0gcmVzVXJsLnJlcGxhY2UobG9hZGVyLmJhc2VVcmwsICcnKTtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW4gcmVzVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgICAgICBpZiAocmVzVXJsICYmIHJlc1VybC5jaGFyQXQocmVzVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpIHtcbiAgICAgICAgICAgIHJlc1VybCArPSAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc1VybDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlcGxhY2VtZW50IGZvciBOb2RlSlMncyBwYXRoLmRpcm5hbWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBQYXRoIHRvIGdldCBkaXJlY3RvcnkgZm9yXG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5kaXJuYW1lID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgZGlyID0gdXJsXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCAnLycpIC8vIGNvbnZlcnQgd2luZG93cyBub3RhdGlvbiB0byBVTklYIG5vdGF0aW9uLCBVUkwtc2FmZSBiZWNhdXNlIGl0J3MgYSBmb3JiaWRkZW4gY2hhcmFjdGVyXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvJC8sICcnKSAvLyByZXBsYWNlIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvW15cXC9dKiQvLCAnJyk7IC8vIHJlbW92ZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBsYXN0XG4gICAgICAgIC8vIEZpbGUgcmVxdWVzdCBpcyByZWxhdGl2ZSwgdXNlIGN1cnJlbnQgZGlyZWN0b3J5XG4gICAgICAgIGlmIChkaXIgPT09IHVybCkge1xuICAgICAgICAgICAgcmV0dXJuICcuJztcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydGVkIHdpdGggYSBzbGFzaFxuICAgICAgICBlbHNlIGlmIChkaXIgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXI7XG4gICAgfTtcbiAgICByZXR1cm4gQml0bWFwRm9udExvYWRlcjtcbn0oKSk7XG5cbmV4cG9ydCB7IEJpdG1hcEZvbnQsIEJpdG1hcEZvbnREYXRhLCBCaXRtYXBGb250TG9hZGVyLCBCaXRtYXBUZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LWJpdG1hcC5lcy5qcy5tYXBcbiJdLCJzb3VyY2VSb290IjoiIn0=